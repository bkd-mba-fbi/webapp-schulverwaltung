<div
  class="erz-container erz-container-limited erz-container-padding-y erz-container-padding-x-responsive"
>
  <ng-container
    *erzLet="{
      profile: state.profile$ | async,
      reportUrl: dossierGradesService.testReportUrl$ | async
    } as data"
  >
    <ng-container *ngIf="(state.loading$ | async) === false; else loading">
      <div class="d-flex w-100 justify-content-between">
        <erz-student-backlink
          class="mb-2"
          [link]="link$ | async"
          [queryParams]="queryParams$ | async"
          [studentId]="state.studentId$ | async"
          [student]="data.profile && data.profile.student"
        ></erz-student-backlink>

        <div class="mr-3">
          <a
            *ngIf="data.reportUrl"
            class="edit btn btn-primary ml-2"
            target="_blank"
            [href]="data.reportUrl"
          >
            <i class="material-icons">description</i>
          </a>
        </div>
      </div>
      <div *ngIf="data.profile; else noProfile">
        <router-outlet></router-outlet>
      </div>

      <ng-template #noProfile>
        <p>{{ 'shared.profile.no-profile' | translate }}</p>
      </ng-template>
    </ng-container>

    <ng-template #loading>
      <erz-spinner></erz-spinner>
    </ng-template>
  </ng-container>
</div>
