<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
@let event = state.event();

<div class="bkd-container">
  @if (state.loading()) {
    <bkd-spinner></bkd-spinner>
  } @else if (!event) {
    <p class="mt-3 px-3">{{ "evaluation.no-event" | translate }}</p>
  } @else {
    @if (event) {
      <bkd-evaluation-header
        [event]="event"
        [showActions]="false"
      ></bkd-evaluation-header>
      <div class="d-flex flex-column">
        <div class="statistic-values px-3">
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.average" | translate }}
            </div>
            <div class="col">
              {{ average() }}
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.standard-deviation" | translate }}
            </div>
            <div class="col">{{ standartDeviation() }}</div>
          </div>
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.amount-of-notes" | translate }}
            </div>
            <div class="col">
              {{ entries().length }}
            </div>
          </div>
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.highest-note" | translate }}
            </div>
            <div class="col">{{ highestGrade() }}</div>
          </div>
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.lowest-note" | translate }}
            </div>
            <div class="col">{{ lowestGrade() }}</div>
          </div>
          <div class="row">
            <div class="col-8 col-sm-4 col-md-3 col-lg-2">
              {{ "evaluation.statistics.unsufficient" | translate }}
            </div>
            <div class="col">{{ unsufficientCount() }}</div>
          </div>
        </div>

        <bkd-evaluation-chart
          [entries]="state.entries()"
          [gradingScale]="state.gradingScale()"
        ></bkd-evaluation-chart>
      </div>
    }
  }
</div>
