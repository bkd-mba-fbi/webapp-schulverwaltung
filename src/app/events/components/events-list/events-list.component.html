<div
  class="erz-container erz-container-padding-y erz-container-padding-x-responsive"
  *erzLet="{ events: state.events$ | async } as data"
>
  <p>
    <a [routerLink]="['9248', 'tests']">Kurs mit ID 9248 - enthÃ¤lt Tests</a>
  </p>
  <p><a [routerLink]="['9457', 'tests']">Kurs mit ID 9457 - ohne Tests</a></p>

  <ng-container *ngIf="(state.loading$ | async) === false; else loading">
    <ng-container *ngIf="data.events?.length > 0; else noEvents">
      <div class="event-header">
        <div class="designation">{{ 'events.designation' | translate }}</div>
        <div class="date">{{ 'events.date' | translate }}</div>
        <div class="registrations">
          {{ 'events.registrations' | translate }}
        </div>
        <div class="rating">{{ 'events.rating' | translate }}</div>
      </div>
      <div class="event-entry" *ngFor="let event of data.events">
        <div class="designation">
          <a [href]="event.detailLink">{{ event.designation }}</a>
        </div>
        <div class="date">
          <span *ngIf="event.dateFrom && event.dateTo"
            >{{ event.dateFrom | date: 'dd.MM.yyyy' }}â€“{{
              event.dateTo | date: 'dd.MM.yyyy'
            }}</span
          >
        </div>
        <div class="registrations">{{ event.studentCount }}</div>
        <div class="rating">
          <a
            *ngIf="event.evaluationLink === null && event.status !== null"
            class="d-flex"
            [routerLink]="[event.id, 'tests']"
          >
            <i class="material-icons">arrow_right_alt</i>
            <span class="pl-2">{{ 'events.state.add-tests' | translate }}</span>
          </a>
          <a
            *ngIf="event.evaluationLink !== null"
            class="d-flex"
            [href]="event.evaluationLink"
          >
            <i class="material-icons">arrow_right_alt</i>
            <span class="pl-2"
              >{{ 'events.state.' + event.state | translate }}
              <span *ngIf="event.state === 'rating-until'">
                {{ event.ratingUntil | date: 'dd.MM.yyyy' }}</span
              >
            </span>
          </a>
        </div>
      </div>
    </ng-container>

    <ng-template #noEvents>
      <p>{{ 'events.no-events' | translate }}</p>
    </ng-template>
  </ng-container>

  <ng-template #loading>
    <erz-spinner></erz-spinner>
  </ng-template>
</div>
