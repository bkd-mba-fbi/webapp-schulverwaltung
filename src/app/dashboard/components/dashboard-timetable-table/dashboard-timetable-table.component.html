@if (entries.length > 0) {
  <table class="table">
    <thead>
      <tr>
        <th>{{ "dashboard.timetable.table.time" | translate }}</th>
        <th>{{ "dashboard.timetable.table.subject" | translate }}</th>
        @if (isStudent$ | async) {
          <th>
            {{ "dashboard.timetable.table.teacher" | translate }}
          </th>
        }
        <th>
          {{ "dashboard.timetable.table.room" | translate }}
        </th>
      </tr>
    </thead>
    <tbody>
      @for (group of entries; track group) {
        <tr>
          <td class="time">
            {{ group.from | date: "HH:mm" }}â€“{{ group.until | date: "HH:mm" }}
          </td>
          <td class="subject">
            @for (entry of group.entries; track entry.id) {
              @if (isTeacher$ | async) {
                @let link = buildLink(entry.eventId);
                <a [routerLink]="link.link" [queryParams]="link.params">
                  {{ entry.subject
                  }}<span class="subject-study-class"
                    >, {{ entry.studyClass }}</span
                  >
                </a>
              } @else {
                {{ entry.subject }}
              }
              <br />
            }
          </td>
          @if (isTeacher$ | async) {
            <td class="study-class">
              <!-- Only visible on mobile, styled via grid (not a column) -->
              @for (entry of group.entries; track entry.id) {
                {{ "dashboard.timetable.table.study-class" | translate }}:
                {{ entry.studyClass }}
                <br />
              }
            </td>
          }
          @if (isStudent$ | async) {
            <td class="teacher">
              @for (entry of group.entries; track entry.id) {
                {{ entry.teacher }}
                <br />
              }
            </td>
          }
          <td class="room">
            @for (entry of group.entries; track entry.id) {
              @if (entry.room) {
                <span class="room-label">{{
                  "dashboard.timetable.table.room" | translate
                }}</span>
              }
              {{ entry.room }}
              <br />
            }
          </td>
        </tr>
      }
    </tbody>
  </table>
} @else {
  <p>{{ "dashboard.timetable.no-entries" | translate }}</p>
}
