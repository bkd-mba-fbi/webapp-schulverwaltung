<ng-container
  *erzLet="{
    hasLessons: hasLessons$ | async,
    checkableAbsencesCount: checkableAbsencesCount$ | async,
    hasLessonTeacherRole: hasLessonTeacherRole$ | async,
    hasClassTeacherRole: hasClassTeacherRole$ | async,
    unconfirmedCount: unconfirmedCount$ | async,
    hasTeacherRole: hasTeacherRole$ | async,
    hasStudentRole: hasStudentRole$ | async,
    openAbsencesCount: openAbsencesCount$ | async,
    hasSubstituteAdministratorRoleRole:
      hasSubstituteAdministratorRoleRole$ | async
  } as data"
>
  <erz-action
    *ngIf="data.hasLessonTeacherRole && data.hasLessons"
    [title]="'dashboard.actions.presence-control'"
    [link]="['/presence-control']"
  ></erz-action>

  <erz-action
    *ngIf="data.hasLessonTeacherRole"
    [title]="'dashboard.actions.edit-absences'"
    [link]="['/edit-absences']"
    [linkParams]="editAbsencesParams"
    [count]="data.checkableAbsencesCount"
  ></erz-action>

  <erz-action
    *ngIf="
      data.unconfirmedCount > 0 &&
      (data.hasLessonTeacherRole || data.hasClassTeacherRole)
    "
    [title]="'dashboard.actions.open-absences'"
    [link]="['/open-absences']"
    [count]="data.unconfirmedCount"
  ></erz-action>

  <erz-action
    *ngIf="data.hasTeacherRole"
    [title]="'dashboard.actions.tests'"
    [link]="['/events']"
  ></erz-action>

  <erz-action
    *ngIf="data.hasStudentRole"
    [title]="'dashboard.actions.my-absences-report'"
    [link]="['/my-absences', 'report']"
  >
  </erz-action>

  <erz-action
    *ngIf="data.hasStudentRole"
    [title]="'dashboard.actions.my-absences'"
    [link]="['/my-absences']"
    [count]="data.openAbsencesCount"
  ></erz-action>

  <erz-action
    *ngIf="data.hasSubstituteAdministratorRoleRole"
    [title]="'dashboard.actions.substitutions'"
    [externalLink]="substitutionsAdminLink"
  ></erz-action>
</ng-container>
