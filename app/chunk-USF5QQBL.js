import{ha as r}from"./chunk-CHBP6U4G.js";var l="uiCulture",i="CLX.LoginToken",d="CLX.RefreshToken",g="CLX.TokenExpire",E=(()=>{class o{getLanguage(){return this.getValue(l)}getAccessToken(){let e=this.getValue(i);return e?e.replace(/^"+|"+$/g,""):null}getRefreshToken(){return this.getValue(d)}getTokenExpire(){return this.getValue(g)}getPayload(){let e=this.getAccessToken();if(!e)return null;let t=this.parseTokenPayload(e);return t.roles="holder_roles"in t&&typeof t.holder_roles=="string"?t.holder_roles:t.roles,t}getValue(e){return sessionStorage.getItem(e)||localStorage.getItem(e)}parseTokenPayload(e){let t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT token format");let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),a=atob(n),s=new TextDecoder("utf-8").decode(Uint8Array.from(a,c=>c.charCodeAt(0)));return JSON.parse(s)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{E as a};
