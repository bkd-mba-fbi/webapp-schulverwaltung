import{a as we,b as ie}from"./chunk-45JTZVDF.js";import{g as Se}from"./chunk-VPK5QO7U.js";import{a as x}from"./chunk-KG7WGTAP.js";import{h as X,i as ve,k as G,u as Z,v as ee,w as H,x as De}from"./chunk-Q6TACXIT.js";import{Aa as ae,Ab as w,Cc as J,Dc as U,Fb as A,Gb as a,Hb as ue,Ia as g,Ib as B,Ja as l,Ka as le,Mb as D,Ob as ce,Pb as O,Pc as u,Qb as Y,Rb as s,S as oe,Sb as d,Tb as j,Vd as be,Wd as P,Xb as C,Zb as _,Zd as R,_b as r,be as W,da as Q,ee as $,hb as m,hc as q,ic as z,j as K,ja as re,jc as pe,je as ge,kc as y,ke as ye,lc as me,le as xe,mb as se,mc as k,nc as _e,pb as E,qc as F,rb as b,rc as I,re as S,sc as L,tc as N,ub as f,uc as he,v as ne,vc as T,ve as te,wa as c,wb as de,wc as fe,xa as p,xc as Ce}from"./chunk-GUP4UHKK.js";var Ve=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R"),this.items=u(()=>this.detail().DropdownItems?.filter(e=>e.IsActive)),this.typeahead=E.required(H),this.destroy$=new K,this.search=e=>e.pipe(oe(),ne(this.findSuggestions.bind(this)))}ngAfterViewInit(){this.typeahead().selectItem.pipe(Q(this.destroy$)).subscribe(({item:e})=>this.onSelect(e))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onChange(e){let{value:t}=e.target;this.value.set(t||null)}onBlur(){this.commit.emit(this.value()??null)}onSelect(e){this.value.set(e),this.commit.emit(e??null)}findSuggestions(e){if(e.length<2)return[];let t=e.toLowerCase();return(this.items()??[]).filter(i=>i.Value.toLowerCase().includes(t)).slice(0,10).map(i=>i.Value)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-combobox"]],viewQuery:function(t,i){t&1&&q(i.typeahead,H,5),t&2&&z()},inputs:{detail:[1,"detail"],id:[1,"id"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:2,vars:4,consts:[["input",""],["type","text",1,"form-control",3,"input","blur","id","disabled","value","ngbTypeahead"]],template:function(t,i){if(t&1){let o=C();s(0,"input",1,0),_("input",function(M){return c(o),p(i.onChange(M))})("blur",function(){return c(o),p(i.onBlur())}),d()}t&2&&a("id",i.id())("disabled",i.readonly())("value",i.value())("ngbTypeahead",i.search)},dependencies:[S,De,H],encapsulation:2,changeDetection:0})}}return n})();var Me=(()=>{class n extends X{constructor(){super(...arguments),this.parserFormatter=new ie}fromModel(e){return this.parserFormatter.parse(e??"")}toModel(e){return e?this.parserFormatter.format(e):null}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=ae(n)))(i||n)}})()}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();var Re="dd.MM.yyyy",Fe=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R"),this.normalizedValue=u(()=>this.value()?String(this.value()):null),this.datepicker=E.required(G),this.destroy$=new K}ngAfterViewInit(){this.datepicker().dateSelect.pipe(Q(this.destroy$)).subscribe(()=>this.onSelect())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onChange(e){this.value.set(e)}onBlur(){let e=we(String(this.value()),Re,new Date);Se(e)||this.value.set(null),this.commit.emit(this.value()??null)}onSelect(){this.commit.emit(this.value()??null)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-datefield"]],viewQuery:function(t,i){t&1&&q(i.datepicker,G,5),t&2&&z()},inputs:{detail:[1,"detail"],id:[1,"id"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},features:[fe([{provide:X,useClass:Me},{provide:ve,useClass:ie}])],decls:7,vars:7,consts:[["dp","ngbDatepicker"],[1,"input-group"],[1,"input-group-text",3,"id"],[1,"material-icons"],["type","text","ngbDatepicker","",1,"form-control",3,"ngModelChange","blur","click","id","placeholder","disabled","ngModel"]],template:function(t,i){if(t&1){let o=C();s(0,"div",1)(1,"span",2)(2,"i",3),y(3,"calendar_today"),d()(),s(4,"input",4,0),J(6,"translate"),_("ngModelChange",function(M){return c(o),p(i.onChange(M))})("blur",function(){return c(o),p(i.onBlur())})("click",function(){c(o);let M=pe(5);return p(M.toggle())}),d()()}t&2&&(m(),a("id",i.id()),m(3),a("id",i.id())("placeholder",U(6,5,"shared.date-select.default-placeholder"))("disabled",i.readonly())("ngModel",i.normalizedValue()))},dependencies:[S,P,R,W,G,te],encapsulation:2,changeDetection:0})}}return n})();var Ie=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-description"]],inputs:{detail:[1,"detail"],id:[1,"id"]},decls:2,vars:2,consts:[[3,"id"]],template:function(t,i){t&1&&(s(0,"div",0),y(1),d()),t&2&&(a("id",i.id()),m(),me(i.detail().Value))},encapsulation:2,changeDetection:0})}}return n})();var Le=(()=>{class n{constructor(){this.detail=l.required()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-heading"]],inputs:{detail:[1,"detail"]},decls:2,vars:2,consts:[[3,"ngbTooltip"]],template:function(t,i){t&1&&(s(0,"div",0),y(1),d()),t&2&&(a("ngbTooltip",i.detail().Tooltip),m(),k(" ",i.detail().VssDesignation," "))},dependencies:[ee,Z],styles:["[_nghost-%COMP%]{font-weight:700}div[_ngcontent-%COMP%]{display:inline-flex}"],changeDetection:0})}}return n})();function We(n,h){if(n&1&&(s(0,"label",0),y(1),d()),n&2){let e=r();a("ngbTooltip",e.detail().Tooltip),A("for",e.id()),m(),_e(" ",e.detail().VssDesignation," ",e.required()?"*":""," ")}}var Ne=(()=>{class n{constructor(){this.detail=b.required(),this.id=l.required(),this.hideLabel=l.required(),this.required=u(()=>this.detail().VssInternet==="M")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-label"]],inputs:{detail:[1,"detail"],id:[1,"id"],hideLabel:[1,"hideLabel"]},outputs:{detail:"detailChange"},decls:1,vars:1,consts:[[1,"form-label",3,"ngbTooltip"]],template:function(t,i){t&1&&w(0,We,2,4,"label",0),t&2&&D(i.hideLabel()?-1:0)},dependencies:[ee,Z],encapsulation:2,changeDetection:0})}}return n})();var Ee=(n,h)=>h.Key;function Oe(n,h){if(n&1){let e=C();N(0),s(1,"div",3)(2,"input",4),_("ngModelChange",function(){let i=c(e).$implicit,o=r(2);return p(o.onChange(i.Key))}),d(),s(3,"label",5),y(4),d()()}if(n&2){let e=h.$implicit,t=r(2),i=t.id()+"-"+e.Key;m(2),a("name",t.id())("id",i)("value",t.normalizeItemKey(e.Key))("disabled",t.readonly())("ngModel",t.normalizedValue()),m(),A("for",i),m(),k(" ",e.Value," ")}}function Ye(n,h){if(n&1&&(s(0,"div",2),O(1,Oe,5,7,"div",3,Ee),d()),n&2){let e=r();B("flex-row",e.layout()==="horizontal")("flex-column",e.layout()==="vertical")("many",e.hasManyItems()),a("id",e.id()),m(),Y(e.items())}}function He(n,h){if(n&1&&(s(0,"option",7),y(1),d()),n&2){let e=h.$implicit,t=r(2);a("value",t.normalizeItemKey(e.Key)),m(),k(" ",e.Value," ")}}function Ke(n,h){if(n&1){let e=C();s(0,"select",6),_("ngModelChange",function(i){c(e);let o=r();return p(o.onChange(i))}),O(1,He,2,2,"option",7,Ee),y(3," > "),d()}if(n&2){let e=r();a("id",e.id())("disabled",e.readonly())("ngModel",e.normalizedValue()),m(),Y(e.items())}}var Qe=3,Ae=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.layout=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R"),this.asRadios=u(()=>this.detail().ShowAsRadioButtons),this.items=u(()=>this.detail().DropdownItems?.filter(e=>e.IsActive)),this.hasManyItems=u(()=>(this.items()??[]).length>Qe),this.normalizedValue=u(()=>this.detail().Value?String(this.detail().Value):null)}onChange(e){let t=this.items()?.find(o=>o.Key==e),i=t?.Key?this.normalizeItemKey(t?.Key):null;this.value.set(i),this.commit.emit(i)}normalizeItemKey(e){return String(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-listbox"]],inputs:{detail:[1,"detail"],id:[1,"id"],layout:[1,"layout"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:2,vars:1,consts:[[1,"radios","d-flex",3,"id","flex-row","flex-column","many"],[1,"form-select",3,"id","disabled","ngModel"],[1,"radios","d-flex",3,"id"],[1,"form-check"],["type","radio",1,"form-check-input",3,"ngModelChange","name","id","value","disabled","ngModel"],[1,"form-check-label"],[1,"form-select",3,"ngModelChange","id","disabled","ngModel"],[3,"value"]],template:function(t,i){t&1&&w(0,Ye,3,7,"div",0)(1,Ke,4,3,"select",1),t&2&&D(i.asRadios()?0:1)},dependencies:[S,ye,xe,P,ge,$,R,W],styles:[".radios.flex-row[_ngcontent-%COMP%]:not(.many){gap:1rem}.radios.flex-row.many[_ngcontent-%COMP%]{flex-direction:column!important}"],changeDetection:0})}}return n})();var Be=(()=>{class n{constructor(e){this.elementRef=e}onInput(){this.resize()}ngAfterViewInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+3+"px"}static{this.\u0275fac=function(t){return new(t||n)(se(le))}}static{this.\u0275dir=de({type:n,selectors:[["textarea","bkdTextareaAutosize",""]],hostBindings:function(t,i){t&1&&_("input",function(){return i.onInput()})}})}}return n})();var qe=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R")}onInput(e){let{value:t}=e.target;this.value.set(t||null)}onBlur(){this.commit.emit(this.value()??null)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-textarea"]],inputs:{detail:[1,"detail"],id:[1,"id"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:1,vars:3,consts:[["bkdTextareaAutosize","",1,"form-control",3,"input","blur","id","value","disabled"]],template:function(t,i){t&1&&(s(0,"textarea",0),_("input",function(V){return i.onInput(V)})("blur",function(){return i.onBlur()}),d()),t&2&&a("id",i.id())("value",i.value())("disabled",i.readonly())},dependencies:[Be],encapsulation:2,changeDetection:0})}}return n})();var je=["input"],ze=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R"),this.isInt=u(()=>this.detail().VssTypeId===x.Int),this.isCurrency=u(()=>this.detail().VssTypeId===x.Currency),this.fieldType=u(()=>this.isInt()||this.isCurrency()?"number":"text"),this.input=E.required("input")}onChange(e){let{value:t}=e.target,i=this.normalizeValueOnChange(t);this.isInt()&&(this.input().nativeElement.value=String(i)),this.value.set(i),this.input().nativeElement!==document.activeElement&&this.onBlur()}onBlur(){this.value.set(this.normalizeValueOnBlur(this.value()??null)),this.commit.emit(this.value()??null)}normalizeValueOnChange(e){return e===""?null:this.isInt()?Math.floor(Number(e)):e}normalizeValueOnBlur(e){return e&&this.isCurrency()?Number(e).toFixed(2):e}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-textfield"]],viewQuery:function(t,i){t&1&&q(i.input,je,5),t&2&&z()},inputs:{detail:[1,"detail"],id:[1,"id"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:2,vars:5,consts:[["input",""],[1,"form-control",3,"input","blur","id","type","disabled","value","step"]],template:function(t,i){if(t&1){let o=C();s(0,"input",1,0),_("input",function(M){return c(o),p(i.onChange(M))})("blur",function(){return c(o),p(i.onBlur())}),d()}t&2&&a("id",i.id())("type",i.fieldType())("disabled",i.readonly())("value",i.value())("step",i.isCurrency()?"0.05":"1")},dependencies:[S],styles:["input[type=number][_ngcontent-%COMP%]{max-width:15ch;min-width:10ch}"],changeDetection:0})}}return n})();var Je=()=>["Ja","Nein"];function Ue(n,h){if(n&1){let e=C();N(0),s(1,"div",1)(2,"input",3),_("ngModelChange",function(){let i=c(e).$implicit,o=r(2);return p(o.onRadioChange(i))}),d(),s(3,"label",4),N(4),y(5),J(6,"translate"),d()()}if(n&2){let e=h.$implicit,t=r(2),i=t.id()+"-"+e;m(2),a("name",t.id())("id",i)("value",e)("disabled",t.readonly())("ngModel",t.detail().Value),m(),A("for",i);let o=e==="Ja"?"evaluation.values.yes":"evaluation.values.no";m(2),k(" ",U(6,7,o)," ")}}function $e(n,h){if(n&1&&(s(0,"div",2),O(1,Ue,7,9,"div",1,ce),d()),n&2){let e=r();B("flex-row",e.layout()==="horizontal")("flex-column",e.layout()==="vertical"),a("id",e.id()),m(),Y(Ce(5,Je))}}function Xe(n,h){if(n&1){let e=C();s(0,"div",1)(1,"input",5),_("ngModelChange",function(i){c(e);let o=r();return p(o.onCheckboxToggle(i))}),d()()}if(n&2){let e=r();m(),a("name",e.id())("id",e.id())("disabled",e.readonly())("ngModel",e.value()==="Ja")}}var Pe=(()=>{class n{constructor(){this.detail=l.required(),this.id=l.required(),this.layout=l.required(),this.value=b(),this.commit=g(),this.readonly=u(()=>this.detail().VssInternet==="R"),this.yesAndNo=u(()=>this.detail().VssTypeId===x.YesNo),this.asRadios=u(()=>this.detail().ShowAsRadioButtons)}onRadioChange(e){this.value.set(e),this.commit.emit(this.value()??null)}onCheckboxToggle(e){let t=e?"Ja":this.yesAndNo()?"Nein":null;this.value.set(t),this.commit.emit(this.value()??null)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-yesno"]],inputs:{detail:[1,"detail"],id:[1,"id"],layout:[1,"layout"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:2,vars:1,consts:[[1,"radios","d-flex",3,"id","flex-row","flex-column"],[1,"form-check"],[1,"radios","d-flex",3,"id"],["type","radio",1,"form-check-input",3,"ngModelChange","name","id","value","disabled","ngModel"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","disabled","ngModel"]],template:function(t,i){t&1&&w(0,$e,3,6,"div",0)(1,Xe,2,4,"div",1),t&2&&D(i.yesAndNo()&&i.asRadios()?0:1)},dependencies:[S,P,be,$,R,W,te],styles:[".radios.flex-row[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return n})();function Ge(n,h){if(n&1&&j(0,"bkd-subscription-detail-label",5),n&2){let e=r(),t=T(0);ue("min-width",e.layout()==="horizontal"?e.labelWidth():""),a("detail",e.detail())("id",t)("hideLabel",e.hideLabel())}}function Ze(n,h){if(n&1&&j(0,"bkd-subscription-detail-heading",1),n&2){let e=r();a("detail",e.detail())}}function et(n,h){if(n&1&&j(0,"bkd-subscription-detail-description",2),n&2){let e=r(),t=T(0);a("detail",e.detail())("id",t)}}function tt(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-combobox",6),L("valueChange",function(i){c(e);let o=r();return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r();return p(o.commit.emit(i))}),d()}if(n&2){let e=r(),t=T(0);a("detail",e.detail())("id",t),F("value",e.value)}}function it(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-listbox",7),L("valueChange",function(i){c(e);let o=r();return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r();return p(o.commit.emit(i))}),d()}if(n&2){let e=r(),t=T(0);a("detail",e.detail())("id",t)("layout",e.layout()),F("value",e.value)}}function nt(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-textfield",6),L("valueChange",function(i){c(e);let o=r(2);return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r(2);return p(o.commit.emit(i))}),d()}if(n&2){let e=r(2),t=T(0);a("detail",e.detail())("id",t),F("value",e.value)}}function ot(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-datefield",6),L("valueChange",function(i){c(e);let o=r(2);return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r(2);return p(o.commit.emit(i))}),d()}if(n&2){let e=r(2),t=T(0);a("detail",e.detail())("id",t),F("value",e.value)}}function rt(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-textarea",6),L("valueChange",function(i){c(e);let o=r(2);return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r(2);return p(o.commit.emit(i))}),d()}if(n&2){let e=r(2),t=T(0);a("detail",e.detail())("id",t),F("value",e.value)}}function at(n,h){if(n&1){let e=C();s(0,"bkd-subscription-detail-yesno",7),L("valueChange",function(i){c(e);let o=r(2);return I(o.value,i)||(o.value=i),p(i)}),_("commit",function(i){c(e);let o=r(2);return p(o.commit.emit(i))}),d()}if(n&2){let e=r(2),t=T(0);a("detail",e.detail())("id",t)("layout",e.layout()),F("value",e.value)}}function lt(n,h){if(n&1&&w(0,nt,1,3,"bkd-subscription-detail-textfield",3)(1,ot,1,3,"bkd-subscription-detail-datefield",3)(2,rt,1,3,"bkd-subscription-detail-textarea",3)(3,at,1,4,"bkd-subscription-detail-yesno",4),n&2){let e=r();D(e.isTextField()?0:e.isDate()?1:e.isTextarea()?2:e.isYesNo()?3:-1)}}var Vi=(()=>{class n{constructor(){this.detail=l.required(),this.hideLabel=l(!1),this.layout=l("vertical"),this.labelWidth=l("33%"),this.value=b(),this.commit=g(),this.isTextField=u(()=>this.detail()?.VssTypeId===x.ShortText||this.detail()?.VssTypeId===x.Int||this.detail()?.VssTypeId===x.Currency),this.isTextarea=u(()=>this.detail()?.VssTypeId===x.Text),this.isYesNo=u(()=>this.detail()?.VssTypeId===x.YesNo||this.detail()?.VssTypeId===x.Yes),this.isDate=u(()=>this.detail()?.VssTypeId===x.Date)}get flexColumn(){return this.layout()==="vertical"}get flexRow(){return this.layout()==="horizontal"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-field"]],hostVars:4,hostBindings:function(t,i){t&2&&B("flex-column",i.flexColumn)("flex-row",i.flexRow)},inputs:{detail:[1,"detail"],hideLabel:[1,"hideLabel"],layout:[1,"layout"],labelWidth:[1,"labelWidth"],value:[1,"value"]},outputs:{value:"valueChange",commit:"commit"},decls:7,vars:3,consts:[[3,"detail","id","hideLabel","min-width"],[3,"detail"],[3,"detail","id"],[3,"detail","id","value"],[3,"detail","id","layout","value"],[3,"detail","id","hideLabel"],[3,"valueChange","commit","detail","id","value"],[3,"valueChange","commit","detail","id","layout","value"]],template:function(t,i){if(t&1&&(N(0),w(1,Ge,1,5,"bkd-subscription-detail-label",0)(2,Ze,1,1,"bkd-subscription-detail-heading",1)(3,et,1,2,"bkd-subscription-detail-description",2)(4,tt,1,3,"bkd-subscription-detail-combobox",3)(5,it,1,4,"bkd-subscription-detail-listbox",4)(6,lt,4,1)),t&2){let o;he(i.detail().Id+"-"+i.detail().IdPerson),m(),D(i.detail().VssStyle!=="HE"&&!i.hideLabel()?1:-1),m(),D((o=i.detail().VssStyle)==="HE"?2:o==="BE"?3:o==="CB"?4:o==="LB"?5:o==="TX"?6:-1)}},dependencies:[Le,Ie,Ve,Ae,ze,qe,Pe,Fe,Ne],styles:["[_nghost-%COMP%]{display:flex;column-gap:1rem}@media (max-width: 550px){.flex-row[_nghost-%COMP%]{flex-direction:column!important}}"],changeDetection:0})}}return n})();export{Vi as a};
