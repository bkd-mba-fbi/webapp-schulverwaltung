"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[846],{1846:(Je,u,r)=>{r.r(u),r.d(u,{MyProfileModule:()=>we});var Z=r(9415),d=r(5357),f=r(1135),y=r(3900),v=r(4782),e=r(5e3),M=r(9024);let m=(()=>{class t{constructor(n){this.profileService=n,this.reset$=new f.X(void 0),this.profile$=this.reset$.pipe((0,y.w)(()=>this.profileService.getMyProfile()),(0,v.d)(1)),this.loading$=this.profileService.loading$}reset(){this.reset$.next()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(M.J))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile"]],features:[e._Bn([m])],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},directives:[d.lC],styles:[""],changeDetection:0}),t})();var g=r(1104),a=r(9808),A=r(4707),T=r(9841),h=r(4004),C=r(6401),b=r(7871);function z(t,o){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("(",n.student.Gender,")")}}function w(t,o){if(1&t&&(e.TgZ(0,"a",10),e.TgZ(1,"i",11),e._uU(2,"description"),e.qZA(),e.qZA()),2&t){const n=e.oxw().erzLet;e.Q6J("href",n,e.LSH)}}function S(t,o){if(1&t&&(e.ynx(0),e.YNc(1,w,3,1,"a",9),e.BQk()),2&t){const n=o.erzLet;e.xp6(1),e.Q6J("ngIf",n)}}function L(t,o){if(1&t&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._UZ(2,"erz-avatar",4),e.TgZ(3,"div",5),e._uU(4),e.YNc(5,z,2,1,"span",6),e.TgZ(6,"div",7),e._uU(7),e.ALo(8,"date"),e.qZA(),e.qZA(),e.qZA(),e.YNc(9,S,2,1,"ng-container",8),e.ALo(10,"async"),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("studentId",n.student.Id),e.xp6(2),e.lnq(" ",n.student.LastName," ",n.student.FirstName," ",n.student.MiddleName," "),e.xp6(1),e.Q6J("ngIf",n.student.Gender),e.xp6(2),e.Oqu(e.xi3(8,7,n.student.Birthdate,"dd.MM.yyyy")),e.xp6(2),e.Q6J("erzLet",e.lcZ(10,10,n.reportUrl$))}}function J(t,o){if(1&t&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.student.Email)}}let N=(()=>{class t{constructor(n){this.reportsService=n,this.studentId$=new A.t(1),this.reportUrl$=(0,T.a)([this.reportsService.personMasterDataAvailability$,this.studentId$]).pipe((0,h.U)(([i,l])=>i&&l?this.reportsService.getPersonMasterDataUrl(l):null))}ngOnChanges(n){var i;n.student&&this.studentId$.next((null===(i=n.student.currentValue)||void 0===i?void 0:i.Id)||null)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile-header"]],inputs:{student:"student"},features:[e.TTD],decls:2,vars:2,consts:[["class","avatar-person",4,"ngIf"],["class","email",4,"ngIf"],[1,"avatar-person"],[1,"d-flex"],[1,"mr-3","avatar","large",3,"studentId"],[1,"person"],[4,"ngIf"],[1,"birthdate"],[4,"erzLet"],["class","report btn btn-primary mr-2","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"report","btn","btn-primary","mr-2",3,"href"],[1,"material-icons"],[1,"email"]],template:function(n,i){1&n&&(e.YNc(0,L,11,12,"div",0),e.YNc(1,J,2,1,"div",1)),2&n&&(e.Q6J("ngIf",i.student),e.xp6(1),e.Q6J("ngIf",i.student))},directives:[a.O5,b.A,g.e],pipes:[a.uU,a.Ov],styles:[".avatar-person[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:1.5rem}.person[_ngcontent-%COMP%]{align-self:center}.email[_ngcontent-%COMP%]{padding:1.5rem 0 0 1.5rem}.report[_ngcontent-%COMP%]{align-self:flex-start;line-height:1;font-size:2.2rem}"],changeDetection:0}),t})();var _=r(8995);let U=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile-entry"]],inputs:{label:"label",value:"value"},decls:6,vars:4,consts:[[1,"row"],[1,"col-md-6"]],template:function(n,i){1&n&&(e.TgZ(0,"dl",0),e.TgZ(1,"dt",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"dd",1),e._uU(5),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,2,i.label)),e.xp6(3),e.Oqu(i.value))},pipes:[_.X$],styles:["dl[_ngcontent-%COMP%]{padding:0 1.5rem}dt[_ngcontent-%COMP%]{font-weight:400;color:#33333d80}"],changeDetection:0}),t})();var c=r(1504),I=r(6342),Y=r(6264);let Q=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile-address"]],inputs:{address:"address"},decls:2,vars:1,template:function(n,i){1&n&&(e.TgZ(0,"address"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu(i.address))},styles:["[_nghost-%COMP%]{padding:1.5rem}address[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),t})();var $=r(7612),O=r(4158),q=r(2925);function E(t,o){if(1&t&&e._UZ(0,"erz-my-profile-entry",22),2&t){const n=e.oxw(3).erzLet;e.s9C("value",n.profile.student.SocialSecurityNumber)}}function F(t,o){if(1&t&&e._UZ(0,"erz-my-profile-entry",23),2&t){const n=e.oxw(3).erzLet;e.s9C("value",n.profile.student.HomeTown||n.profile.student.Nationality)}}function j(t,o){if(1&t&&e._UZ(0,"erz-my-profile-entry",24),2&t){const n=e.oxw(3).erzLet;e.s9C("value",n.profile.student.NativeLanguage)}}function H(t,o){if(1&t&&e._UZ(0,"erz-my-profile-entry",25),2&t){const n=e.oxw(3).erzLet;e.s9C("value",n.profile.stayPermitValue)}}function B(t,o){if(1&t&&(e._UZ(0,"erz-my-profile-entry",26),e.ALo(1,"date")),2&t){const n=e.oxw(3).erzLet;e.s9C("value",e.xi3(1,1,n.profile.student.StayPermitExpiry,"mediumDate"))}}function G(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"erz-student-dossier-entry-header",27),e.NdJ("click",function(){return e.CHM(n),e.oxw(),e.MAs(8).toggle("student-address")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.Q6J("opened",o.opened),e.xp6(1),e.hij(" ",e.lcZ(2,2,"shared.profile.student-address")," "))}function X(t,o){if(1&t&&(e.TgZ(0,"div",28),e.TgZ(1,"a",29),e.TgZ(2,"i",30),e._uU(3,"edit"),e.qZA(),e.qZA(),e._UZ(4,"erz-student-dossier-address",31),e.qZA()),2&t){const n=e.oxw(3).erzLet;e.xp6(4),e.Q6J("student",n.profile.student)}}function k(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"erz-student-dossier-entry-header",27),e.NdJ("click",function(){return e.CHM(n),e.oxw(2),e.MAs(8).toggle("correspondence-address")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.Q6J("opened",o.opened),e.xp6(1),e.hij(" ",e.lcZ(2,2,"shared.profile.correspondence-address")," "))}function D(t,o){if(1&t&&e._UZ(0,"erz-my-profile-address",33),2&t){const n=e.oxw(4).erzLet;e.Q6J("address",n.profile.student.CorrespondenceAddress)}}function R(t,o){1&t&&(e.TgZ(0,"ngb-panel",32),e.YNc(1,k,3,4,"ng-template",16),e.YNc(2,D,1,1,"ng-template",17),e.qZA())}function W(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"erz-student-dossier-entry-header",27),e.NdJ("click",function(){return e.CHM(n),e.oxw(2),e.MAs(8).toggle("billing-address")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.Q6J("opened",o.opened),e.xp6(1),e.hij(" ",e.lcZ(2,2,"shared.profile.billing-address")," "))}function V(t,o){if(1&t&&e._UZ(0,"erz-my-profile-address",33),2&t){const n=e.oxw(4).erzLet;e.Q6J("address",n.profile.student.BillingAddress)}}function K(t,o){1&t&&(e.TgZ(0,"ngb-panel",34),e.YNc(1,W,3,4,"ng-template",16),e.YNc(2,V,1,1,"ng-template",17),e.qZA())}function ee(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"erz-student-dossier-entry-header",27),e.NdJ("click",function(){return e.CHM(n),e.oxw(2),e.MAs(8).toggle("legal-representatives")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&t&&(e.Q6J("opened",o.opened),e.xp6(1),e.hij(" ",e.lcZ(2,2,"shared.profile.legal-representation")," "))}function te(t,o){1&t&&e._UZ(0,"erz-student-dossier-legal-representative",37),2&t&&e.Q6J("person",o.$implicit)}function ne(t,o){if(1&t&&e.YNc(0,te,1,1,"erz-student-dossier-legal-representative",36),2&t){const n=e.oxw(4).erzLet;e.Q6J("ngForOf",n.profile.legalRepresentativePersons)}}function oe(t,o){1&t&&(e.TgZ(0,"ngb-panel",35),e.YNc(1,ee,3,4,"ng-template",16),e.YNc(2,ne,1,1,"ng-template",17),e.qZA())}function ie(t,o){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2).index;e.xp6(1),e.Oqu(n+1)}}function re(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"erz-student-dossier-entry-header",27),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().index;return e.oxw(),e.MAs(8).toggle("apprenticeship-company-"+l)}),e._uU(1),e.ALo(2,"translate"),e.YNc(3,ie,2,1,"ng-container",39),e.qZA()}if(2&t){const n=o.opened,i=e.oxw(4).erzLet;e.Q6J("opened",n),e.xp6(1),e.hij(" ",e.lcZ(2,3,"shared.profile.apprenticeship-company")," "),e.xp6(2),e.Q6J("ngIf",i.profile.apprenticeshipCompanies.length>1)}}function le(t,o){if(1&t&&e._UZ(0,"erz-student-dossier-apprenticeship-company",40),2&t){const n=e.oxw().$implicit;e.Q6J("company",n)}}function ae(t,o){1&t&&(e.TgZ(0,"ngb-panel",38),e.YNc(1,re,4,5,"ng-template",16),e.YNc(2,le,1,1,"ng-template",17),e.qZA()),2&t&&e.Q6J("id","apprenticeship-company-"+o.index)}function se(t,o){if(1&t&&(e.TgZ(0,"div",7),e.TgZ(1,"div",8),e.YNc(2,E,1,1,"erz-my-profile-entry",9),e.YNc(3,F,1,1,"erz-my-profile-entry",10),e.YNc(4,j,1,1,"erz-my-profile-entry",11),e.YNc(5,H,1,1,"erz-my-profile-entry",12),e.YNc(6,B,2,4,"erz-my-profile-entry",13),e.qZA(),e.TgZ(7,"ngb-accordion",null,14),e.TgZ(9,"ngb-panel",15),e.YNc(10,G,3,4,"ng-template",16),e.YNc(11,X,5,1,"ng-template",17),e.qZA(),e.YNc(12,R,3,0,"ngb-panel",18),e.YNc(13,K,3,0,"ngb-panel",19),e.YNc(14,oe,3,0,"ngb-panel",20),e.YNc(15,ae,3,1,"ngb-panel",21),e.qZA(),e.qZA()),2&t){const n=e.oxw(2).erzLet;e.xp6(2),e.Q6J("ngIf",n.profile.student.SocialSecurityNumber),e.xp6(1),e.Q6J("ngIf",n.profile.student.HomeTown||n.profile.student.Nationality),e.xp6(1),e.Q6J("ngIf",n.profile.student.NativeLanguage),e.xp6(1),e.Q6J("ngIf",n.profile.stayPermitValue),e.xp6(1),e.Q6J("ngIf",n.profile.student.StayPermitExpiry),e.xp6(6),e.Q6J("ngIf",n.profile.student.CorrespondenceAddress),e.xp6(1),e.Q6J("ngIf",n.profile.student.BillingAddress),e.xp6(1),e.Q6J("ngIf",n.profile.legalRepresentativePersons.length>0),e.xp6(1),e.Q6J("ngForOf",n.profile.apprenticeshipCompanies)}}function pe(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shared.profile.no-profile")))}function de(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"erz-my-profile-header",4),e.YNc(2,se,16,9,"div",5),e.YNc(3,pe,3,3,"ng-template",null,6,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw().erzLet;e.xp6(1),e.Q6J("student",i.profile&&i.profile.student),e.xp6(1),e.Q6J("ngIf",i.profile)("ngIfElse",n)}}function _e(t,o){1&t&&e._UZ(0,"erz-spinner")}function ce(t,o){if(1&t&&(e.TgZ(0,"div",1),e.YNc(1,de,5,3,"ng-container",2),e.ALo(2,"async"),e.YNc(3,_e,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&t){const n=e.MAs(4),i=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,i.profileService.loading$))("ngIfElse",n)}}const fe=function(t){return{profile:t}};let me=(()=>{class t{constructor(n){this.profileService=n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m))},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile-show"]],decls:2,vars:5,consts:[["class","erz-container erz-container-limited erz-container-padding-y erz-container-padding-x-responsive",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y","erz-container-padding-x-responsive"],[4,"ngIf","ngIfElse"],["loading",""],[3,"student"],["class","profile-content",4,"ngIf","ngIfElse"],["noProfile",""],[1,"profile-content"],[1,"profile-entries","pt-3"],["label","my-profile.show.social-security-number",3,"value",4,"ngIf"],["label","my-profile.show.hometown-nationality",3,"value",4,"ngIf"],["label","my-profile.show.native-language",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit-expiry",3,"value",4,"ngIf"],["acc","ngbAccordion"],["id","student-address"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","correspondence-address",4,"ngIf"],["id","billing-address",4,"ngIf"],["id","legal-representatives",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],["label","my-profile.show.social-security-number",3,"value"],["label","my-profile.show.hometown-nationality",3,"value"],["label","my-profile.show.native-language",3,"value"],["label","my-profile.show.stay-permit",3,"value"],["label","my-profile.show.stay-permit-expiry",3,"value"],[3,"opened","click"],[1,"clearfix"],["routerLink","edit","aria-label","edit",1,"btn","btn-primary","float-right","mr-2"],[1,"material-icons"],["emailProperty","Email2",1,"profile-entry",3,"student"],["id","correspondence-address"],[1,"profile-entry",3,"address"],["id","billing-address"],["id","legal-representatives"],["class","profile-entry",3,"person",4,"ngFor","ngForOf"],[1,"profile-entry",3,"person"],[3,"id"],[4,"ngIf"],[1,"profile-entry",3,"company"]],template:function(n,i){1&n&&(e.YNc(0,ce,5,4,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("erzLet",e.VKq(3,fe,e.lcZ(1,1,i.profileService.profile$)))},directives:[g.e,a.O5,N,U,c.gY,c.Gk,c.k9,I.H,c.gW,d.yS,Y.k,Q,a.sg,$.O,O.g,q.O],pipes:[a.Ov,a.uU,_.X$],styles:[".profile-content[_ngcontent-%COMP%]{padding-top:1.5rem}.profile-entry[_ngcontent-%COMP%]{display:block;padding:0 1.5rem}.profile-entries[_ngcontent-%COMP%]:not(:empty){border-top:1px solid #e9ecef}"],changeDetection:0}),t})();var s=r(3075),ge=r(4813),x=r(5698),ue=r(8746),ye=r(2103),ve=r(2290),he=r(5644);function xe(t,o){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2).erzLet;e.xp6(1),e.hij(" ",n.student.AddressLine2," ")}}function Ze(t,o){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,"global.validation-errors."+n.error,n.params)," ")}}function Me(t,o){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,"global.validation-errors."+n.error,n.params)," ")}}function Pe(t,o){1&t&&(e.TgZ(0,"div",23),e.TgZ(1,"span",24),e._uU(2,"Loading..."),e.qZA(),e.qZA())}function Ae(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw(2).onSubmit()}),e.TgZ(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"address",4),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.YNc(7,xe,2,1,"div",5),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.qZA(),e.YNc(10,Ze,3,4,"div",6),e.ALo(11,"async"),e.TgZ(12,"div",7),e.TgZ(13,"label",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"label",10),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",11),e.TgZ(22,"small",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.TgZ(25,"div",7),e.TgZ(26,"label",13),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",14),e.ALo(30,"async"),e.YNc(31,Me,3,4,"div",15),e.ALo(32,"async"),e.TgZ(33,"small",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.TgZ(36,"div",17),e.TgZ(37,"button",18),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).cancel()}),e.ALo(38,"async"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"button",19),e.ALo(42,"async"),e._uU(43),e.ALo(44,"translate"),e.YNc(45,Pe,3,0,"div",20),e.ALo(46,"async"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw().erzLet,i=e.oxw();e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Oqu(e.lcZ(3,20,"my-profile.edit.address-changes-remark")),e.xp6(4),e.Oqu(n.student.AddressLine1),e.xp6(1),e.Q6J("ngIf",n.student.AddressLine2),e.xp6(2),e.AsE("",n.student.Zip||""," ",n.student.Location,""),e.xp6(1),e.Q6J("ngForOf",e.lcZ(11,22,i.formErrors$)),e.xp6(4),e.hij(" ",e.lcZ(15,24,"my-profile.edit.fields.phone-private")," "),e.xp6(5),e.hij(" ",e.lcZ(20,26,"my-profile.edit.fields.phone-mobile")," "),e.xp6(4),e.Oqu(e.lcZ(24,28,"my-profile.edit.fields.phone-mobile-hint")),e.xp6(4),e.hij(" ",e.lcZ(28,30,"my-profile.edit.fields.email2")," "),e.xp6(2),e.ekj("is-invalid",e.lcZ(30,32,i.email2Errors$).length>0),e.xp6(2),e.Q6J("ngForOf",e.lcZ(32,34,i.email2Errors$)),e.xp6(3),e.Oqu(e.lcZ(35,36,"my-profile.edit.fields.email2-hint")),e.xp6(3),e.Q6J("disabled",e.lcZ(38,38,i.saving$)),e.xp6(2),e.hij(" ",e.lcZ(40,40,"my-profile.edit.cancel")," "),e.xp6(2),e.Q6J("disabled",e.lcZ(42,42,i.saving$)),e.xp6(2),e.hij(" ",e.lcZ(44,44,"my-profile.edit.save")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(46,46,i.saving$))}}function Te(t,o){if(1&t&&(e.TgZ(0,"div",1),e.YNc(1,Ae,47,48,"form",2),e.qZA()),2&t){const n=o.erzLet;e.xp6(1),e.Q6J("ngIf",n.formGroup)}}const Ce=function(t,o){return{formGroup:t,student:o}},be=[{path:"",component:P,children:[{path:"",component:me},{path:"edit",component:(()=>{class t{constructor(n,i,l,p,Se,Le){this.fb=n,this.router=i,this.toastr=l,this.translate=p,this.profileService=Se,this.personsService=Le,this.student$=this.profileService.profile$.pipe((0,ge.j)("student")),this.formGroup$=this.student$.pipe((0,h.U)(this.createFormGroup.bind(this)),(0,v.d)(1)),this.saving$=new f.X(!1),this.submitted$=new f.X(!1),this.email2Errors$=(0,ye.Z6)(this.formGroup$,this.submitted$,"email2")}cancel(){this.navigateBack()}onSubmit(){this.submitted$.next(!0),this.formGroup$.pipe((0,x.q)(1)).subscribe(n=>{if(n.valid){const{phonePrivate:i,phoneMobile:l,email2:p}=n.value;this.save((null==i?void 0:i.trim())||null,(null==l?void 0:l.trim())||null,p||null)}})}createFormGroup(n){return this.fb.group({phonePrivate:[n.PhonePrivate],phoneMobile:[n.PhoneMobile],email2:[n.Email2,s.kI.email]})}save(n,i,l){this.saving$.next(!0),this.student$.pipe((0,x.q)(1),(0,y.w)(p=>this.personsService.update(p.Id,n,i,l)),(0,ue.x)(()=>this.saving$.next(!1))).subscribe(this.onSaveSuccess.bind(this))}onSaveSuccess(){this.profileService.reset(),this.toastr.success(this.translate.instant("my-profile.edit.save-success")),this.navigateBack()}navigateBack(){this.router.navigate(["/my-profile"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(d.F0),e.Y36(ve._W),e.Y36(_.sK),e.Y36(m),e.Y36(he.J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["erz-my-profile-edit"]],decls:3,vars:8,consts:[["class","erz-container erz-container-limited erz-container-padding-y",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-muted"],[4,"ngIf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"form-group"],["id","my-profile-phone-private"],["id","my-profile-phone-private","formControlName","phonePrivate","type","tel",1,"form-control"],["id","my-profile-phone-mobile"],["id","my-profile-phone-mobile","formControlName","phoneMobile","type","tel","aria-describedby","my-profile-phone-mobile-hint",1,"form-control"],["id","my-profile-phone-mobile-hint",1,"form-text","text-muted"],["id","my-profile-email2"],["id","my-profile-email2","formControlName","email2","type","email","aria-describedby","my-profile-email2-hint",1,"form-control"],["class","invalid-feedback",4,"ngFor","ngForOf"],["id","my-profile-email2-hint",1,"form-text","text-muted"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm align-middle","role","status",4,"ngIf"],[1,"alert","alert-danger"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","align-middle"],[1,"sr-only"]],template:function(n,i){1&n&&(e.YNc(0,Te,2,1,"div",0),e.ALo(1,"async"),e.ALo(2,"async")),2&n&&e.Q6J("erzLet",e.WLB(5,Ce,e.lcZ(1,1,i.formGroup$),e.lcZ(2,3,i.student$)))},directives:[g.e,a.O5,s._Y,s.JL,s.sg,a.sg,s.Fj,s.JJ,s.u],pipes:[a.Ov,_.X$],styles:[""],changeDetection:0}),t})()}]}];let ze=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(be)],d.Bz]}),t})(),we=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[Z.m,ze]]}),t})()}}]);