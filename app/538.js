"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[538],{6051:(H,j,n)=>{n.d(j,{O:()=>dt,f:()=>Dr});var E=n(8658),M=n(8730);var A=n(9046),C=n(8418),x=Object.prototype.hasOwnProperty;const m=function y(t,r,e){var s=t[r];(!x.call(t,r)||!(0,C.Z)(s,e)||void 0===e&&!(r in t))&&(0,A.Z)(t,r,e)},h=function g(t,r,e,s){var O=!e;e||(e={});for(var f=-1,c=r.length;++f<c;){var i=r[f],d=s?s(e[i],t[i],i,e,t):void 0;void 0===d&&(d=t[i]),O?(0,A.Z)(e,i,d):m(e,i,d)}return e};var T=n(0);var W=n(9416),U=n(5829),R=n(801);var l=Object.prototype.hasOwnProperty;const Tt=function v(t){if(!(0,U.Z)(t))return function u(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,R.Z)(t),e=[];for(var s in t)"constructor"==s&&(r||!l.call(t,s))||e.push(s);return e};var Ot=n(6247);const G=function bt(t){return(0,Ot.Z)(t)?(0,W.Z)(t,!0):Tt(t)};var St=n(4131),J="object"==typeof exports&&exports&&!exports.nodeType&&exports,Q=J&&"object"==typeof module&&module&&!module.nodeType&&module,z=Q&&Q.exports===J?St.Z.Buffer:void 0,w=z?z.allocUnsafe:void 0;var _=n(3774);var mt=n(4331);const q=(0,n(2667).Z)(Object.getPrototypeOf,Object);var Ft=n(3534);const k=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,mt.Z)(r,(0,_.Z)(t)),t=q(t);return r}:Ft.Z;var Gt=n(6721),Nt=n(6982);const Yt=function Vt(t){return(0,Nt.Z)(t,G,k)};var N=n(2211),Ht=Object.prototype.hasOwnProperty;var tt=n(8475);const V=function zt(t){var r=new t.constructor(t.byteLength);return new tt.Z(r).set(new tt.Z(t)),r};var qt=/\w*$/;var nt=n(6875),rt=nt.Z?nt.Z.prototype:void 0,et=rt?rt.valueOf:void 0;const $n=function Sn(t,r,e){var s=t.constructor;switch(r){case"[object ArrayBuffer]":return V(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function wt(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function en(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return function kt(t){var r=new t.constructor(t.source,qt.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function nn(t){return et?Object(et.call(t)):{}}(t)}};var st=Object.create;const Mn=function(){function t(){}return function(r){if(!(0,U.Z)(r))return{};if(st)return st(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var xn=n(9977),Un=n(9354),ot=n(1196);var it=n(8733),L=n(5527),at=L.Z&&L.Z.isMap;const Zn=at?(0,it.Z)(at):function Rn(t){return(0,ot.Z)(t)&&"[object Map]"==(0,N.Z)(t)};var lt=L.Z&&L.Z.isSet;const Nn=lt?(0,it.Z)(lt):function Kn(t){return(0,ot.Z)(t)&&"[object Set]"==(0,N.Z)(t)};var ct="[object Arguments]",ht="[object Function]",gt="[object Object]",o={};o[ct]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object DataView]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Map]"]=o["[object Number]"]=o[gt]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object Symbol]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Error]"]=o[ht]=o["[object WeakMap]"]=!1;const vr=function F(t,r,e,s,O,f){var c,i=1&r,d=2&r,xr=4&r;if(e&&(c=O?e(t,s,O,f):e(t)),void 0!==c)return c;if(!(0,U.Z)(t))return t;var vt=(0,xn.Z)(t);if(vt){if(c=function Jt(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&Ht.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!i)return function It(t,r){var e=-1,s=t.length;for(r||(r=Array(s));++e<s;)r[e]=t[e];return r}(t,c)}else{var $=(0,N.Z)(t),pt=$==ht||"[object GeneratorFunction]"==$;if((0,Un.Z)(t))return function jt(t,r){if(r)return t.slice();var e=t.length,s=w?w(e):new t.constructor(e);return t.copy(s),s}(t,i);if($==gt||$==ct||pt&&!O){if(c=d||pt?{}:function In(t){return"function"!=typeof t.constructor||(0,R.Z)(t)?{}:Mn(q(t))}(t),!i)return d?function Kt(t,r){return h(t,k(t),r)}(t,function At(t,r){return t&&h(r,G(r),t)}(c,t)):function xt(t,r){return h(t,(0,_.Z)(t),r)}(t,function B(t,r){return t&&h(r,(0,T.Z)(r),t)}(c,t))}else{if(!o[$])return O?t:{};c=$n(t,$,i)}}f||(f=new M.Z);var yt=f.get(t);if(yt)return yt;f.set(t,c),Nn(t)?t.forEach(function(b){c.add(F(b,r,e,b,t,f))}):Zn(t)&&t.forEach(function(b,S){c.set(S,F(b,r,e,S,t,f))});var Et=vt?void 0:(xr?d?Yt:Gt.Z:d?G:T.Z)(t);return function I(t,r){for(var e=-1,s=null==t?0:t.length;++e<s&&!1!==r(t[e],e,t););}(Et||t,function(b,S){Et&&(b=t[S=b]),m(c,S,F(b,r,e,S,t,f))}),c};var Tr=n(5619),Y=n(8645),Z=n(3019),Or=n(2572),p=n(7398),br=n(2181),Ar=n(3997),X=n(7081),ut=n(6699),Cr=n(3620),Sr=n(6328),$r=n(9773),jr=n(8180),Mr=n(1389),Ir=n(1342),ft=n(5879);n(4141);const dt="page";let Dr=(()=>{class t{constructor(e,s,O,f,c){this.location=e,this.loadingService=s,this.sortService=O,this.settings=f,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(dt),this.sorting$=this.sortService.sorting$,this.filter$=new Tr.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,p.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,br.h)(this.isValidFilter.bind(this)),(0,Ar.x)(E.Z),(0,X.d)(1)),this.resetEntries$=new Y.x,this.nextPage$=new Y.x,this.page$=(0,Z.T)(this.nextPage$.pipe((0,p.U)(()=>"next")),(0,Z.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,p.U)(()=>"reset"))).pipe((0,ut.R)((i,d)=>"next"===d?i+1:0,0)),this.offset$=this.page$.pipe((0,p.U)(i=>i*this.settings.paginationLimit)),this.pageResult$=(0,Or.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,Cr.b)(10),(0,Sr.b)((0,Mr.h)(this.loadEntries.bind(this))),(0,X.d)(1)),this.entries$=(0,Z.T)((0,Z.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,p.U)(()=>({action:"reset"}))),this.pageResult$.pipe((0,p.U)(i=>0===i.offset?{action:"reset",entries:i.entries}:{action:"append",entries:i.entries}))).pipe((0,ut.R)(this.entriesActionReducer.bind(this),[]),(0,X.d)(1)),this.total$=this.pageResult$.pipe((0,p.U)(({total:i})=>i)),this.hasMore$=this.pageResult$.pipe((0,p.U)(({offset:i,total:d})=>i<d-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,p.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,p.U)(Ir.tW)),this.destroy$=new Y.x,this.queryParamsString$.pipe((0,$r.R)(this.destroy$)).subscribe(i=>this.location.replaceState(c,i)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function Er(t){return vr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,jr.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,s){switch(s.action){case"append":return[...e,...s.entries];case"reset":return s.entries?s.entries:[];default:return e}}static#t=this.\u0275fac=function(s){ft.$Z()};static#n=this.\u0275prov=ft.Yz7({token:t,factory:t.\u0275fac})}return t})()},412:(H,j,n)=>{n.d(j,{X:()=>K});var E=n(1523),M=n(8645),I=n(2096),P=n(2181),A=n(7398),C=n(8180),D=n(1631),x=n(4664),y=n(2689),m=n(7081),g=n(9773),h=n(836),T=n(5879),B=n(6814);let K=(()=>{class u{constructor(a,l){this.router=a,this.viewportScroller=l,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new M.x,this.scrollPosition$=this.router.events.pipe((0,P.h)(U),(0,A.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,P.h)(W)),this.navigationEnd$=this.router.events.pipe((0,P.h)(R)),this.route$=this.activationEnd$.pipe((0,C.q)(1)).pipe((0,D.z)(v=>[(0,I.of)(v),this.navigationEnd$.pipe((0,x.w)(()=>this.activationEnd$.pipe((0,C.q)(1))))]),(0,y.B)(),(0,A.U)(v=>v.snapshot),(0,m.d)(1)),this.scrollPosition$.pipe((0,g.R)(this.destroy$)).subscribe(v=>this.currentScrollPosition=v),this.route$.pipe((0,g.R)(this.destroy$)).subscribe(v=>{this.previousRoute=this.currentRoute,this.currentRoute=v})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const l=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[l]||[0,0])}const a=this.currentRoute;this.route$.pipe((0,h.T)(1),(0,C.q)(1),(0,g.R)(this.destroy$),(0,P.h)(l=>this.shouldStoreFor(a,l))).subscribe(()=>{const l=this.getPath(a);this.scrollPositions[l]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(a){this.viewportScroller.scrollToPosition(a)}getPath(a){return a?"/"+a.pathFromRoot.map(l=>l.routeConfig&&l.routeConfig.path).filter(l=>l).join("/"):"/"}requiresStoring(a){return!!(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)&&a.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(a,l){return(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)?a.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(l))}static#t=this.\u0275fac=function(l){return new(l||u)(T.LFG(E.F0),T.LFG(B.EM))};static#n=this.\u0275prov=T.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function W(u){return u instanceof E.jw}function U(u){return u instanceof E.OD}function R(u){return u instanceof E.m2}},1608:(H,j,n)=>{n.d(j,{K:()=>x});var E=n(8658),M=n(7398),I=n(5619),P=n(3997),A=n(7081),C=n(8180),D=n(5879);let x=(()=>{class y{getSortingChar$(g){return this.sorting$.pipe((0,M.U)(h=>h&&g===h.key?h.ascending?"\u2193":"\u2191":""))}constructor(){this.sortingSubject$=new I.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,P.x)(E.Z),(0,A.d)(1))}setSorting(g){this.sortingSubject$.next(g)}toggleSorting(g){this.sorting$.pipe((0,C.q)(1)).subscribe(h=>{this.sortingSubject$.next({key:g,ascending:!h||h.key!==g||!h.ascending})})}static#t=this.\u0275fac=function(h){return new(h||y)};static#n=this.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);