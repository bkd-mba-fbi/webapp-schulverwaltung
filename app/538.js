"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[538],{6051:(Y,I,n)=>{n.d(I,{O:()=>ft,f:()=>Dr});var E=n(5619),A=n(8645),P=n(3019),T=n(2572),h=n(7398),C=n(2181),D=n(3997),S=n(7081),y=n(6699),L=n(3620),g=n(6328),u=n(9773),$=n(8180),F=n(8658),Z=n(8730);var x=n(9046),f=n(8418),a=Object.prototype.hasOwnProperty;const p=function l(t,r,e){var s=t[r];(!a.call(t,r)||!(0,f.Z)(s,e)||void 0===e&&!(r in t))&&(0,x.Z)(t,r,e)},U=function Pt(t,r,e,s){var O=!e;e||(e={});for(var d=-1,c=r.length;++d<c;){var i=r[d],v=s?s(e[i],t[i],i,e,t):void 0;void 0===v&&(v=t[i]),O?(0,x.Z)(e,i,v):p(e,i,v)}return e};var X=n(0);var bt=n(9416),W=n(5829),H=n(801);var $t=Object.prototype.hasOwnProperty;const Mt=function jt(t){if(!(0,W.Z)(t))return function At(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,H.Z)(t),e=[];for(var s in t)"constructor"==s&&(r||!$t.call(t,s))||e.push(s);return e};var It=n(6247);const G=function Dt(t){return(0,It.Z)(t)?(0,bt.Z)(t,!0):Mt(t)};var mt=n(4131),J="object"==typeof exports&&exports&&!exports.nodeType&&exports,Q=J&&"object"==typeof module&&module&&!module.nodeType&&module,z=Q&&Q.exports===J?mt.Z.Buffer:void 0,w=z?z.allocUnsafe:void 0;var _=n(3774);var Gt=n(4331);const q=(0,n(2667).Z)(Object.getPrototypeOf,Object);var Yt=n(3534);const k=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Gt.Z)(r,(0,_.Z)(t)),t=q(t);return r}:Yt.Z;var zt=n(6721),wt=n(6982);const qt=function _t(t){return(0,wt.Z)(t,G,k)};var N=n(2211),tn=Object.prototype.hasOwnProperty;var tt=n(8475);const V=function en(t){var r=new t.constructor(t.byteLength);return new tt.Z(r).set(new tt.Z(t)),r};var an=/\w*$/;var nt=n(6875),rt=nt.Z?nt.Z.prototype:void 0,et=rt?rt.valueOf:void 0;const Rn=function mn(t,r,e){var s=t.constructor;switch(r){case"[object ArrayBuffer]":return V(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function sn(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function un(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return function ln(t){var r=new t.constructor(t.source,an.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function hn(t){return et?Object(et.call(t)):{}}(t)}};var st=Object.create;const Fn=function(){function t(){}return function(r){if(!(0,W.Z)(r))return{};if(st)return st(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Kn=n(9977),Wn=n(9354),ot=n(1196);var it=n(8733),m=n(5527),at=m.Z&&m.Z.isMap;const Xn=at?(0,it.Z)(at):function Nn(t){return(0,ot.Z)(t)&&"[object Map]"==(0,N.Z)(t)};var lt=m.Z&&m.Z.isSet;const wn=lt?(0,it.Z)(lt):function Jn(t){return(0,ot.Z)(t)&&"[object Set]"==(0,N.Z)(t)};var ct="[object Arguments]",ht="[object Function]",gt="[object Object]",o={};o[ct]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object DataView]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Map]"]=o["[object Number]"]=o[gt]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object Symbol]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Error]"]=o[ht]=o["[object WeakMap]"]=!1;const Ar=function R(t,r,e,s,O,d){var c,i=1&r,v=2&r,xr=4&r;if(e&&(c=O?e(t,s,O,d):e(t)),void 0!==c)return c;if(!(0,W.Z)(t))return t;var dt=(0,Kn.Z)(t);if(dt){if(c=function nn(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&tn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!i)return function Zt(t,r){var e=-1,s=t.length;for(r||(r=Array(s));++e<s;)r[e]=t[e];return r}(t,c)}else{var M=(0,N.Z)(t),vt=M==ht||"[object GeneratorFunction]"==M;if((0,Wn.Z)(t))return function Lt(t,r){if(r)return t.slice();var e=t.length,s=w?w(e):new t.constructor(e);return t.copy(s),s}(t,i);if(M==gt||M==ct||vt&&!O){if(c=v||vt?{}:function Zn(t){return"function"!=typeof t.constructor||(0,H.Z)(t)?{}:Fn(q(t))}(t),!i)return v?function Jt(t,r){return U(t,k(t),r)}(t,function xt(t,r){return t&&U(r,G(r),t)}(c,t)):function Kt(t,r){return U(t,(0,_.Z)(t),r)}(t,function Tt(t,r){return t&&U(r,(0,X.Z)(r),t)}(c,t))}else{if(!o[M])return O?t:{};c=Rn(t,M,i)}}d||(d=new Z.Z);var pt=d.get(t);if(pt)return pt;d.set(t,c),wn(t)?t.forEach(function(b){c.add(R(b,r,e,b,t,d))}):Xn(t)&&t.forEach(function(b,j){c.set(j,R(b,r,e,j,t,d))});var yt=dt?void 0:(xr?v?qt:zt.Z:v?G:X.Z)(t);return function B(t,r){for(var e=-1,s=null==t?0:t.length;++e<s&&!1!==r(t[e],e,t););}(yt||t,function(b,j){yt&&(b=t[j=b]),p(c,j,R(b,r,e,j,t,d))}),c};var Mr=n(1389),Ir=n(1342),ut=n(5879);n(4141);const ft="page";let Dr=(()=>{class t{constructor(e,s,O,d,c){this.location=e,this.loadingService=s,this.sortService=O,this.settings=d,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(ft),this.sorting$=this.sortService.sorting$,this.filter$=new E.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,h.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,C.h)(this.isValidFilter.bind(this)),(0,D.x)(F.Z),(0,S.d)(1)),this.resetEntries$=new A.x,this.nextPage$=new A.x,this.page$=(0,P.T)(this.nextPage$.pipe((0,h.U)(()=>"next")),(0,P.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>"reset"))).pipe((0,y.R)((i,v)=>"next"===v?i+1:0,0)),this.offset$=this.page$.pipe((0,h.U)(i=>i*this.settings.paginationLimit)),this.pageResult$=(0,T.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,L.b)(10),(0,g.b)((0,Mr.h)(this.loadEntries.bind(this))),(0,S.d)(1)),this.entries$=(0,P.T)((0,P.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>({action:"reset"}))),this.pageResult$.pipe((0,h.U)(i=>0===i.offset?{action:"reset",entries:i.entries}:{action:"append",entries:i.entries}))).pipe((0,y.R)(this.entriesActionReducer.bind(this),[]),(0,S.d)(1)),this.total$=this.pageResult$.pipe((0,h.U)(({total:i})=>i)),this.hasMore$=this.pageResult$.pipe((0,h.U)(({offset:i,total:v})=>i<v-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,h.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,h.U)(Ir.tW)),this.destroy$=new A.x,this.queryParamsString$.pipe((0,u.R)(this.destroy$)).subscribe(i=>this.location.replaceState(c,i)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function $r(t){return Ar(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,$.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,s){switch(s.action){case"append":return[...e,...s.entries];case"reset":return s.entries?s.entries:[];default:return e}}static#t=this.\u0275fac=function(s){ut.$Z()};static#n=this.\u0275prov=ut.Yz7({token:t,factory:t.\u0275fac})}return t})()},412:(Y,I,n)=>{n.d(I,{X:()=>Z});var E=n(1523),A=n(8645),P=n(2096),T=n(2181),h=n(7398),C=n(8180),D=n(1631),S=n(4664),y=n(2689),L=n(7081),g=n(9773),u=n(836),$=n(5879),F=n(6814);let Z=(()=>{class f{constructor(a,l){this.router=a,this.viewportScroller=l,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new A.x,this.scrollPosition$=this.router.events.pipe((0,T.h)(K),(0,h.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,T.h)(B)),this.navigationEnd$=this.router.events.pipe((0,T.h)(x)),this.route$=this.activationEnd$.pipe((0,C.q)(1)).pipe((0,D.z)(p=>[(0,P.of)(p),this.navigationEnd$.pipe((0,S.w)(()=>this.activationEnd$.pipe((0,C.q)(1))))]),(0,y.B)(),(0,h.U)(p=>p.snapshot),(0,L.d)(1)),this.scrollPosition$.pipe((0,g.R)(this.destroy$)).subscribe(p=>this.currentScrollPosition=p),this.route$.pipe((0,g.R)(this.destroy$)).subscribe(p=>{this.previousRoute=this.currentRoute,this.currentRoute=p})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const l=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[l]||[0,0])}const a=this.currentRoute;this.route$.pipe((0,u.T)(1),(0,C.q)(1),(0,g.R)(this.destroy$),(0,T.h)(l=>this.shouldStoreFor(a,l))).subscribe(()=>{const l=this.getPath(a);this.scrollPositions[l]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(a){this.viewportScroller.scrollToPosition(a)}getPath(a){return a?"/"+a.pathFromRoot.map(l=>l.routeConfig&&l.routeConfig.path).filter(l=>l).join("/"):"/"}requiresStoring(a){return!!(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)&&a.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(a,l){return(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)?a.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(l))}static#t=this.\u0275fac=function(l){return new(l||f)($.LFG(E.F0),$.LFG(F.EM))};static#n=this.\u0275prov=$.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function B(f){return f instanceof E.jw}function K(f){return f instanceof E.OD}function x(f){return f instanceof E.m2}},1608:(Y,I,n)=>{n.d(I,{K:()=>S});var E=n(8658),A=n(7398),P=n(5619),T=n(3997),h=n(7081),C=n(8180),D=n(5879);let S=(()=>{class y{getSortingChar$(g){return this.sorting$.pipe((0,A.U)(u=>u&&g===u.key?u.ascending?"\u2193":"\u2191":""))}constructor(){this.sortingSubject$=new P.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,T.x)(E.Z),(0,h.d)(1))}setSorting(g){this.sortingSubject$.next(g)}toggleSorting(g){this.sorting$.pipe((0,C.q)(1)).subscribe(u=>{this.sortingSubject$.next({key:g,ascending:!u||u.key!==g||!u.ascending})})}static#t=this.\u0275fac=function(u){return new(u||y)};static#n=this.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);