"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[538],{6051:(X,j,n)=>{n.d(j,{O:()=>ft,f:()=>Dr});var E=n(8658),I=n(8730);var b=n(9046),A=n(8418),x=Object.prototype.hasOwnProperty;const m=function y(t,r,e){var s=t[r];(!x.call(t,r)||!(0,A.Z)(s,e)||void 0===e&&!(r in t))&&(0,b.Z)(t,r,e)},l=function u(t,r,e,s){var T=!e;e||(e={});for(var f=-1,h=r.length;++f<h;){var a=r[f],d=s?s(e[a],t[a],a,e,t):void 0;void 0===d&&(d=t[a]),T?(0,b.Z)(e,a,d):m(e,a,d)}return e};var S=n(0);var K=n(9416),R=n(5829),g=n(801);var v=Object.prototype.hasOwnProperty;const Tt=function Pt(t){if(!(0,R.Z)(t))return function Et(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,g.Z)(t),e=[];for(var s in t)"constructor"==s&&(r||!v.call(t,s))||e.push(s);return e};var Ot=n(6247);const W=function bt(t){return(0,Ot.Z)(t)?(0,K.Z)(t,!0):Tt(t)};var St=n(4131),H="object"==typeof exports&&exports&&!exports.nodeType&&exports,J=H&&"object"==typeof module&&module&&!module.nodeType&&module,Q=J&&J.exports===H?St.Z.Buffer:void 0,z=Q?Q.allocUnsafe:void 0;var w=n(3774);var mt=n(4331);const _=(0,n(2667).Z)(Object.getPrototypeOf,Object);var Ft=n(3534);const q=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,mt.Z)(r,(0,w.Z)(t)),t=_(t);return r}:Ft.Z;var Gt=n(6721),Nt=n(6982);const Yt=function Vt(t){return(0,Nt.Z)(t,W,q)};var G=n(2211),Ht=Object.prototype.hasOwnProperty;var k=n(8475);const N=function zt(t){var r=new t.constructor(t.byteLength);return new k.Z(r).set(new k.Z(t)),r};var qt=/\w*$/;var tt=n(6875),nt=tt.Z?tt.Z.prototype:void 0,rt=nt?nt.valueOf:void 0;const $n=function Sn(t,r,e){var s=t.constructor;switch(r){case"[object ArrayBuffer]":return N(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function wt(t,r){var e=r?N(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function en(t,r){var e=r?N(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return function kt(t){var r=new t.constructor(t.source,qt.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function nn(t){return rt?Object(rt.call(t)):{}}(t)}};var et=Object.create;const In=function(){function t(){}return function(r){if(!(0,R.Z)(r))return{};if(et)return et(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var xn=n(9977),Rn=n(9354),st=n(1196);var ot=n(8733),U=n(5527),it=U.Z&&U.Z.isMap;const Zn=it?(0,ot.Z)(it):function Un(t){return(0,st.Z)(t)&&"[object Map]"==(0,G.Z)(t)};var at=U.Z&&U.Z.isSet;const Nn=at?(0,ot.Z)(at):function Kn(t){return(0,st.Z)(t)&&"[object Set]"==(0,G.Z)(t)};var lt="[object Arguments]",ct="[object Function]",ht="[object Object]",i={};i[lt]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object DataView]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Map]"]=i["[object Number]"]=i[ht]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object Symbol]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Error]"]=i[ct]=i["[object WeakMap]"]=!1;const vr=function L(t,r,e,s,T,f){var h,a=1&r,d=2&r,xr=4&r;if(e&&(h=T?e(t,s,T,f):e(t)),void 0!==h)return h;if(!(0,R.Z)(t))return t;var dt=(0,xn.Z)(t);if(dt){if(h=function Jt(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&Ht.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Mt(t,r){var e=-1,s=t.length;for(r||(r=Array(s));++e<s;)r[e]=t[e];return r}(t,h)}else{var $=(0,G.Z)(t),vt=$==ct||"[object GeneratorFunction]"==$;if((0,Rn.Z)(t))return function jt(t,r){if(r)return t.slice();var e=t.length,s=z?z(e):new t.constructor(e);return t.copy(s),s}(t,a);if($==ht||$==lt||vt&&!T){if(h=d||vt?{}:function Mn(t){return"function"!=typeof t.constructor||(0,g.Z)(t)?{}:In(_(t))}(t),!a)return d?function Kt(t,r){return l(t,q(t),r)}(t,function At(t,r){return t&&l(r,W(r),t)}(h,t)):function xt(t,r){return l(t,(0,w.Z)(t),r)}(t,function Z(t,r){return t&&l(r,(0,S.Z)(r),t)}(h,t))}else{if(!i[$])return T?t:{};h=$n(t,$,a)}}f||(f=new I.Z);var pt=f.get(t);if(pt)return pt;f.set(t,h),Nn(t)?t.forEach(function(O){h.add(L(O,r,e,O,t,f))}):Zn(t)&&t.forEach(function(O,C){h.set(C,L(O,r,e,C,t,f))});var yt=dt?void 0:(xr?d?Yt:Gt.Z:d?W:S.Z)(t);return function M(t,r){for(var e=-1,s=null==t?0:t.length;++e<s&&!1!==r(t[e],e,t););}(yt||t,function(O,C){yt&&(O=t[C=O]),m(h,C,L(O,r,e,C,t,f))}),h};var Tr=n(5619),V=n(8645),F=n(3019),Or=n(2572),p=n(7398),br=n(2181),Ar=n(3997),Y=n(7081),gt=n(6699),Cr=n(3620),Sr=n(6328),$r=n(9773),jr=n(8180),Ir=n(1389),Mr=n(1342),ut=n(5879);n(4141);const ft="page";let Dr=(()=>{class t{constructor(e,s,T,f,h){this.location=e,this.loadingService=s,this.sortService=T,this.settings=f,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(ft),this.sorting$=this.sortService.sorting$,this.filter$=new Tr.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,p.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,br.h)(this.isValidFilter.bind(this)),(0,Ar.x)(E.Z),(0,Y.d)(1)),this.resetEntries$=new V.x,this.nextPage$=new V.x,this.page$=(0,F.T)(this.nextPage$.pipe((0,p.U)(()=>"next")),(0,F.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,p.U)(()=>"reset"))).pipe((0,gt.R)((a,d)=>"next"===d?a+1:0,0)),this.offset$=this.page$.pipe((0,p.U)(a=>a*this.settings.paginationLimit)),this.pageResult$=(0,Or.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,Cr.b)(10),(0,Sr.b)((0,Ir.h)(this.loadEntries.bind(this))),(0,Y.d)(1)),this.entries$=(0,F.T)((0,F.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,p.U)(()=>({action:"reset"}))),this.pageResult$.pipe((0,p.U)(a=>0===a.offset?{action:"reset",entries:a.entries}:{action:"append",entries:a.entries}))).pipe((0,gt.R)(this.entriesActionReducer.bind(this),[]),(0,Y.d)(1)),this.total$=this.pageResult$.pipe((0,p.U)(({total:a})=>a)),this.hasMore$=this.pageResult$.pipe((0,p.U)(({offset:a,total:d})=>a<d-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,p.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,p.U)(Mr.tW)),this.destroy$=new V.x,this.queryParamsString$.pipe((0,$r.R)(this.destroy$)).subscribe(a=>this.location.replaceState(h,a)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function Er(t){return vr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,jr.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,s){switch(s.action){case"append":return[...e,...s.entries];case"reset":return s.entries?s.entries:[];default:return e}}static#t=this.\u0275fac=function(s){ut.$Z()};static#n=this.\u0275prov=ut.Yz7({token:t,factory:t.\u0275fac})}return t})()},412:(X,j,n)=>{n.d(j,{X:()=>Z});var E=n(1523),I=n(8645),M=n(2096),P=n(2181),b=n(7398),A=n(8180),D=n(1631),x=n(4664),y=n(2689),m=n(7081),u=n(9773),l=n(5879),S=n(6814);let Z=(()=>{class g{constructor(o,c){this.router=o,this.viewportScroller=c,this.scrollPositions={},this.previousRoute=null,this.currentRoute=this.getInitialActivatedRouteSnapshot(),this.currentScrollPosition=[0,0],this.destroy$=new I.x,this.activationEnd$=this.router.events.pipe((0,P.h)(B)),this.navigationEnd$=this.router.events.pipe((0,P.h)(R)),this.navigationStart$=this.router.events.pipe((0,P.h)(K)),this.scrollPosition$=this.navigationStart$.pipe((0,b.U)(this.getScrollPosition.bind(this))),this.route$=this.activationEnd$.pipe((0,A.q)(1)).pipe((0,D.z)(v=>[(0,M.of)(v),this.navigationEnd$.pipe((0,x.w)(()=>this.activationEnd$.pipe((0,A.q)(1))))]),(0,y.B)(),(0,b.U)(v=>v.snapshot),(0,m.d)(1)),this.scrollPosition$.pipe((0,u.R)(this.destroy$)).subscribe(v=>this.currentScrollPosition=v),this.route$.pipe((0,u.R)(this.destroy$)).subscribe(v=>{this.previousRoute=this.currentRoute,this.currentRoute=v})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const c=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[c]||[0,0])}const o=this.currentRoute;this.route$.pipe((0,A.q)(1),(0,u.R)(this.destroy$),(0,P.h)(c=>this.shouldStoreFor(o,c))).subscribe(()=>{const c=this.getPath(o);this.scrollPositions[c]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(o){this.viewportScroller.scrollToPosition(o)}getPath(o){return o?"/"+o.pathFromRoot.map(c=>c.routeConfig&&c.routeConfig.path).filter(c=>c).join("/"):"/"}requiresStoring(o){return!!(o&&o.routeConfig&&o.routeConfig.data&&Array.isArray(o.routeConfig.data.restoreScrollPositionFrom)&&o.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(o,c){return(o&&o.routeConfig&&o.routeConfig.data&&Array.isArray(o.routeConfig.data.restoreScrollPositionFrom)?o.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(c))}getInitialActivatedRouteSnapshot(){let o=this.router.routerState.snapshot.root;for(;o.firstChild;)o=o.firstChild;return o}static#t=this.\u0275fac=function(c){return new(c||g)(l.LFG(E.F0),l.LFG(S.EM))};static#n=this.\u0275prov=l.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function B(g){return g instanceof E.jw}function K(g){return g instanceof E.OD}function R(g){return g instanceof E.m2}},1608:(X,j,n)=>{n.d(j,{K:()=>x});var E=n(8658),I=n(7398),M=n(5619),P=n(3997),b=n(7081),A=n(8180),D=n(5879);let x=(()=>{class y{getSortingChar$(u){return this.sorting$.pipe((0,I.U)(l=>l&&u===l.key?l.ascending?"\u2193":"\u2191":""))}constructor(){this.sortingSubject$=new M.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,P.x)(E.Z),(0,b.d)(1))}setSorting(u){this.sortingSubject$.next(u)}toggleSorting(u){this.sorting$.pipe((0,A.q)(1)).subscribe(l=>{this.sortingSubject$.next({key:u,ascending:!l||l.key!==u||!l.ascending})})}static#t=this.\u0275fac=function(l){return new(l||y)};static#n=this.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);