import{d as Q}from"./chunk-HLAFRD2O.js";import{m as Y,n as z,o as W,p as H,q}from"./chunk-5W6V2AZ2.js";import{$a as c,Ga as M,H as y,J as w,K as D,Ld as P,Na as $,O as k,Pa as R,Qa as u,Ra as U,S as v,Va as f,X as F,Ya as j,Za as E,_a as s,ea as T,eb as N,f as h,fa as S,gb as O,h as _,hb as a,n as m,r as C,rb as p,tb as V,xa as L,ya as i}from"./chunk-S3H6YSFW.js";var Z=(t,o)=>o.id;function G(t,o){if(t&1&&(s(0,"a",2)(1,"i",3),p(2,"description"),c()()),t&2){let n=a();U("disabled",n.disableIfUnavailable&&n.reports.length===0),u("href",n.reports.length>0&&n.reports[0].url,L)}}function J(t,o){if(t&1){let n=N();s(0,"button",7),O("click",function(){let r=T(n).$implicit,d=a(2);return S(d.openReport(r))}),p(1),c()}if(t&2){let n=o.$implicit;i(),V(" ",n.title," ")}}function K(t,o){if(t&1&&(s(0,"div",1)(1,"a",4)(2,"i",3),p(3,"description"),c()(),s(4,"div",5),j(5,J,2,1,"button",6,Z),c()()),t&2){let n=a();i(),u("id",n.dropdownId),i(3),R("aria-labelledby",n.dropdownId),i(),E(n.reports)}}var ct=(()=>{class t{constructor(){this.reports=[],this.disableIfUnavailable=!1,this.dropdownId=P("reports-link-dropdown")}openReport(n){window.open(n.url,"_blank")}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=M({type:t,selectors:[["bkd-reports-link"]],inputs:{reports:"reports",disableIfUnavailable:"disableIfUnavailable"},decls:2,vars:2,consts:[["target","_blank",1,"btn","btn-primary","btn-icon",3,"href","disabled"],["ngbDropdown","",1,"d-inline-block"],["target","_blank",1,"btn","btn-primary","btn-icon",3,"href"],[1,"material-icons"],["ngbDropdownToggle","",1,"btn","btn-primary","btn-icon","d-flex","align-items-center",3,"id"],["ngbDropdownMenu",""],["ngbDropdownItem",""],["ngbDropdownItem","",3,"click"]],template:function(e,r){e&1&&$(0,G,3,3,"a",0)(1,K,7,2,"div",1),e&2&&(f(r.reports.length===1||r.reports.length===0&&r.disableIfUnavailable?0:-1),i(),f(r.reports.length>1?1:-1))},dependencies:[q,H,W,z,Y],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}}return t})();var b="default",mt=(()=>{class t{constructor(){this.action$=new h,this.loadingCounts$=C(this.action$.pipe(D((n,{action:e,context:r})=>{switch(e){case"increment":return n[r]=(n[r]||0)+1,n;case"decrement":return n[r]=Math.max(0,(n[r]||0)-1),n;default:return n}},{}),k({})),{connector:()=>new _(1)}),this.loading$=this.loading(),this.loadingCountsSub=this.loadingCounts$.connect()}ngOnDestroy(){this.loadingCountsSub.unsubscribe()}loading(n=b){return this.loadingCounts$.pipe(m(e=>e[n]),m(tt),y())}load(n,e=b){let r=typeof e=="string"?e:e.context||b,d=typeof e=="object"&&e.stopOnFirstValue||!1,g=this.decrementLoadingCount(r),I=!0;function B(){I&&(g(),I=!1)}return n.pipe(Q(this.incrementLoadingCount(r)),d?v(B):w(g))}incrementLoadingCount(n){return()=>this.action$.next({action:"increment",context:n})}decrementLoadingCount(n){return()=>this.action$.next({action:"decrement",context:n})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tt(t){return(t||0)!==0}var nt=Math.pow(10,8)*24*60*60*1e3,ft=-nt,bt=6048e5,xt=864e5,gt=6e4,It=36e5,ht=1e3;var et=3600;var A=et*24,_t=A*7,ot=A*365.2425,rt=ot/12,Ct=rt*3,x=Symbol.for("constructDateFrom");function l(t,o){return typeof t=="function"?t(o):t&&typeof t=="object"&&x in t?t[x](o):t instanceof Date?new t.constructor(o):new Date(o)}function vt(t,o){return l(o||t,t)}function St(t,...o){let n=l.bind(null,t||o.find(e=>typeof e=="object"));return o.map(n)}export{bt as a,xt as b,gt as c,It as d,ht as e,l as f,vt as g,St as h,ct as i,mt as j};
