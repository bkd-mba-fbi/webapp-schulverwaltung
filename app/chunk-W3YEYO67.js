import{a as y}from"./chunk-YNODG5RP.js";import{a as o,b as c}from"./chunk-EFJ6WEH7.js";import{x as m}from"./chunk-ZXUJZ6KS.js";import{Id as l,a,ba as h,v as i}from"./chunk-GP622B77.js";var d=class extends y{constructor(e,t,r,p,s,A="Id"){super(e,t,r,p),this.labelAttr=s,this.keyAttr=A,this.typeaheadCodec=l(m(this.codec.props,[this.keyAttr,this.labelAttr]))}getTypeaheadItems(e,t){let r={params:{fields:[this.keyAttr,this.labelAttr].join(","),[`filter.${this.labelAttr}`]:`~*${e}*`}};return this.http.get(`${this.baseUrl}/`,t?this.mergeHttpParams(r,t):r).pipe(h(c(this.typeaheadCodec)),i(p=>p.map(s=>({Key:s[this.keyAttr],Value:s[this.labelAttr]}))))}getTypeaheadItemByKey(e){return this.http.get(`${this.baseUrl}/${e}`,{params:{fields:[this.keyAttr,this.labelAttr].join(",")}}).pipe(h(o(this.typeaheadCodec)),i(t=>({Key:t[this.keyAttr],Value:t[this.labelAttr]})))}mergeHttpParams(e,t){let r={params:a(a({},e.params),t.params)};return t.params.fields&&(r.params.fields=e.params.fields.concat(",",t.params.fields)),r}};export{d as a};
