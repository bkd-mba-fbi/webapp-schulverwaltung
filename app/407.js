"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[407],{6407:(Be,D,r)=>{r.d(D,{R:()=>Le});var T=r(9733),c=r(177),a=r(1324),d=r(3955),h=r(1413),v=r(6977),b=r(7887),k=r(2771),C=r(4572),x=r(7673),G=r(983),p=r(5558),y=r(9172),R=r(7647),l=r(6354),F=r(2809),e=r(4438),E=r(9067),$=r(8413),j=r(5889);let I=(()=>{class n{constructor(s,t,i,_,f){this.settings=s,this.lessonPresencesService=t,this.presenceTypesService=i,this.toastService=_,this.translate=f,this.studentId$=new k.m(1),this.checkableAbsences$=this.getAbsences(this.loadCheckableAbsences.bind(this)),this.openAbsences$=this.getAbsences(this.loadOpenAbsences.bind(this)),this.excusedAbsences$=this.getAbsences(this.loadExcusedAbsences.bind(this)),this.unexcusedAbsences$=this.getAbsences(this.loadUnexcusedAbsences.bind(this)),this.incidents$=this.getAbsences(this.loadIncidents.bind(this)),this.halfDays$=this.getAbsences(this.loadHalfDays.bind(this)),this.counts$=this.getCounts()}setStudentId(s){this.studentId$.next(s)}getAbsences(s){return this.studentId$.pipe((0,p.n)(s),(0,y.Z)(null),(0,R.u)({connector:()=>new k.m(1)}))}getCounts(){return this.studentId$.pipe((0,p.n)(s=>(0,C.z)([this.loadStatistics(s).pipe((0,y.Z)(null)),this.openAbsences$.pipe((0,l.T)(t=>t?.length??null)),this.checkableAbsences$.pipe((0,l.T)(t=>t?.length??null))])),(0,l.T)(([s,t,i])=>({openAbsences:t,checkableAbsences:i,excusedAbsences:s?.TotalAbsencesValidExcuse??null,unexcusedAbsences:s?.TotalAbsencesWithoutExcuse??null,incidents:s?.TotalIncidents??null,halfDays:s?.TotalHalfDays??null})))}loadStatistics(s){return this.lessonPresencesService.getStatistics({student:s,educationalEvent:null,studyClass:null},null,0).pipe((0,p.n)(({entries:t})=>t.length>0?(0,x.of)(t[0]):(this.toastService.error(this.translate.instant("global.rest-errors.notfound-message"),this.translate.instant("global.rest-errors.notfound-title")),G.w)))}loadOpenAbsences(s){return this.lessonPresencesService.getListOfUnconfirmed(this.getBaseParams(s))}loadCheckableAbsences(s){return this.lessonPresencesService.getList({params:{...this.getBaseParams(s),"filter.ConfirmationStateId":`=${this.settings.checkableAbsenceStateId}`}})}loadExcusedAbsences(s){return this.lessonPresencesService.getList({params:{...this.getBaseParams(s),"filter.ConfirmationStateId":`=${this.settings.excusedAbsenceStateId}`}})}loadUnexcusedAbsences(s){return this.lessonPresencesService.getList({params:{...this.getBaseParams(s),"filter.ConfirmationStateId":`=${this.settings.unexcusedAbsenceStateId}`}})}loadIncidents(s){return this.presenceTypesService.incidentTypes$.pipe((0,l.T)(t=>({...this.getBaseParams(s),"filter.TypeRef":`;${t.map(i=>i.Id).join(";")}`})),(0,p.n)(t=>this.lessonPresencesService.getList({params:t})))}loadHalfDays(s){return this.lessonPresencesService.getList({params:{...this.getBaseParams(s),"filter.TypeRef":`=${this.settings.halfDayPresenceTypeId}`}})}getBaseParams(s){return{sort:"LessonDateTimeFrom.asc","filter.StudentRef":`=${s}`}}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(F.yy),e.KVO(E.g),e.KVO($._),e.KVO(j.f),e.KVO(d.c$))};static#n=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();var N=r(235),A=r(3919),Y=r(4412),P=r(4668),V=r(7721),L=r(4561),m=r(5539);let u=(()=>{class n{constructor(s,t){this.profileService=s,this.route=t,this.currentDossier$=new Y.t("addresses"),this.studentId$=this.route.paramMap.pipe((0,l.T)(i=>Number(i.get("id")))),this.profile$=this.studentId$.pipe((0,p.n)(i=>this.profileService.getProfile(i)),(0,P.t)(1)),this.returnParams$=this.route.queryParams.pipe((0,l.T)(({returnparams:i})=>i)),this.backlinkQueryParams$=this.returnParams$.pipe((0,l.T)(V.JO)),this.loading$=this.profileService.loading$}static#e=this.\u0275fac=function(t){return new(t||n)(e.KVO(L.m),e.KVO(m.nX))};static#n=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();var M=r(9366);const X=n=>({absenceCounts:n});function B(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.checkableAbsences,") ")}}function O(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",15),2&n){const s=e.XpG(2);e.Y8G("absences$",s.absencesService.checkableAbsences$)}}function U(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.openAbsences,") ")}}function J(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",16),2&n){const s=e.XpG(2);e.Y8G("absences$",s.absencesService.openAbsences$)("selectionService",s.absencesSelectionService)}}function H(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.excusedAbsences,") ")}}function K(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",15),2&n){const s=e.XpG(2);e.Y8G("absences$",s.absencesService.excusedAbsences$)}}function Q(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.unexcusedAbsences,") ")}}function W(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",17),2&n){const s=e.XpG(2);e.Y8G("absences$",s.absencesService.unexcusedAbsences$)("displayPresenceType",!1)}}function Z(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.incidents,") ")}}function z(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",15),2&n){const s=e.XpG(2);e.Y8G("absences$",s.absencesService.incidents$)}}function w(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG(2).bkdLet;e.R7$(),e.SpI("(",s.absenceCounts.halfDays,") ")}}function q(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-absences",17),2&n){const s=e.XpG(3);e.Y8G("absences$",s.absencesService.halfDays$)("displayPresenceType",!1)}}function ee(n,o){if(1&n){const s=e.RV6();e.j41(0,"div",18,5)(2,"div",9)(3,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(1);return e.Njj(i.toggle())}),e.EFF(4),e.nI1(5,"translate"),e.DNE(6,w,2,1,"ng-container",11),e.k0s()(),e.j41(7,"div",12)(8,"div",13),e.DNE(9,q,1,2,"ng-template"),e.k0s()()()}if(2&n){const s=e.sdS(1),t=e.XpG().bkdLet;e.R7$(3),e.Y8G("opened",!s.collapsed),e.R7$(),e.SpI(" ",e.bMT(5,3,"shared.profile.half-days")," "),e.R7$(2),e.Y8G("ngIf",null!==t.absenceCounts.halfDays)}}function ne(n,o){if(1&n){const s=e.RV6();e.qex(0),e.j41(1,"div",7)(2,"div",8,0)(4,"div",9)(5,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(3);return e.Njj(i.toggle())}),e.EFF(6),e.nI1(7,"translate"),e.DNE(8,B,2,1,"ng-container",11),e.k0s()(),e.j41(9,"div",12)(10,"div",13),e.DNE(11,O,1,1,"ng-template"),e.k0s()()(),e.j41(12,"div",8,1)(14,"div",9)(15,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(13);return e.Njj(i.toggle())}),e.EFF(16),e.nI1(17,"translate"),e.DNE(18,U,2,1,"ng-container",11),e.k0s()(),e.j41(19,"div",12)(20,"div",13),e.DNE(21,J,1,2,"ng-template"),e.k0s()()(),e.j41(22,"div",8,2)(24,"div",9)(25,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(23);return e.Njj(i.toggle())}),e.EFF(26),e.nI1(27,"translate"),e.DNE(28,H,2,1,"ng-container",11),e.k0s()(),e.j41(29,"div",12)(30,"div",13),e.DNE(31,K,1,1,"ng-template"),e.k0s()()(),e.j41(32,"div",8,3)(34,"div",9)(35,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(33);return e.Njj(i.toggle())}),e.EFF(36),e.nI1(37,"translate"),e.DNE(38,Q,2,1,"ng-container",11),e.k0s()(),e.j41(39,"div",12)(40,"div",13),e.DNE(41,W,1,2,"ng-template"),e.k0s()()(),e.j41(42,"div",8,4)(44,"div",9)(45,"bkd-student-dossier-entry-header",10),e.bIt("click",function(){e.eBV(s);const i=e.sdS(43);return e.Njj(i.toggle())}),e.EFF(46),e.nI1(47,"translate"),e.DNE(48,Z,2,1,"ng-container",11),e.k0s()(),e.j41(49,"div",12)(50,"div",13),e.DNE(51,z,1,1,"ng-template"),e.k0s()()(),e.DNE(52,ee,10,5,"div",14),e.nI1(53,"async"),e.k0s(),e.bVm()}if(2&n){const s=o.bkdLet,t=e.sdS(3),i=e.sdS(13),_=e.sdS(23),f=e.sdS(33),Me=e.sdS(43),Xe=e.XpG();e.R7$(5),e.Y8G("opened",!t.collapsed),e.R7$(),e.SpI(" ",e.bMT(7,16,"shared.profile.checkable-absences")," "),e.R7$(2),e.Y8G("ngIf",null!==s.absenceCounts.checkableAbsences),e.R7$(7),e.Y8G("opened",!i.collapsed),e.R7$(),e.SpI(" ",e.bMT(17,18,"shared.profile.open-absences")," "),e.R7$(2),e.Y8G("ngIf",null!==s.absenceCounts.openAbsences),e.R7$(7),e.Y8G("opened",!_.collapsed),e.R7$(),e.SpI(" ",e.bMT(27,20,"shared.profile.excused-absences")," "),e.R7$(2),e.Y8G("ngIf",null!==s.absenceCounts.excusedAbsences),e.R7$(7),e.Y8G("opened",!f.collapsed),e.R7$(),e.SpI(" ",e.bMT(37,22,"shared.profile.unexcused-absences")," "),e.R7$(2),e.Y8G("ngIf",null!==s.absenceCounts.unexcusedAbsences),e.R7$(7),e.Y8G("opened",!Me.collapsed),e.R7$(),e.SpI(" ",e.bMT(47,24,"shared.profile.incidents")," "),e.R7$(2),e.Y8G("ngIf",null!==s.absenceCounts.incidents),e.R7$(4),e.Y8G("ngIf",e.bMT(53,26,Xe.halfDayActive$))}}let se=(()=>{class n{constructor(s,t,i,_){this.state=s,this.presenceTypesService=t,this.absencesService=i,this.absencesSelectionService=_,this.halfDayActive$=this.presenceTypesService.halfDayActive$,this.destroy$=new h.B,this.state.currentDossier$.next("absences")}ngOnInit(){this.state.studentId$.pipe((0,v.Q)(this.destroy$)).subscribe(s=>this.absencesService.setStudentId(s))}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(u),e.rXU($._),e.rXU(I),e.rXU(M.s))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["bkd-dossier-absences"]],standalone:!0,features:[e.Jv_([I]),e.aNF],decls:2,vars:5,consts:[["checkableAbsences","ngbAccordionItem"],["openAbsences","ngbAccordionItem"],["excusedAbsences","ngbAccordionItem"],["unexcusedAbsences","ngbAccordionItem"],["incidents","ngbAccordionItem"],["halfDays","ngbAccordionItem"],[4,"bkdLet"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],[3,"click","opened"],[4,"ngIf"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","","id","half-days",4,"ngIf"],[3,"absences$"],[3,"absences$","selectionService"],[3,"absences$","displayPresenceType"],["ngbAccordionItem","","id","half-days"]],template:function(t,i){1&t&&(e.DNE(0,ne,54,28,"ng-container",6),e.nI1(1,"async")),2&t&&e.Y8G("bkdLet",e.eq3(3,X,e.bMT(1,1,i.absencesService.counts$)))},dependencies:[b.N,a.r6,a.tW,a.x7,A.$,c.bT,a.$R,a.UA,N.A,c.Jj,d.h,d.D9],changeDetection:0})}return n})();var te=r(4589),ie=r(717),oe=r(6194);const re=n=>({profile:n});function ce(n,o){1&n&&e.nrm(0,"bkd-student-dossier-legal-representative",13),2&n&&e.Y8G("person",o.$implicit)}function ae(n,o){if(1&n&&e.DNE(0,ce,1,1,"bkd-student-dossier-legal-representative",12),2&n){const s=e.XpG(2).bkdLet;e.Y8G("ngForOf",s.profile.legalRepresentativePersons)}}function de(n,o){if(1&n){const s=e.RV6();e.j41(0,"div",7,0)(2,"div",8)(3,"bkd-student-dossier-entry-header",9),e.bIt("click",function(){e.eBV(s);const i=e.sdS(1);return e.Njj(i.toggle())}),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",10)(7,"div",11),e.DNE(8,ae,1,1,"ng-template"),e.k0s()()()}if(2&n){const s=e.sdS(1);e.R7$(3),e.Y8G("opened",!s.collapsed),e.R7$(),e.SpI(" ",e.bMT(5,2,"shared.profile.legal-representation")," ")}}function le(n,o){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG().index;e.R7$(),e.SpI("",s+1," ")}}function pe(n,o){if(1&n&&e.nrm(0,"bkd-student-dossier-apprenticeship-company",15),2&n){const s=e.XpG().$implicit;e.Y8G("company",s)}}function ue(n,o){if(1&n){const s=e.RV6();e.j41(0,"div",7,1)(2,"div",8)(3,"bkd-student-dossier-entry-header",9),e.bIt("click",function(){e.eBV(s);const i=e.sdS(1);return e.Njj(i.toggle())}),e.EFF(4),e.nI1(5,"translate"),e.DNE(6,le,2,1,"ng-container",14),e.k0s()(),e.j41(7,"div",10)(8,"div",11),e.DNE(9,pe,1,1,"ng-template"),e.k0s()()()}if(2&n){const s=e.sdS(1),t=e.XpG().bkdLet;e.R7$(3),e.Y8G("opened",!s.collapsed),e.R7$(),e.SpI(" ",e.bMT(5,3,"shared.profile.apprenticeship-company")," "),e.R7$(2),e.Y8G("ngIf",t.profile.apprenticeshipCompanies.length>1)}}function _e(n,o){if(1&n&&(e.qex(0),e.nrm(1,"bkd-student-dossier-address",3),e.j41(2,"div",4),e.DNE(3,de,9,4,"div",5)(4,ue,10,5,"div",6),e.k0s(),e.bVm()),2&n){const s=o.bkdLet;e.R7$(),e.Y8G("student",s.profile.student),e.R7$(2),e.Y8G("ngIf",s.profile.legalRepresentativePersons.length>0),e.R7$(),e.Y8G("ngForOf",s.profile.apprenticeshipCompanies)}}let be=(()=>{class n{constructor(s){this.state=s,this.state.currentDossier$.next("addresses")}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(u))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["bkd-dossier-addresses"]],standalone:!0,features:[e.aNF],decls:2,vars:5,consts:[["legalRepresentatives","ngbAccordionItem"],["apprenticeshipCompanies","ngbAccordionItem"],[4,"bkdLet"],[1,"profile-entry",3,"student"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngIf"],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],[3,"click","opened"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["class","profile-entry",3,"person",4,"ngFor","ngForOf"],[1,"profile-entry",3,"person"],[4,"ngIf"],[1,"profile-entry",3,"company"]],template:function(t,i){1&t&&(e.DNE(0,_e,5,3,"ng-container",2),e.nI1(1,"async")),2&t&&e.Y8G("bkdLet",e.eq3(3,re,e.bMT(1,1,i.state.profile$)))},dependencies:[b.N,te.W,a.r6,c.bT,a.tW,a.x7,A.$,a.$R,a.UA,c.pM,oe.O,ie.e,c.Jj,d.h,d.D9],styles:[".profile-entry[_ngcontent-%COMP%]{display:block;padding:0 1rem}"],changeDetection:0})}return n})();var S=r(1517),me=r(7014),g=r(8958);const ge=(n,o,s,t)=>({studentId:n,loading:o,courses:s,gradingScales:t});function fe(n,o){if(1&n&&e.nrm(0,"bkd-dossier-grades-view",3),2&n){const s=e.XpG().bkdLet;e.Y8G("courses",s.courses)("studentId",s.studentId)("gradingScales",s.gradingScales)}}function he(n,o){1&n&&(e.qex(0),e.nrm(1,"bkd-spinner"),e.bVm())}function ve(n,o){if(1&n&&(e.qex(0),e.DNE(1,fe,1,3,"bkd-dossier-grades-view",1)(2,he,2,0,"ng-container",2),e.bVm()),2&n){const s=o.bkdLet;e.R7$(),e.Y8G("ngIf",!s.loading),e.R7$(),e.Y8G("ngIf",s.loading)}}let ke=(()=>{class n{constructor(s,t){this.state=s,this.dossierGradesService=t,this.destroy$=new h.B}ngOnInit(){this.state.currentDossier$.next("grades"),this.state.studentId$.pipe((0,v.Q)(this.destroy$)).subscribe(s=>this.dossierGradesService.setStudentId(s))}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(u),e.rXU(g.p))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["bkd-dossier-grades"]],standalone:!0,features:[e.aNF],decls:5,vars:14,consts:[[4,"bkdLet"],[3,"courses","studentId","gradingScales",4,"ngIf"],[4,"ngIf"],[3,"courses","studentId","gradingScales"]],template:function(t,i){1&t&&(e.DNE(0,ve,3,2,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async")),2&t&&e.Y8G("bkdLet",e.ziG(9,ge,e.bMT(1,1,i.state.studentId$),e.bMT(2,3,i.dossierGradesService.loading$),e.bMT(3,5,i.dossierGradesService.studentCourses$),e.bMT(4,7,i.dossierGradesService.gradingScales$)))},dependencies:[b.N,c.bT,me.Q,S.t,c.Jj]})}return n})();var ye=r(8667),$e=r(1433),Ie=r(2637);const Ae=["*"];function Se(n,o){if(1&n&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span",8),e.EFF(5),e.k0s()()),2&n){const s=e.XpG();e.R7$(2),e.JRh(e.i5U(3,2,s.student.Birthdate,"dd.MM.yyyy")),e.R7$(3),e.SpI("(",s.student.Gender,")")}}let De=(()=>{class n{constructor(){this.link="/"}static#e=this.\u0275fac=function(t){return new(t||n)};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["bkd-student-backlink"]],inputs:{link:"link",queryParams:"queryParams",studentId:"studentId",studentName:"studentName",student:"student"},standalone:!0,features:[e.aNF],ngContentSelectors:Ae,decls:9,vars:5,consts:[[1,"d-flex","flex-column","w-100"],[3,"link","params"],[1,"d-flex","flex-row","align-items-start"],[1,"me-3","medium",3,"studentId"],[1,"d-flex","flex-column"],["class","additional-info",4,"ngIf"],[1,"additional-info"],[1,"birthday"],[1,"gender"]],template:function(t,i){1&t&&(e.NAR(),e.j41(0,"div",0)(1,"bkd-backlink",1),e.SdG(2),e.k0s(),e.j41(3,"div",2),e.nrm(4,"bkd-avatar",3),e.j41(5,"div",4)(6,"h1"),e.EFF(7),e.k0s(),e.DNE(8,Se,6,5,"div",5),e.k0s()()()),2&t&&(e.R7$(),e.Y8G("link",i.link)("params",i.queryParams),e.R7$(3),e.Y8G("studentId",i.studentId),e.R7$(3),e.JRh(i.student?i.student.FullName:i.studentName),e.R7$(),e.Y8G("ngIf",i.student))},dependencies:[Ie.P,$e.f,c.bT,c.vh],styles:["[_nghost-%COMP%]{display:flex;align-items:center;width:100%}h1[_ngcontent-%COMP%]{margin:-3px 0 0;display:flex;align-items:baseline;line-height:1}.additional-info[_ngcontent-%COMP%]{color:#adb5bd}.gender[_ngcontent-%COMP%]{margin-left:.8ch}"],changeDetection:0})}return n})();const Te=(n,o,s)=>({profile:n,currentDossierSection:o,reports:s}),Ce=()=>["addresses","absences","grades"],xe=()=>[],Ge=n=>({returnparams:n}),Re=n=>[n];function Fe(n,o){if(1&n&&e.nrm(0,"bkd-reports-link",10),2&n){let s;const t=e.XpG(2).bkdLet;e.Y8G("reports",null!==(s=t.reports)&&void 0!==s?s:e.lJ4(1,xe))}}function Ee(n,o){if(1&n&&(e.j41(0,"a",11),e.nI1(1,"async"),e.j41(2,"button",12,2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&n){const s=o.$implicit,t=e.sdS(3),i=e.XpG(3);e.Y8G("queryParams",e.eq3(9,Ge,e.bMT(1,5,i.state.returnParams$)))("routerLink",e.eq3(11,Re,s)),e.R7$(2),e.AVh("btn-outline-secondary",!t.isActive),e.R7$(2),e.SpI(" ",e.bMT(5,7,"dossier."+s)," ")}}function je(n,o){1&n&&(e.j41(0,"div"),e.nrm(1,"router-outlet"),e.k0s())}function Ne(n,o){1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.JRh(e.bMT(2,1,"shared.profile.no-profile")))}function Ye(n,o){if(1&n&&(e.qex(0),e.j41(1,"bkd-student-backlink",6),e.nI1(2,"async"),e.nI1(3,"async"),e.DNE(4,Fe,1,2,"bkd-reports-link",7),e.k0s(),e.j41(5,"div",8),e.DNE(6,Ee,6,13,"a",9),e.k0s(),e.DNE(7,je,2,0,"div",5)(8,Ne,3,3,"ng-template",null,1,e.C5r),e.bVm()),2&n){const s=e.sdS(9),t=e.XpG().bkdLet,i=e.XpG();e.R7$(),e.Y8G("link","../..")("queryParams",e.bMT(2,8,i.state.backlinkQueryParams$))("studentId",e.bMT(3,10,i.state.studentId$))("student",t.profile&&t.profile.student),e.R7$(3),e.Y8G("ngIf","grades"===t.currentDossierSection),e.R7$(2),e.Y8G("ngForOf",e.lJ4(12,Ce)),e.R7$(),e.Y8G("ngIf",t.profile)("ngIfElse",s)}}function Pe(n,o){1&n&&e.nrm(0,"bkd-spinner")}function Ve(n,o){if(1&n&&(e.qex(0),e.DNE(1,Ye,10,13,"ng-container",5),e.nI1(2,"async"),e.DNE(3,Pe,1,0,"ng-template",null,0,e.C5r),e.bVm()),2&n){const s=e.sdS(4),t=e.XpG();e.R7$(),e.Y8G("ngIf",!1===e.bMT(2,2,t.state.loading$))("ngIfElse",s)}}const Le={path:"student/:id",children:[{path:"",component:(()=>{class n{constructor(s,t){this.state=s,this.dossierGradesService=t,this.state.currentDossier$.next("addresses")}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(u),e.rXU(g.p))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["bkd-student-dossier"]],standalone:!0,features:[e.Jv_([u,g.p]),e.aNF],decls:5,vars:11,consts:[["loading",""],["noProfile",""],["rla","routerLinkActive"],[1,"bkd-container","bkd-container-limited"],[4,"bkdLet"],[4,"ngIf","ngIfElse"],[1,"mb-2",3,"link","queryParams","studentId","student"],["class","ms-2",3,"reports",4,"ngIf"],[1,"d-flex","flex-row","py-3","flex-wrap"],["class","me-1 mt-1 me-sm-2",3,"queryParams","routerLink",4,"ngFor","ngForOf"],[1,"ms-2",3,"reports"],[1,"me-1","mt-1","me-sm-2",3,"queryParams","routerLink"],["data-test-id","dossier-section-button","type","button","routerLinkActive","btn-primary",1,"btn","btn-outline-secondary"]],template:function(t,i){1&t&&(e.j41(0,"div",3),e.DNE(1,Ve,5,4,"ng-container",4),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async"),e.k0s()),2&t&&(e.R7$(),e.Y8G("bkdLet",e.sMw(7,Te,e.bMT(2,1,i.state.profile$),e.bMT(3,3,i.state.currentDossier$),e.bMT(4,5,i.dossierGradesService.testReports$))))},dependencies:[b.N,c.bT,De,ye.Z,c.pM,m.Wk,m.wQ,m.n3,S.t,c.Jj,d.h,d.D9],changeDetection:0})}return n})(),children:[{path:"addresses",component:be},{path:"absences",component:se},{path:"grades",component:ke}]},{path:"absences/confirm",component:T.k}]}}}]);