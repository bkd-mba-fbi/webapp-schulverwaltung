import{d as B}from"./chunk-5NJNJ42P.js";import{m as V,n as j,o as z,p as P,q}from"./chunk-JHVNIEZK.js";import{Fa as $,H as w,J as v,Jd as A,K as x,Ma as R,O as k,Oa as S,Pa as m,Qa as U,S as I,Ua as u,X as y,Xa as F,Ya as E,Za as a,_a as l,da as D,db as M,ea as L,f as h,fb as N,gb as s,h as _,n as d,qb as p,r as C,sb as O,va as T,wa as o}from"./chunk-34ZOBT6Z.js";var Z=(e,r)=>r.id;function G(e,r){if(e&1&&(a(0,"a",2)(1,"i",3),p(2,"description"),l()()),e&2){let t=s();U("disabled",t.disableIfUnavailable&&t.reports.length===0),m("href",t.reports.length>0&&t.reports[0].url,T)}}function H(e,r){if(e&1){let t=M();a(0,"button",7),N("click",function(){let i=D(t).$implicit,c=s(2);return L(c.openReport(i))}),p(1),l()}if(e&2){let t=r.$implicit;o(),O(" ",t.title," ")}}function J(e,r){if(e&1&&(a(0,"div",1)(1,"a",4)(2,"i",3),p(3,"description"),l()(),a(4,"div",5),F(5,H,2,1,"button",6,Z),l()()),e&2){let t=s();o(),m("id",t.dropdownId),o(3),S("aria-labelledby",t.dropdownId),o(),E(t.reports)}}var tt=(()=>{class e{constructor(){this.reports=[],this.disableIfUnavailable=!1,this.dropdownId=A("reports-link-dropdown")}openReport(t){window.open(t.url,"_blank")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=$({type:e,selectors:[["bkd-reports-link"]],inputs:{reports:"reports",disableIfUnavailable:"disableIfUnavailable"},decls:2,vars:2,consts:[["target","_blank",1,"btn","btn-primary","btn-icon",3,"href","disabled"],["ngbDropdown","",1,"d-inline-block"],["target","_blank",1,"btn","btn-primary","btn-icon",3,"href"],[1,"material-icons"],["ngbDropdownToggle","",1,"btn","btn-primary","btn-icon","d-flex","align-items-center",3,"id"],["ngbDropdownMenu",""],["ngbDropdownItem",""],["ngbDropdownItem","",3,"click"]],template:function(n,i){n&1&&R(0,G,3,3,"a",0)(1,J,7,2,"div",1),n&2&&(u(i.reports.length===1||i.reports.length===0&&i.disableIfUnavailable?0:-1),o(),u(i.reports.length>1?1:-1))},dependencies:[q,P,z,j,V],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}}return e})();var f="default",rt=(()=>{class e{constructor(){this.action$=new h,this.loadingCounts$=C(this.action$.pipe(x((t,{action:n,context:i})=>{switch(n){case"increment":return t[i]=(t[i]||0)+1,t;case"decrement":return t[i]=Math.max(0,(t[i]||0)-1),t;default:return t}},{}),k({})),{connector:()=>new _(1)}),this.loading$=this.loading(),this.loadingCountsSub=this.loadingCounts$.connect()}ngOnDestroy(){this.loadingCountsSub.unsubscribe()}loading(t=f){return this.loadingCounts$.pipe(d(n=>n[t]),d(K),w())}load(t,n=f){let i=typeof n=="string"?n:n.context||f,c=typeof n=="object"&&n.stopOnFirstValue||!1,b=this.decrementLoadingCount(i),g=!0;function W(){g&&(b(),g=!1)}return t.pipe(B(this.incrementLoadingCount(i)),c?I(W):v(b))}incrementLoadingCount(t){return()=>this.action$.next({action:"increment",context:t})}decrementLoadingCount(t){return()=>this.action$.next({action:"decrement",context:t})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function K(e){return(e||0)!==0}export{tt as a,rt as b};
