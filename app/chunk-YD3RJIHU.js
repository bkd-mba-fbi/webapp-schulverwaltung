import{d as W}from"./chunk-KK2SHN2W.js";import{k as j,l as z,m as P,n as q,o as A}from"./chunk-AP373D4K.js";import{Ab as V,Ed as B,H as w,Ha as R,J as v,K as x,La as S,Ma as m,Na as F,O as k,Ra as u,S as I,Ua as U,Va as E,Wa as a,X as y,Xa as l,aa as D,ab as M,cb as N,db as s,f as h,h as _,ia as L,ja as T,n as d,nb as p,pb as O,r as C,va as $,wa as o}from"./chunk-IFJN5CDK.js";var G=(e,r)=>r.id;function H(e,r){if(e&1&&(a(0,"a",2)(1,"i",3),p(2,"description"),l()()),e&2){let t=s();F("disabled",t.disableIfUnavailable&&t.reports.length===0),m("href",t.reports.length>0&&t.reports[0].url,$)}}function J(e,r){if(e&1){let t=M();a(0,"button",7),N("click",function(){let i=L(t).$implicit,c=s(2);return T(c.openReport(i))}),p(1),l()}if(e&2){let t=r.$implicit;o(),O(" ",t.title," ")}}function K(e,r){if(e&1&&(a(0,"div",1)(1,"a",4)(2,"i",3),p(3,"description"),l()(),a(4,"div",5),U(5,J,2,1,"button",6,G),l()()),e&2){let t=s();o(),m("id",t.dropdownId),o(3),S("aria-labelledby",t.dropdownId),o(),E(t.reports)}}var et=(()=>{class e{constructor(){this.reports=[],this.disableIfUnavailable=!1,this.dropdownId=B("reports-link-dropdown")}openReport(t){window.open(t.url,"_blank")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=D({type:e,selectors:[["bkd-reports-link"]],inputs:{reports:"reports",disableIfUnavailable:"disableIfUnavailable"},standalone:!0,features:[V],decls:2,vars:2,consts:[["target","_blank",1,"btn","btn-primary","btn-icon",3,"href","disabled"],["ngbDropdown","",1,"d-inline-block"],["target","_blank",1,"btn","btn-primary","btn-icon",3,"href"],[1,"material-icons"],["ngbDropdownToggle","",1,"btn","btn-primary","btn-icon","d-flex","align-items-center",3,"id"],["ngbDropdownMenu",""],["ngbDropdownItem",""],["ngbDropdownItem","",3,"click"]],template:function(n,i){n&1&&R(0,H,3,3,"a",0)(1,K,7,2,"div",1),n&2&&(u(i.reports.length===1||i.reports.length===0&&i.disableIfUnavailable?0:-1),o(),u(i.reports.length>1?1:-1))},dependencies:[A,q,P,z,j],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}}return e})();var f="default",at=(()=>{class e{constructor(){this.action$=new h,this.loadingCounts$=C(this.action$.pipe(x((t,{action:n,context:i})=>{switch(n){case"increment":return t[i]=(t[i]||0)+1,t;case"decrement":return t[i]=Math.max(0,(t[i]||0)-1),t;default:return t}},{}),k({})),{connector:()=>new _(1)}),this.loading$=this.loading(),this.loadingCountsSub=this.loadingCounts$.connect()}ngOnDestroy(){this.loadingCountsSub.unsubscribe()}loading(t=f){return this.loadingCounts$.pipe(d(n=>n[t]),d(Q),w())}load(t,n=f){let i=typeof n=="string"?n:n.context||f,c=typeof n=="object"&&n.stopOnFirstValue||!1,b=this.decrementLoadingCount(i),g=!0;function X(){g&&(b(),g=!1)}return t.pipe(W(this.incrementLoadingCount(i)),c?I(X):v(b))}incrementLoadingCount(t){return()=>this.action$.next({action:"increment",context:t})}decrementLoadingCount(t){return()=>this.action$.next({action:"decrement",context:t})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q(e){return(e||0)!==0}export{et as a,at as b};
