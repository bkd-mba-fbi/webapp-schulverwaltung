"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[656],{2915:(X,j,n)=>{n.d(j,{b:()=>ft,z:()=>Mr});var y=n(977),I=n(5401);var O=n(4981),S=n(1319),m=Object.prototype.hasOwnProperty;const R=function A(t,r,e){var s=t[r];(!m.call(t,r)||!(0,S.A)(s,e)||void 0===e&&!(r in t))&&(0,O.A)(t,r,e)},l=function u(t,r,e,s){var T=!e;e||(e={});for(var f=-1,h=r.length;++f<h;){var a=r[f],p=s?s(e[a],t[a],a,e,t):void 0;void 0===p&&(p=t[a]),T?(0,O.A)(e,a,p):R(e,a,p)}return e};var C=n(2662);var W=n(6726),x=n(554),g=n(5776);var v=Object.prototype.hasOwnProperty;const Tt=function Et(t){if(!(0,x.A)(t))return function yt(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,g.A)(t),e=[];for(var s in t)"constructor"==s&&(r||!v.call(t,s))||e.push(s);return e};var Pt=n(1287);const N=function Ot(t){return(0,Pt.A)(t)?(0,W.A)(t,!0):Tt(t)};var Ct=n(1860),Y="object"==typeof exports&&exports&&!exports.nodeType&&exports,Z=Y&&"object"==typeof module&&module&&!module.nodeType&&module,J=Z&&Z.exports===Y?Ct.A.Buffer:void 0,z=J?J.allocUnsafe:void 0;var w=n(5844);var Rt=n(563);const _=(0,n(8992).A)(Object.getPrototypeOf,Object);var Lt=n(6032);const q=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Rt.A)(r,(0,w.A)(t)),t=_(t);return r}:Lt.A;var Gt=n(7895),Vt=n(6658);const Ht=function Qt(t){return(0,Vt.A)(t,N,q)};var G=n(1938),Yt=Object.prototype.hasOwnProperty;var k=n(6509);const V=function zt(t){var r=new t.constructor(t.byteLength);return new k.A(r).set(new k.A(t)),r};var qt=/\w*$/;var tt=n(6944),nt=tt.A?tt.A.prototype:void 0,rt=nt?nt.valueOf:void 0;const $n=function Cn(t,r,e){var s=t.constructor;switch(r){case"[object ArrayBuffer]":return V(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function wt(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function en(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return function kt(t){var r=new t.constructor(t.source,qt.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function nn(t){return rt?Object(rt.call(t)):{}}(t)}};var et=Object.create;const In=function(){function t(){}return function(r){if(!(0,x.A)(r))return{};if(et)return et(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var mn=n(3744),xn=n(9377),st=n(2661);var ot=n(778),B=n(3340),it=B.A&&B.A.isMap;const Un=it?(0,ot.A)(it):function Bn(t){return(0,st.A)(t)&&"[object Map]"==(0,G.A)(t)};var at=B.A&&B.A.isSet;const Vn=at?(0,ot.A)(at):function Wn(t){return(0,st.A)(t)&&"[object Set]"==(0,G.A)(t)};var lt="[object Arguments]",ct="[object Function]",ht="[object Object]",i={};i[lt]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object DataView]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Map]"]=i["[object Number]"]=i[ht]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object Symbol]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Error]"]=i[ct]=i["[object WeakMap]"]=!1;const vr=function F(t,r,e,s,T,f){var h,a=1&r,p=2&r,mr=4&r;if(e&&(h=T?e(t,s,T,f):e(t)),void 0!==h)return h;if(!(0,x.A)(t))return t;var pt=(0,mn.A)(t);if(pt){if(h=function Zt(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&Yt.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Dt(t,r){var e=-1,s=t.length;for(r||(r=Array(s));++e<s;)r[e]=t[e];return r}(t,h)}else{var $=(0,G.A)(t),vt=$==ct||"[object GeneratorFunction]"==$;if((0,xn.A)(t))return function jt(t,r){if(r)return t.slice();var e=t.length,s=z?z(e):new t.constructor(e);return t.copy(s),s}(t,a);if($==ht||$==lt||vt&&!T){if(h=p||vt?{}:function Dn(t){return"function"!=typeof t.constructor||(0,g.A)(t)?{}:In(_(t))}(t),!a)return p?function Wt(t,r){return l(t,q(t),r)}(t,function St(t,r){return t&&l(r,N(r),t)}(h,t)):function mt(t,r){return l(t,(0,w.A)(t),r)}(t,function U(t,r){return t&&l(r,(0,C.A)(r),t)}(h,t))}else{if(!i[$])return T?t:{};h=$n(t,$,a)}}f||(f=new I.A);var dt=f.get(t);if(dt)return dt;f.set(t,h),Vn(t)?t.forEach(function(P){h.add(F(P,r,e,P,t,f))}):Un(t)&&t.forEach(function(P,b){h.set(b,F(P,r,e,b,t,f))});var At=pt?void 0:(mr?p?Ht:Gt.A:p?N:C.A)(t);return function D(t,r){for(var e=-1,s=null==t?0:t.length;++e<s&&!1!==r(t[e],e,t););}(At||t,function(P,b){At&&(P=t[b=P]),R(h,b,F(P,r,e,b,t,f))}),h};var Tr=n(4412),Q=n(1413),L=n(7786),Pr=n(4572),d=n(6354),Or=n(5964),Sr=n(3294),H=n(4668),gt=n(2816),br=n(152),Cr=n(274),$r=n(6977),jr=n(6697),Ir=n(3382),Dr=n(7721),ut=n(4438);n(2809);const ft="page";let Mr=(()=>{class t{constructor(e,s,T,f,h){this.location=e,this.loadingService=s,this.sortService=T,this.settings=f,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(ft),this.sorting$=this.sortService.sorting$,this.filter$=new Tr.t(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,d.T)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,Or.p)(this.isValidFilter.bind(this)),(0,Sr.F)(y.A),(0,H.t)(1)),this.resetEntries$=new Q.B,this.nextPage$=new Q.B,this.page$=(0,L.h)(this.nextPage$.pipe((0,d.T)(()=>"next")),(0,L.h)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,d.T)(()=>"reset"))).pipe((0,gt.S)((a,p)=>"next"===p?a+1:0,0)),this.offset$=this.page$.pipe((0,d.T)(a=>a*this.settings.paginationLimit)),this.pageResult$=(0,Pr.z)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,br.B)(10),(0,Cr.H)((0,Ir.i)(this.loadEntries.bind(this))),(0,H.t)(1)),this.entries$=(0,L.h)((0,L.h)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,d.T)(()=>({action:"reset"}))),this.pageResult$.pipe((0,d.T)(a=>0===a.offset?{action:"reset",entries:a.entries}:{action:"append",entries:a.entries}))).pipe((0,gt.S)(this.entriesActionReducer.bind(this),[]),(0,H.t)(1)),this.total$=this.pageResult$.pipe((0,d.T)(({total:a})=>a)),this.hasMore$=this.pageResult$.pipe((0,d.T)(({offset:a,total:p})=>a<p-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,d.T)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,d.T)(Dr.hD)),this.destroy$=new Q.B,this.queryParamsString$.pipe((0,$r.Q)(this.destroy$)).subscribe(a=>this.location.replaceState(h,a)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function yr(t){return vr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,jr.s)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,s){switch(s.action){case"append":return[...e,...s.entries];case"reset":return s.entries?s.entries:[];default:return e}}static#t=this.\u0275fac=function(s){ut.QTQ()};static#n=this.\u0275prov=ut.jDH({token:t,factory:t.\u0275fac})}return t})()},1769:(X,j,n)=>{n.d(j,{W:()=>U});var y=n(5539),I=n(1413),D=n(7673),E=n(5964),O=n(6354),S=n(6697),M=n(1397),m=n(5558),A=n(7799),R=n(4668),u=n(6977),l=n(4438),C=n(177);let U=(()=>{class g{constructor(o,c){this.router=o,this.viewportScroller=c,this.scrollPositions={},this.previousRoute=null,this.currentRoute=this.getInitialActivatedRouteSnapshot(),this.currentScrollPosition=[0,0],this.destroy$=new I.B,this.activationEnd$=this.router.events.pipe((0,E.p)(K)),this.navigationEnd$=this.router.events.pipe((0,E.p)(x)),this.navigationStart$=this.router.events.pipe((0,E.p)(W)),this.scrollPosition$=this.navigationStart$.pipe((0,O.T)(this.getScrollPosition.bind(this))),this.route$=this.activationEnd$.pipe((0,S.s)(1)).pipe((0,M.Z)(v=>[(0,D.of)(v),this.navigationEnd$.pipe((0,m.n)(()=>this.activationEnd$.pipe((0,S.s)(1))))]),(0,A.w)(),(0,O.T)(v=>v.snapshot),(0,R.t)(1)),this.scrollPosition$.pipe((0,u.Q)(this.destroy$)).subscribe(v=>this.currentScrollPosition=v),this.route$.pipe((0,u.Q)(this.destroy$)).subscribe(v=>{this.previousRoute=this.currentRoute,this.currentRoute=v})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const c=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[c]||[0,0])}const o=this.currentRoute;this.route$.pipe((0,S.s)(1),(0,u.Q)(this.destroy$),(0,E.p)(c=>this.shouldStoreFor(o,c))).subscribe(()=>{const c=this.getPath(o);this.scrollPositions[c]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(o){this.viewportScroller.scrollToPosition(o)}getPath(o){return o?"/"+o.pathFromRoot.map(c=>c.routeConfig&&c.routeConfig.path).filter(c=>c).join("/"):"/"}requiresStoring(o){return!!(o&&o.routeConfig&&o.routeConfig.data&&Array.isArray(o.routeConfig.data.restoreScrollPositionFrom)&&o.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(o,c){return(o&&o.routeConfig&&o.routeConfig.data&&Array.isArray(o.routeConfig.data.restoreScrollPositionFrom)?o.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(c))}getInitialActivatedRouteSnapshot(){let o=this.router.routerState.snapshot.root;for(;o.firstChild;)o=o.firstChild;return o}static#t=this.\u0275fac=function(c){return new(c||g)(l.KVO(y.Ix),l.KVO(C.Xr))};static#n=this.\u0275prov=l.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function K(g){return g instanceof y._d}function W(g){return g instanceof y.Z}function x(g){return g instanceof y.wF}},4814:(X,j,n)=>{n.d(j,{a:()=>m});var y=n(977),I=n(6354),D=n(4412),E=n(3294),O=n(4668),S=n(6697),M=n(4438);let m=(()=>{class A{getSortingChar$(u){return this.sorting$.pipe((0,I.T)(l=>l&&u===l.key?l.ascending?"\u2193":"\u2191":""))}constructor(){this.sortingSubject$=new D.t(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,E.F)(y.A),(0,O.t)(1))}setSorting(u){this.sortingSubject$.next(u)}toggleSorting(u){this.sorting$.pipe((0,S.s)(1)).subscribe(l=>{this.sortingSubject$.next({key:u,ascending:!l||l.key!==u||!l.ascending})})}static#t=this.\u0275fac=function(l){return new(l||A)};static#n=this.\u0275prov=M.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()}}]);