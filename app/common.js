"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[592],{368:(C,p,t)=>{t.d(p,{w:()=>s});var e=t(5e3),u=t(9808);function f(a,i){if(1&a){const r=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){return e.CHM(r),e.oxw().valueChange.emit("")}),e.TgZ(1,"i",3),e._uU(2,"clear"),e.qZA(),e.qZA()}}let s=(()=>{class a{constructor(){this.value="",this.disabled=!1,this.valueChange=new e.vpe}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["erz-resettable-input"]],inputs:{value:"value",disabled:"disabled",placeholder:"placeholder",label:"label"},outputs:{valueChange:"valueChange"},decls:7,vars:5,consts:[[1,"input-group"],[1,"input-group-prepend"],["id","resettable-input",1,"input-group-text"],[1,"material-icons"],["type","text","aria-describedby","resettable-input",1,"form-control",3,"value","disabled","keyup"],["class","btn btn-link text-decoration-none","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-link","text-decoration-none",3,"click"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e.TgZ(3,"i",3),e._uU(4,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"input",4),e.NdJ("keyup",function(h){return d.valueChange.emit(h.target.value)}),e.qZA(),e.YNc(6,f,3,0,"button",5),e.qZA()),2&r&&(e.xp6(5),e.Q6J("value",d.value)("disabled",d.disabled),e.uIk("placeholder",d.placeholder)("aria-label",d.label),e.xp6(1),e.Q6J("ngIf",d.value))},directives:[u.O5],styles:["input[_ngcontent-%COMP%]{padding-right:2.5em}button[_ngcontent-%COMP%]{position:absolute;right:0;z-index:3}"]}),a})()},9698:(C,p,t)=>{t.d(p,{H:()=>i});var e=t(5275),u=t(9610),f=t(1297),s=t(8547),a=t(5193);const i={path:"student/:id",children:[{path:"",component:u.H,children:[{path:"",component:a.Y},{path:"addresses",component:s.S},{path:"absences",component:f.t}]},{path:"absences/confirm",component:e.A}]}},8210:(C,p,t)=>{t.d(p,{y:()=>u});var e=t(9928);const u=e.dt({Id:e.pk,Designation:e.Z_,StudentCount:e.pk,Number:e.Z_})},77:(C,p,t)=>{t.d(p,{$:()=>R});var e=t(8029),u=t(9928);const f=u.dt({Id:u.pk,Designation:u.Z_,Number:u.Z_});var s=t(3900),a=t(4004),i=t(2786),r=t(515),d=t(9646),E=t(9975),h=t(2671),m=t(5e3),_=t(520),g=t(8995),x=t(2290);let R=(()=>{class c extends h.v{constructor(n,l,o,v){super(n,l,f,"EducationalEvents"),this.translate=o,this.toastr=v,this.typeaheadCodec=u.dt((0,E.e)(this.codec.props,["Id","Designation","Number"]))}getTypeaheadItems(n){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Designation":`~*${n}*`}}).pipe((0,s.w)((0,i.Y0)(this.typeaheadCodec)),(0,a.U)(l=>l.map(o=>({Key:o.Id,Value:`${o.Designation} (${o.Number})`}))))}getTypeaheadItemById(n){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Id":`=${n}`}}).pipe((0,s.w)((0,i.Y0)(this.typeaheadCodec)),(0,s.w)(l=>0===l.length?(this.toastr.error(this.translate.instant("global.rest-errors.notfound-message"),this.translate.instant("global.rest-errors.notfound-title")),r.E):(0,d.of)({Key:l[0].Id,Value:`${l[0].Designation} (${l[0].Number})`})))}}return c.\u0275fac=function(n){return new(n||c)(m.LFG(_.eN),m.LFG(e.L),m.LFG(g.sK),m.LFG(x._W))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6401:(C,p,t)=>{t.d(p,{F:()=>R});var e=t(7579),u=t(4707),f=t(4782),s=t(4004),a=t(8675),i=t(1884),r=t(9300),d=t(3900),E=t(5738),h=t(8029),m=t(3978),_=t(5e3),g=t(1303),x=t(520);let R=(()=>{class c{constructor(n,l,o){var v;this.settings=n,this.storageService=l,this.http=o,this.studentConfirmationAvailabilityRecordIds$=new e.x,this.personMasterDataAvailability$=this.loadReportAvailability("Person",this.settings.personMasterDataReportId,[Number(null===(v=this.storageService.getPayload())||void 0===v?void 0:v.id_person)]).pipe((0,f.d)(1)),this.studentConfirmationAvailability$=this.loadReportAvailabilityByAsyncRecordIds("Praesenzinformation",this.settings.studentConfirmationReportId,this.studentConfirmationAvailabilityRecordIds$),this.studentConfirmationAvailabilitySub=this.studentConfirmationAvailability$.connect()}ngOnDestroy(){this.studentConfirmationAvailabilitySub.unsubscribe()}getPersonMasterDataUrl(n){return this.getReportUrl("Person",this.settings.personMasterDataReportId,[n])}getStudentConfirmationUrl(n){return this.getReportUrl("Praesenzinformation",this.settings.studentConfirmationReportId,n)}getEvaluateAbsencesUrl(n){return this.getReportUrl("Praesenzinformation",this.settings.evaluateAbsencesReportId,n)}getEventReportUrl(n){return this.getReportUrl("Anlass",this.settings.testsByCourseReportId,[n])}setStudentConfirmationAvailabilityRecordIds(n){this.studentConfirmationAvailabilityRecordIds$.next(n)}getReportUrl(n,l,o){return`${this.settings.apiUrl}/Files/CrystalReports/${n}/${l}?ids=${o.join(",")}&token=${this.storageService.getAccessToken()}`}loadReportAvailability(n,l,o){return this.http.get(`${this.settings.apiUrl}/CrystalReports/AvailableReports/${n}?ids=${l}&keys=${o.join(",")}`).pipe((0,s.U)(m.Nf),(0,a.O)(!1),(0,i.x)())}loadReportAvailabilityByAsyncRecordIds(n,l,o){return o.pipe((0,r.h)((v,I)=>0===I),(0,d.w)(v=>this.loadReportAvailability(n,l,v)),(0,E.O)(()=>new u.t(1)))}}return c.\u0275fac=function(n){return new(n||c)(_.LFG(h.L),_.LFG(g.V),_.LFG(x.eN))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},7283:(C,p,t)=>{t.d(p,{R:()=>d});var e=t(3900),u=t(8029),f=t(8210),s=t(2786),a=t(109),i=t(5e3),r=t(520);let d=(()=>{class E extends a.r{constructor(m,_){super(m,_,f.y,"StudyClasses","Number")}getActive(){return this.http.get(`${this.baseUrl}/?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,e.w)((0,s.Y0)(f.y)))}getActiveFormativeAssessments(){return this.http.get(`${this.baseUrl}/FormativeAssessments?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,e.w)((0,s.Y0)(f.y)))}}return E.\u0275fac=function(m){return new(m||E)(i.LFG(r.eN),i.LFG(u.L))},E.\u0275prov=i.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},5186:(C,p,t)=>{t.d(p,{i:()=>u});var e=t(634);function u(s){return Object.keys(s).reduce((a,i)=>{const r=function f(s){return s&&(s instanceof Date?(0,e.Z)(s,"yyyy-MM-dd"):String(s))}(s[i]);return r?Object.assign(Object.assign({},a),{[i]:r}):a},{})}},7746:(C,p,t)=>{t.d(p,{v:()=>u,C:()=>f});var e=t(4788);function u(s,a,i){return s.map(r=>{let E,d=null;return r.TypeRef.Id&&(d=a.find(h=>h.Id===r.TypeRef.Id)||null),r.ConfirmationStateId&&(E=i.find(h=>h.Key===r.ConfirmationStateId)),new e.Oz(r,d,null,E)})}function f(s,a,i){return s?a.filter(r=>i.find(d=>d===r.lessonPresence.StudentRef.Id)):a}},5255:(C,p,t)=>{t.d(p,{P:()=>c});const a=function e(o){return function(v){return null==o?void 0:o[v]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var i=t(7121),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function c(o,v){return v?o.filter(function O(o){const v=l(o);return I=>n(I.studentFullName,v)||n(I.studyClassNumber,v)||n(I.Designation,v)||n(I.evaluationText,v)}(v)):o}function n(o,v){return!!o&&l(o).includes(v)}function l(o){return function x(o){return(o=(0,i.Z)(o))&&o.replace(r,a).replace(g,"")}(o.toLowerCase())}},1008:(C,p,t)=>{t.d(p,{Z:()=>m});var e=t(6623),u=t(8492),f=t(4825),s=t(4177),a=u.Z?u.Z.isConcatSpreadable:void 0;const r=function i(_){return(0,s.Z)(_)||(0,f.Z)(_)||!!(a&&_&&_[a])},E=function d(_,g,x,R,c){var O=-1,n=_.length;for(x||(x=r),c||(c=[]);++O<n;){var l=_[O];g>0&&x(l)?g>1?d(l,g-1,x,R,c):(0,e.Z)(c,l):R||(c[c.length]=l)}return c},m=function h(_){return null!=_&&_.length?E(_,1):[]}},6569:(C,p,t)=>{t.d(p,{Z:()=>f});var e=t(2374);const f=function u(s){return s&&s.length?(0,e.Z)(s):[]}}}]);