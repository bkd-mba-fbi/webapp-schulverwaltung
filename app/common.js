"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[592],{368:(b,h,e)=>{e.d(h,{w:()=>a});var n=e(5e3),c=e(9808);function v(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().valueChange.emit("")}),n.TgZ(1,"i",3),n._uU(2,"clear"),n.qZA(),n.qZA()}}let a=(()=>{class o{constructor(){this.value="",this.disabled=!1,this.valueChange=new n.vpe}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["erz-resettable-input"]],inputs:{value:"value",disabled:"disabled",placeholder:"placeholder",label:"label"},outputs:{valueChange:"valueChange"},decls:7,vars:5,consts:[[1,"input-group"],[1,"input-group-prepend"],["id","resettable-input",1,"input-group-text"],[1,"material-icons"],["type","text","aria-describedby","resettable-input",1,"form-control",3,"value","disabled","keyup"],["class","btn btn-link text-decoration-none","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-link","text-decoration-none",3,"click"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"span",2),n.TgZ(3,"i",3),n._uU(4,"search"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"input",4),n.NdJ("keyup",function(x){return i.valueChange.emit(x.target.value)}),n.qZA(),n.YNc(6,v,3,0,"button",5),n.qZA()),2&t&&(n.xp6(5),n.Q6J("value",i.value)("disabled",i.disabled),n.uIk("placeholder",i.placeholder)("aria-label",i.label),n.xp6(1),n.Q6J("ngIf",i.value))},directives:[c.O5],styles:["input[_ngcontent-%COMP%]{padding-right:2.5em}button[_ngcontent-%COMP%]{position:absolute;right:0;z-index:3}"]}),o})()},7467:(b,h,e)=>{e.d(h,{H:()=>m});var n=e(5275),c=e(9610),v=e(1297),a=e(8547),o=e(7579),r=e(2722),t=e(5e3),i=e(2039),d=e(8980),x=e(1104),u=e(9808),l=e(7681),C=e(2925);function I(s,f){if(1&s&&t._UZ(0,"erz-dossier-grades-view",3),2&s){const p=t.oxw().erzLet;t.Q6J("courses",p.courses)("studentId",p.studentId)("gradingScales",p.gradingScales)}}function y(s,f){1&s&&(t.ynx(0),t._UZ(1,"erz-spinner"),t.BQk())}function g(s,f){if(1&s&&(t.ynx(0),t.YNc(1,I,1,3,"erz-dossier-grades-view",1),t.YNc(2,y,2,0,"ng-container",2),t.BQk()),2&s){const p=f.erzLet;t.xp6(1),t.Q6J("ngIf",!p.loading),t.xp6(1),t.Q6J("ngIf",p.loading)}}const D=function(s,f,p,O){return{studentId:s,loading:f,courses:p,gradingScales:O}},m={path:"student/:id",children:[{path:"",component:c.H,children:[{path:"addresses",component:a.S},{path:"absences",component:v.t},{path:"grades",component:(()=>{class s{constructor(p,O){this.state=p,this.dossierGradesService=O,this.destroy$=new o.x}ngOnInit(){this.state.currentDossier$.next("grades"),this.state.studentId$.pipe((0,r.R)(this.destroy$)).subscribe(p=>this.dossierGradesService.setStudentId(p))}ngOnDestroy(){this.destroy$.next()}}return s.\u0275fac=function(p){return new(p||s)(t.Y36(i.j),t.Y36(d.S))},s.\u0275cmp=t.Xpm({type:s,selectors:[["erz-dossier-grades"]],decls:5,vars:14,consts:[[4,"erzLet"],[3,"courses","studentId","gradingScales",4,"ngIf"],[4,"ngIf"],[3,"courses","studentId","gradingScales"]],template:function(p,O){1&p&&(t.YNc(0,g,3,2,"ng-container",0),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async")),2&p&&t.Q6J("erzLet",t.l5B(9,D,t.lcZ(1,1,O.state.studentId$),t.lcZ(2,3,O.dossierGradesService.loading$),t.lcZ(3,5,O.dossierGradesService.studentCourses$),t.lcZ(4,7,O.dossierGradesService.gradingScales$)))},directives:[x.e,u.O5,l.d,C.O],pipes:[u.Ov],styles:[""]}),s})()}]},{path:"absences/confirm",component:n.A}]}},77:(b,h,e)=>{e.d(h,{$:()=>y});var n=e(8029),c=e(9928);const v=c.dt({Id:c.pk,Designation:c.Z_,Number:c.Z_});var a=e(3900),o=e(4004),r=e(2786),t=e(515),i=e(9646),d=e(9975),x=e(2671),u=e(5e3),l=e(520),C=e(8995),I=e(2290);let y=(()=>{class g extends x.v{constructor(E,m,s,f){super(E,m,v,"EducationalEvents"),this.translate=s,this.toastr=f,this.typeaheadCodec=c.dt((0,d.e)(this.codec.props,["Id","Designation","Number"]))}getTypeaheadItems(E){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Designation":`~*${E}*`}}).pipe((0,a.w)((0,r.Y0)(this.typeaheadCodec)),(0,o.U)(m=>m.map(s=>({Key:s.Id,Value:`${s.Designation} (${s.Number})`}))))}getTypeaheadItemById(E){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Id":`=${E}`}}).pipe((0,a.w)((0,r.Y0)(this.typeaheadCodec)),(0,a.w)(m=>0===m.length?(this.toastr.error(this.translate.instant("global.rest-errors.notfound-message"),this.translate.instant("global.rest-errors.notfound-title")),t.E):(0,i.of)({Key:m[0].Id,Value:`${m[0].Designation} (${m[0].Number})`})))}}return g.\u0275fac=function(E){return new(E||g)(u.LFG(l.eN),u.LFG(n.L),u.LFG(C.sK),u.LFG(I._W))},g.\u0275prov=u.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},5999:(b,h,e)=>{e.d(h,{O:()=>i});var n=e(3900),c=e(8029),v=e(9529),a=e(2786),o=e(2671),r=e(5e3),t=e(520);let i=(()=>{class d extends o.v{constructor(u,l){super(u,l,v.t,"Events")}getSubscriptionDetails(u){return this.http.get(`${this.baseUrl}/${u}/SubscriptionDetails`).pipe((0,n.w)((0,a.Y0)(this.codec)))}getDesignation(u){const l=u.Classes?u.Classes.map(C=>C.Number).join(", "):null;return l?u.Designation+", "+l:u.Designation}}return d.\u0275fac=function(u){return new(u||d)(r.LFG(t.eN),r.LFG(c.L))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},7283:(b,h,e)=>{e.d(h,{R:()=>i});var n=e(3900),c=e(8029),v=e(8210),a=e(2786),o=e(109),r=e(5e3),t=e(520);let i=(()=>{class d extends o.r{constructor(u,l){super(u,l,v.y,"StudyClasses","Number")}getActive(){return this.http.get(`${this.baseUrl}/?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,n.w)((0,a.Y0)(v.y)))}getActiveFormativeAssessments(){return this.http.get(`${this.baseUrl}/FormativeAssessments?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,n.w)((0,a.Y0)(v.y)))}}return d.\u0275fac=function(u){return new(u||d)(r.LFG(t.eN),r.LFG(c.L))},d.\u0275prov=r.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},5186:(b,h,e)=>{e.d(h,{i:()=>c});var n=e(634);function c(a){return Object.keys(a).reduce((o,r)=>{const t=function v(a){return a&&(a instanceof Date?(0,n.Z)(a,"yyyy-MM-dd"):String(a))}(a[r]);return t?Object.assign(Object.assign({},o),{[r]:t}):o},{})}},7746:(b,h,e)=>{e.d(h,{v:()=>c,C:()=>v});var n=e(4788);function c(a,o,r){return a.map(t=>{let d,i=null;return t.TypeRef.Id&&(i=o.find(x=>x.Id===t.TypeRef.Id)||null),t.ConfirmationStateId&&(d=r.find(x=>x.Key===t.ConfirmationStateId)),new n.Oz(t,i,null,d)})}function v(a,o,r){return a?o.filter(t=>r.find(i=>i===t.lessonPresence.StudentRef.Id)):o}},5255:(b,h,e)=>{e.d(h,{P:()=>g});const o=function n(s){return function(f){return null==s?void 0:s[f]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var r=e(7121),t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,C=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function g(s,f){return f?s.filter(function D(s){const f=m(s);return p=>E(p.studentFullName,f)||E(p.studyClassNumber,f)||E(p.Designation,f)||E(p.evaluationText,f)}(f)):s}function E(s,f){return!!s&&m(s).includes(f)}function m(s){return function I(s){return(s=(0,r.Z)(s))&&s.replace(t,o).replace(C,"")}(s.toLowerCase())}},1008:(b,h,e)=>{e.d(h,{Z:()=>u});var n=e(6623),c=e(8492),v=e(4825),a=e(4177),o=c.Z?c.Z.isConcatSpreadable:void 0;const t=function r(l){return(0,a.Z)(l)||(0,v.Z)(l)||!!(o&&l&&l[o])},d=function i(l,C,I,y,g){var D=-1,E=l.length;for(I||(I=t),g||(g=[]);++D<E;){var m=l[D];C>0&&I(m)?C>1?i(m,C-1,I,y,g):(0,n.Z)(g,m):y||(g[g.length]=m)}return g},u=function x(l){return null!=l&&l.length?d(l,1):[]}}}]);