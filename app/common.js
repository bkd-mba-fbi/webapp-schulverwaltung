"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[592],{7163:(I,v,t)=>{t.d(v,{w:()=>a});var n=t(5879),c=t(6814);function p(r,s){if(1&r){const e=n.EpF();n.TgZ(0,"button",5),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.valueChange.emit(""))}),n.TgZ(1,"i",2),n._uU(2,"clear"),n.qZA()()}}let a=(()=>{class r{constructor(){this.value="",this.disabled=!1,this.valueChange=new n.vpe}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275cmp=n.Xpm({type:r,selectors:[["erz-resettable-input"]],inputs:{value:"value",disabled:"disabled",placeholder:"placeholder",label:"label"},outputs:{valueChange:"valueChange"},decls:6,vars:5,consts:[[1,"input-group"],["id","resettable-input",1,"input-group-text"],[1,"material-icons"],["type","text","aria-describedby","resettable-input",1,"form-control",3,"value","disabled","keyup"],["class","btn btn-link text-decoration-none","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-link","text-decoration-none",3,"click"]],template:function(i,o){1&i&&(n.TgZ(0,"div",0)(1,"span",1)(2,"i",2),n._uU(3,"search"),n.qZA()(),n.TgZ(4,"input",3),n.NdJ("keyup",function(l){return o.valueChange.emit(l.target.value)}),n.qZA(),n.YNc(5,p,3,0,"button",4),n.qZA()),2&i&&(n.xp6(4),n.Q6J("value",o.value)("disabled",o.disabled),n.uIk("placeholder",o.placeholder)("aria-label",o.label),n.xp6(1),n.Q6J("ngIf",o.value))},dependencies:[c.O5],styles:["input[_ngcontent-%COMP%]{padding-right:2.5em}button[_ngcontent-%COMP%]{position:absolute;right:0;z-index:3}"]})}return r})()},1162:(I,v,t)=>{t.d(v,{H:()=>g});var n=t(917),c=t(5582),p=t(3388),a=t(8705),r=t(8645),s=t(9773),e=t(5879),i=t(4409),o=t(8405),f=t(6814),l=t(6567),d=t(59),E=t(5841);function C(u,_){if(1&u&&e._UZ(0,"erz-dossier-grades-view",3),2&u){const h=e.oxw().erzLet;e.Q6J("courses",h.courses)("studentId",h.studentId)("gradingScales",h.gradingScales)}}function O(u,_){1&u&&(e.ynx(0),e._UZ(1,"erz-spinner"),e.BQk())}function m(u,_){if(1&u&&(e.ynx(0),e.YNc(1,C,1,3,"erz-dossier-grades-view",1),e.YNc(2,O,2,0,"ng-container",2),e.BQk()),2&u){const h=_.erzLet;e.xp6(1),e.Q6J("ngIf",!h.loading),e.xp6(1),e.Q6J("ngIf",h.loading)}}const M=function(u,_,h,y){return{studentId:u,loading:_,courses:h,gradingScales:y}},g={path:"student/:id",children:[{path:"",component:c.H,children:[{path:"addresses",component:a.S},{path:"absences",component:p.t},{path:"grades",component:(()=>{class u{constructor(h,y){this.state=h,this.dossierGradesService=y,this.destroy$=new r.x}ngOnInit(){this.state.currentDossier$.next("grades"),this.state.studentId$.pipe((0,s.R)(this.destroy$)).subscribe(h=>this.dossierGradesService.setStudentId(h))}ngOnDestroy(){this.destroy$.next()}static#t=this.\u0275fac=function(y){return new(y||u)(e.Y36(i.j),e.Y36(o.S))};static#e=this.\u0275cmp=e.Xpm({type:u,selectors:[["erz-dossier-grades"]],decls:5,vars:14,consts:[[4,"erzLet"],[3,"courses","studentId","gradingScales",4,"ngIf"],[4,"ngIf"],[3,"courses","studentId","gradingScales"]],template:function(y,P){1&y&&(e.YNc(0,m,3,2,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async")),2&y&&e.Q6J("erzLet",e.l5B(9,M,e.lcZ(1,1,P.state.studentId$),e.lcZ(2,3,P.dossierGradesService.loading$),e.lcZ(3,5,P.dossierGradesService.studentCourses$),e.lcZ(4,7,P.dossierGradesService.gradingScales$)))},dependencies:[f.O5,l.e,d.O,E.d,f.Ov]})}return u})()}]},{path:"absences/confirm",component:n.A}]}},9245:(I,v,t)=>{t.d(v,{$:()=>O});var n=t(4141),c=t(754);const p=c.dt({Id:c.pk,Designation:c.Z_,Number:c.Z_});var a=t(4664),r=t(7398),s=t(275),e=t(6232),i=t(2096),o=t(7470),f=t(8366),l=t(5879),d=t(9862),E=t(9515),C=t(6869);let O=(()=>{class m extends f.v{constructor(D,g,u,_){super(D,g,p,"EducationalEvents"),this.translate=u,this.toastService=_,this.typeaheadCodec=c.dt((0,o.e)(this.codec.props,["Id","Designation","Number"]))}getTypeaheadItems(D){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Designation":`~*${D}*`}}).pipe((0,a.w)((0,s.Y0)(this.typeaheadCodec)),(0,r.U)(g=>g.map(u=>({Key:u.Id,Value:`${u.Designation} (${u.Number})`}))))}getTypeaheadItemByKey(D){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Id":`=${D}`}}).pipe((0,a.w)((0,s.Y0)(this.typeaheadCodec)),(0,a.w)(g=>0===g.length?(this.toastService.error(this.translate.instant("global.rest-errors.notfound-message"),this.translate.instant("global.rest-errors.notfound-title")),e.E):(0,i.of)({Key:g[0].Id,Value:`${g[0].Designation} (${g[0].Number})`})))}static#t=this.\u0275fac=function(g){return new(g||m)(l.LFG(d.eN),l.LFG(n.L6),l.LFG(E.sK),l.LFG(C.k))};static#e=this.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},654:(I,v,t)=>{t.d(v,{O:()=>i});var n=t(4664),c=t(4141),p=t(6514),a=t(275),r=t(8366),s=t(5879),e=t(9862);let i=(()=>{class o extends r.v{constructor(l,d){super(l,d,p.t,"Events")}getSubscriptionDetailsDefinitions(l){return this.http.get(`${this.baseUrl}/${l}/SubscriptionDetails`).pipe((0,n.w)((0,a.Y0)(this.codec)))}getDesignation(l){const d=l.Classes?l.Classes.map(E=>E.Number).join(", "):null;return d?l.Designation+", "+d:l.Designation}static#t=this.\u0275fac=function(d){return new(d||o)(s.LFG(e.eN),s.LFG(c.L6))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},9018:(I,v,t)=>{t.d(v,{R:()=>i});var n=t(4664),c=t(4141),p=t(2738),a=t(275),r=t(7346),s=t(5879),e=t(9862);let i=(()=>{class o extends r.r{constructor(l,d){super(l,d,p.y,"StudyClasses","Number")}getActive(){return this.http.get(`${this.baseUrl}/?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,n.w)((0,a.Y0)(p.y)))}getActiveFormativeAssessments(){return this.http.get(`${this.baseUrl}/FormativeAssessments?filter.IsActive==true`,{headers:{"X-Role-Restriction":"ClassTeacherRole"}}).pipe((0,n.w)((0,a.Y0)(p.y)))}static#t=this.\u0275fac=function(d){return new(d||o)(s.LFG(e.eN),s.LFG(c.L6))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},2388:(I,v,t)=>{t.d(v,{i:()=>c});var n=t(5301);function c(a){return Object.keys(a).reduce((r,s)=>{const e=function p(a){return a?a instanceof Date?(0,n.Z)(a,"yyyy-MM-dd"):String(a):null}(a[s]);return e?{...r,[s]:e}:r},{})}},6191:(I,v,t)=>{t.d(v,{C:()=>p,v:()=>c});var n=t(3449);function c(a,r,s){return a.map(e=>{let o,i=null;return e.TypeRef.Id&&(i=r.find(f=>f.Id===e.TypeRef.Id)||null),e.ConfirmationStateId&&(o=s.find(f=>f.Key===e.ConfirmationStateId)),new n.Oz(e,i,null,o)})}function p(a,r,s){return a?r.filter(e=>s.find(i=>i===e.lessonPresence.StudentRef.Id)):r}},2547:(I,v,t)=>{t.d(v,{P:()=>c});var n=t(1437);function c(s,e){return e?s.filter(function p(s){const e=r(s);return i=>a(i.studentFullName,e)||a(i.studyClassNumber,e)||a(i.Designation,e)||a(i.evaluationText,e)}(e)):s}function a(s,e){return!!s&&r(s).includes(e)}function r(s){return(0,n.Z)(s.toLowerCase())}},6055:(I,v,t)=>{t.d(v,{Z:()=>l});var n=t(4331),c=t(6875),p=t(5727),a=t(9977),r=c.Z?c.Z.isConcatSpreadable:void 0;const e=function s(d){return(0,a.Z)(d)||(0,p.Z)(d)||!!(r&&d&&d[r])},o=function i(d,E,C,O,m){var M=-1,D=d.length;for(C||(C=e),m||(m=[]);++M<D;){var g=d[M];E>0&&C(g)?E>1?i(g,E-1,C,O,m):(0,n.Z)(m,g):O||(m[m.length]=g)}return m},l=function f(d){return null!=d&&d.length?o(d,1):[]}}}]);