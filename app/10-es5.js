!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,c,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(a){s=!0,c=a}finally{try{o||null==n.return||n.return()}finally{if(s)throw c}}return r}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{sN2L:function(t,i,r){"use strict";r.r(i),r.d(i,"OpenAbsencesModule",function(){return ue});var o,s,a=r("PCNd"),l=r("tyNb"),u=r("2Vo4"),b=r("XNiG"),d=r("VRyK"),p=r("itXk"),f=r("UXun"),g=r("lJxs"),h=r("IzEk"),m=r("CCnw"),v=r("CqUA"),y=r("eB9A"),O=r("jiSq"),S=r("j9z6"),C=r("5QKP"),k=r("IClS"),P=r("fXoL"),$=r("sYmb"),j=((o=function(){function e(t,i,c,r){n(this,e),this.lessonPresencesService=t,this.selectionService=i,this.loadingService=c,this.translate=r,this.loading$=this.loadingService.loading$,this.search$=new u.a(""),this.updateUnconfirmedAbsences$=new b.a,this.unconfirmedAbsences$=Object(d.a)(this.loadUnconfirmedAbsences(),this.updateUnconfirmedAbsences$).pipe(Object(f.a)(1)),this.entries$=this.unconfirmedAbsences$.pipe(Object(g.a)(S.a),Object(f.a)(1)),this.sortCriteriaSubject$=new u.a({primarySortKey:"date",ascending:!1}),this.sortCriteria$=this.sortCriteriaSubject$.asObservable(),this.sortedEntries$=Object(p.a)([this.entries$,this.sortCriteria$]).pipe(Object(g.a)(Object(y.a)(S.e))),this.filteredEntries$=Object(p.a)([this.sortedEntries$,this.search$]).pipe(Object(g.a)(Object(y.a)(O.a)),Object(f.a)(1)),this.currentDetail=null}return c(e,[{key:"getUnconfirmedAbsences",value:function(e,t){return this.entries$.pipe(Object(g.a)(function(n){var i=n.find(function(n){return n.dateString===e&&n.studentId===t});return i?i.absences:[]}))}},{key:"getAllUnconfirmedAbsencesForStudent",value:function(e){return this.entries$.pipe(Object(g.a)(function(t){return t.filter(function(t){return t.studentId===e}).reduce(function(e,t){return e.concat(t.absences)},[])}))}},{key:"toggleSort",value:function(e){var t=this;this.sortCriteriaSubject$.pipe(Object(h.a)(1)).subscribe(function(n){t.sortCriteriaSubject$.next(n.primarySortKey===e?{primarySortKey:e,ascending:!n.ascending}:{primarySortKey:e,ascending:"name"===e})})}},{key:"confirmBackLink",get:function(){return this.currentDetail?["/open-absences/detail",this.currentDetail.personId,this.currentDetail.date]:["/open-absences"]}},{key:"updateAfterConfirm",value:function(){var e=this;Object(p.a)([this.unconfirmedAbsences$.pipe(Object(h.a)(1)),this.selectionService.selectedIds$.pipe(Object(h.a)(1))]).pipe(Object(g.a)(Object(y.a)(S.d))).subscribe(function(t){e.selectionService.clear(),e.updateUnconfirmedAbsences$.next(t)})}},{key:"buildMailToString",value:function(e,t){var n=e.Email,i=this.translate.instant("open-absences.detail.mail.subject"),c=t.map(function(e){return Object(k.d)(e)}).join("%0D%0A");return"".concat(n,"?subject=").concat(i,"&body=").concat(this.translate.instant("open-absences.detail.mail.body"),"%0D%0A").concat(c)}},{key:"loadUnconfirmedAbsences",value:function(){return this.loadingService.load(this.lessonPresencesService.getListOfUnconfirmed())}}]),e}()).\u0275fac=function(e){return new(e||o)(P.Zb(m.a),P.Zb(C.a),P.Zb(v.a),P.Zb($.d))},o.\u0275prov=P.Ib({token:o,factory:o.\u0275fac}),o),M=r("qUtt"),_=((s=function(){function e(){n(this,e)}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=P.Gb({type:s,selectors:[["erz-open-absences"]],features:[P.yb([j,{provide:M.a,useExisting:j}])],decls:1,vars:0,template:function(e,t){1&e&&P.Nb(0,"router-outlet")},directives:[l.k],styles:[""],changeDetection:0}),s),A=r("yl8S"),x=r("EOpz"),w=r("ofXK"),R=r("U+jE"),z=r("4Kj8"),I=r("73sZ");function E(e,t){if(1&e){var n=P.Tb();P.Sb(0,"div",14),P.dc("click",function(){P.vc(n);var e=t.$implicit;return P.fc(4).openAbsencesService.toggleSort(e)}),P.Dc(1),P.gc(2,"translate"),P.Sb(3,"span",15),P.Dc(4),P.Rb(),P.Rb()}if(2&e){var i=t.$implicit,c=P.fc(3).erzLet,r=P.fc();P.lc("className",i),P.zb(1),P.Fc(" ",P.hc(2,3,"open-absences.list.header."+i)," "),P.zb(3),P.Ec(r.getSortDirectionCharacter(c.sortCriteria,i))}}var F=function(e,t){return["detail",e,t]},D=function(e){return{count:e}};function L(e,t){if(1&e){var n=P.Tb();P.Sb(0,"div"),P.Sb(1,"div",16),P.Sb(2,"div",17),P.dc("click",function(e){P.vc(n);var t=P.uc(4);return P.fc(4).onCheckboxCellClick(e,t)}),P.Sb(3,"input",18,19),P.dc("change",function(){P.vc(n);var e=t.$implicit;return P.fc(4).selectionService.toggle(e)}),P.gc(5,"async"),P.Rb(),P.Rb(),P.Sb(6,"div",20),P.Sb(7,"a",21),P.Dc(8),P.Rb(),P.Rb(),P.Sb(9,"div",22),P.Dc(10),P.Rb(),P.Sb(11,"div",23),P.Dc(12),P.gc(13,"translate"),P.Rb(),P.Sb(14,"div",24),P.Dc(15),P.gc(16,"translate"),P.Rb(),P.Sb(17,"div",25),P.Dc(18),P.gc(19,"erzDaysDifference"),P.Rb(),P.Sb(20,"div",26),P.Dc(21),P.gc(22,"date"),P.Rb(),P.Rb(),P.Rb()}if(2&e){var i=t.$implicit,c=P.fc(4);P.zb(3),P.lc("checked",P.hc(5,9,c.selectionService.isSelected$(i))),P.zb(4),P.lc("routerLink",P.qc(22,F,i.studentId,i.dateString)),P.zb(1),P.Ec(i.studentFullName),P.zb(2),P.Fc(" ",i.studyClassNumber," "),P.zb(2),P.Fc(" ",P.ic(13,11,c.getLessonsCountKey(i),P.pc(25,D,i.lessonsCount))," "),P.zb(3),P.Gc(" ",i.studyClassNumber,", ",P.ic(16,14,c.getLessonsCountKey(i),P.pc(27,D,i.lessonsCount))," "),P.zb(3),P.Fc(" ",P.hc(19,17,i.date)," "),P.zb(3),P.Ec(P.ic(22,19,i.date,"dd.MM.yyyy"))}}var N=function(){return["name","date"]};function T(e,t){if(1&e){var n=P.Tb();P.Qb(0),P.Sb(1,"div",4),P.Sb(2,"erz-resettable-input",5),P.dc("valueChange",function(e){return P.vc(n),P.fc(3).openAbsencesService.search$.next(e)}),P.gc(3,"async"),P.gc(4,"translate"),P.gc(5,"translate"),P.Rb(),P.Sb(6,"div",6),P.Sb(7,"div",7),P.Dc(8),P.gc(9,"translate"),P.Rb(),P.Sb(10,"a",8),P.Sb(11,"i",9),P.Dc(12,"edit"),P.Rb(),P.Rb(),P.Rb(),P.Rb(),P.Sb(13,"div",10),P.Sb(14,"div",11),P.Bc(15,E,5,5,"div",12),P.Rb(),P.Bc(16,L,23,29,"div",13),P.Rb(),P.Pb()}if(2&e){var i=P.fc(2).erzLet,c=P.fc();P.zb(2),P.lc("value",P.hc(3,8,c.openAbsencesService.search$))("placeholder",P.hc(4,10,"open-absences.search-by-name-or-class"))("label",P.hc(5,12,"open-absences.search")),P.zb(6),P.Fc(" ",P.ic(9,14,"open-absences.selected",P.pc(17,D,i.selection.length))," "),P.zb(2),P.Eb("disabled",0===i.selection.length),P.zb(5),P.lc("ngForOf",P.oc(19,N)),P.zb(1),P.lc("ngForOf",i.entries)}}function U(e,t){1&e&&(P.Sb(0,"p",27),P.Dc(1),P.gc(2,"translate"),P.Rb()),2&e&&(P.zb(1),P.Ec(P.hc(2,1,"open-absences.noEntries")))}function K(e,t){if(1&e&&(P.Qb(0),P.Bc(1,T,17,20,"ng-container",1),P.gc(2,"async"),P.Bc(3,U,3,3,"ng-template",null,3,P.Cc),P.Pb()),2&e){var n,i=P.uc(4),c=P.fc().erzLet,r=P.fc();P.zb(1),P.lc("ngIf",(null==(n=P.hc(2,2,r.openAbsencesService.sortedEntries$))?null:n.length)>0||(null==c.entries?null:c.entries.length)>0)("ngIfElse",i)}}function B(e,t){1&e&&P.Nb(0,"erz-spinner")}function Z(e,t){if(1&e&&(P.Sb(0,"div"),P.Bc(1,K,5,4,"ng-container",1),P.gc(2,"async"),P.Bc(3,B,1,0,"ng-template",null,2,P.Cc),P.Rb()),2&e){var n=P.uc(4),i=P.fc();P.zb(1),P.lc("ngIf",!P.hc(2,2,i.openAbsencesService.loading$))("ngIfElse",n)}}var G,X=function(e,t,n){return{selection:e,entries:t,sortCriteria:n}},J=((G=function(){function e(t,i,c){n(this,e),this.openAbsencesService=t,this.selectionService=i,this.scrollPosition=c,this.destroy$=new b.a}return c(e,[{key:"ngOnInit",value:function(){this.openAbsencesService.currentDetail=null,this.selectionService.clearNonOpenAbsencesEntries()}},{key:"ngAfterViewInit",value:function(){this.scrollPosition.restore()}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"onCheckboxCellClick",value:function(e,t){e.target!==t&&t.click()}},{key:"getSortDirectionCharacter",value:function(e,t){return e.primarySortKey!==t?"":e.ascending?"\u2193":"\u2191"}},{key:"getLessonsCountKey",value:function(e){return"open-absences.list.content.lessonsCount."+(1===e.lessonsCount?"singular":"plural")}}]),e}()).\u0275fac=function(e){return new(e||G)(P.Mb(j),P.Mb(C.a),P.Mb(A.a))},G.\u0275cmp=P.Gb({type:G,selectors:[["erz-open-absences-list"]],decls:4,vars:11,consts:[[4,"erzLet"],[4,"ngIf","ngIfElse"],["loading",""],["noEntries",""],[1,"pt-3","pl-3","pr-3"],[1,"d-flex","header-search",3,"value","placeholder","label","valueChange"],[1,"d-flex","align-items-center","justify-content-between","mt-1"],[1,"selection-count","pl-1"],["routerLink","/open-absences/confirm",1,"edit","btn","btn-primary","mt-1","mb-2"],[1,"material-icons"],[1,"content"],[1,"absence-header"],[3,"className","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"className","click"],[1,"sort-direction"],[1,"absence-entry"],[1,"checkbox",3,"click"],["type","checkbox",1,"form-check-input",3,"checked","change"],["checkbox",""],[1,"name","pr-2"],[3,"routerLink"],[1,"study-class"],[1,"lessons-count"],[1,"study-class-lessons-count"],[1,"days-ago"],[1,"date"],[1,"mt-3"]],template:function(e,t){1&e&&(P.Bc(0,Z,5,4,"div",0),P.gc(1,"async"),P.gc(2,"async"),P.gc(3,"async")),2&e&&P.lc("erzLet",P.rc(7,X,P.hc(1,1,t.selectionService.selection$),P.hc(2,3,t.openAbsencesService.filteredEntries$),P.hc(3,5,t.openAbsencesService.sortCriteria$)))},directives:[x.a,w.m,R.a,l.i,w.l,z.a],pipes:[w.b,$.c,I.a,w.e],styles:['.content[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.header-search[_ngcontent-%COMP%]{max-width:500px}.edit[_ngcontent-%COMP%]{line-height:1;font-size:2.2rem}.absence-header[_ngcontent-%COMP%]{cursor:pointer;padding:1.5rem;display:grid;grid-template-areas:"name date";grid-template-columns:5fr 1fr;border-top:1px solid #dee2e6;border-bottom:2px solid #dee2e6}.absence-entry[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e9ecef;display:grid;grid-template-areas:"checkbox name study-class lessons-count days-ago date";grid-template-columns:-webkit-min-content 2fr 1fr 1fr 1fr 1fr;grid-template-columns:min-content 2fr 1fr 1fr 1fr 1fr}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.6rem .75rem 0 0}.absence-all[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding-top:.2rem}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.name[_ngcontent-%COMP%]{grid-area:name;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#33333d}.lessons-count[_ngcontent-%COMP%]{grid-area:lessons-count}.study-class[_ngcontent-%COMP%]{grid-area:study-class}.study-class-lessons-count[_ngcontent-%COMP%]{grid-area:study-class-lessons-count;display:none}.days-ago[_ngcontent-%COMP%]{color:#6c757d;grid-area:days-ago}.date[_ngcontent-%COMP%]{grid-area:date}@media (max-width:750px){.content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.absence-header[_ngcontent-%COMP%]{grid-template-areas:"name date";grid-template-columns:3fr 2fr}.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox name date" "checkbox study-class-lessons-count days-ago";grid-template-columns:-webkit-min-content 3fr 2fr;grid-template-columns:min-content 3fr 2fr}.study-class-lessons-count[_ngcontent-%COMP%]{display:block}.lessons-count[_ngcontent-%COMP%], .study-class[_ngcontent-%COMP%]{display:none}.days-ago[_ngcontent-%COMP%], .study-class-lessons-count[_ngcontent-%COMP%]{font-size:1.3125rem;color:#adb5bd}}'],changeDetection:0}),G),q=r("EY2u"),Q=r("eIep"),V=r("1G5W"),W=r("pLZG"),Y=r("K+0v"),H=r("OvQW"),ee=r("KJh6"),te=r("xHFS"),ne=r("ZLMY"),ie=function(){return["/open-absences"]};function ce(e,t){if(1&e&&(P.Sb(0,"div",2),P.Sb(1,"button",3),P.Sb(2,"div",4),P.Sb(3,"i",5),P.Dc(4,"navigate_before"),P.Rb(),P.Sb(5,"span",6),P.Dc(6),P.gc(7,"async"),P.Rb(),P.Rb(),P.Rb(),P.Rb()),2&e){var n=P.fc();P.zb(1),P.lc("routerLink",P.oc(4,ie)),P.zb(5),P.Ec(P.hc(7,2,n.studentFullName$))}}var re,oe,se,ae=[{path:"",component:_,children:[{path:"",component:J,data:{restoreScrollPositionFrom:["/open-absences/detail/:personId/:date","/open-absences/confirm"]}},{path:"detail/:personId/:date",component:(re=function(){function t(i,c,r,o,s,a,l){var u=this;n(this,t),this.router=i,this.route=c,this.openAbsencesService=r,this.presenceTypesService=o,this.personService=s,this.selectionService=a,this.scrollPosition=l,this.absences$=this.route.paramMap.pipe(Object(Q.a)(this.getAbsencesForParams.bind(this))),this.hasAbsences$=this.absences$.pipe(Object(g.a)(Object(Y.c)(1))),this.studentFullName$=this.absences$.pipe(Object(g.a)(function(e){return e[0]&&e[0].StudentFullName||null})),this.allSelected$=Object(p.a)([this.absences$,this.selectionService.selection$]).pipe(Object(g.a)(function(t){var n=e(t,2),i=n[0],c=n[1];return i.length===c.length})),this.studentEmail$=this.absences$.pipe(Object(g.a)(function(e){return e[0]&&e[0].StudentRef.Id||null}),Object(Q.a)(function(e){return e?u.personService.getByIdWithEmailInfos(e):q.a})),this.allUnconfirmedAbsencesForStudent$=this.route.paramMap.pipe(Object(Q.a)(this.getAbsencesForStudentParam.bind(this))),this.mailTo$=Object(p.a)([this.studentEmail$,this.allUnconfirmedAbsencesForStudent$]).pipe(Object(g.a)(function(t){var n=e(t,2),i=n[0],c=n[1];return u.openAbsencesService.buildMailToString(i,c)})),this.destroy$=new b.a}return c(t,[{key:"ngOnInit",value:function(){var e=this;this.selectionService.clearNonLessonPresences(),this.route.paramMap.pipe(Object(V.a)(this.destroy$)).subscribe(function(t){return e.openAbsencesService.currentDetail={date:String(t.get("date")),personId:Number(t.get("personId"))}}),this.hasAbsences$.pipe(Object(V.a)(this.destroy$),Object(W.a)(Object(H.not)(Y.b))).subscribe(function(){return e.router.navigate(["/open-absences"])})}},{key:"ngAfterViewInit",value:function(){this.scrollPosition.restore()}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"toggleAll",value:function(e){var t=this;e?this.absences$.pipe(Object(h.a)(1)).subscribe(function(e){return t.selectionService.clear(e)}):this.selectionService.clear()}},{key:"onRowClick",value:function(e,t){e.target!==t&&t.click()}},{key:"getPresenceTypeDesignation",value:function(e){return this.presenceTypesService.displayedTypes$.pipe(Object(g.a)(function(t){var n;return e.TypeRef.Id&&(null===(n=t.find(function(t){return t.Id===e.TypeRef.Id}))||void 0===n?void 0:n.Designation)||null}))}},{key:"getAbsencesForParams",value:function(e){return this.openAbsencesService.getUnconfirmedAbsences(String(e.get("date")),Number(e.get("personId")))}},{key:"getAbsencesForStudentParam",value:function(e){return this.openAbsencesService.getAllUnconfirmedAbsencesForStudent(Number(e.get("personId")))}}]),t}(),re.\u0275fac=function(e){return new(e||re)(P.Mb(l.g),P.Mb(l.a),P.Mb(j),P.Mb(ee.a),P.Mb(te.a),P.Mb(C.a),P.Mb(A.a))},re.\u0275cmp=P.Gb({type:re,selectors:[["erz-open-absences-detail"]],decls:3,vars:8,consts:[["class","d-flex align-items-center justify-content-between",4,"erzLet"],[3,"absences$","selectionService","confirmLink","displayEmail","mailTo$"],[1,"d-flex","align-items-center","justify-content-between"],["type","button",1,"back","btn","btn-link","p-3",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"material-icons"],[1,"ml-3"]],template:function(e,t){1&e&&(P.Bc(0,ce,8,5,"div",0),P.gc(1,"async"),P.Nb(2,"erz-student-profile-absences",1)),2&e&&(P.lc("erzLet",P.hc(1,6,t.selectionService.selection$)),P.zb(2),P.lc("absences$",t.absences$)("selectionService",t.selectionService)("confirmLink","/open-absences/confirm")("displayEmail",!0)("mailTo$",t.mailTo$))},directives:[x.a,ne.a,l.h],pipes:[w.b],styles:['.content[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.back[_ngcontent-%COMP%]{color:#33333d;text-decoration:none}.back[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-decoration:underline}.edit[_ngcontent-%COMP%]{line-height:1;font-size:2.2rem}.absence-all[_ngcontent-%COMP%]{grid-template-areas:"checkbox all";grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}.absence-all[_ngcontent-%COMP%], .absence-entry[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e9ecef;display:grid}.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:-webkit-min-content 2fr 1fr 2fr;grid-template-columns:min-content 2fr 1fr 2fr}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.6rem .75rem 0 0}.absence-all[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding-top:.2rem}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width:750px){.content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.absence-all[_ngcontent-%COMP%]{grid-template-areas:"checkbox all"}.absence-all[_ngcontent-%COMP%], .absence-entry[_ngcontent-%COMP%]{grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type"}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0}),re),data:{restoreScrollPositionFrom:["/open-absences/confirm"]}},{path:"confirm",component:r("hH5/").a}]}],le=((se=function e(){n(this,e)}).\u0275fac=function(e){return new(e||se)},se.\u0275mod=P.Kb({type:se}),se.\u0275inj=P.Jb({imports:[[l.j.forChild(ae)],l.j]}),se),ue=((oe=function e(){n(this,e)}).\u0275fac=function(e){return new(e||oe)},oe.\u0275mod=P.Kb({type:oe}),oe.\u0275inj=P.Jb({imports:[[a.a,le]]}),oe)},yl8S:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var r=i("tyNb"),o=i("XNiG"),s=i("LRne"),a=i("pLZG"),l=i("lJxs"),u=i("IzEk"),b=i("5+tZ"),d=i("eIep"),p=i("Y6wi"),f=i("UXun"),g=i("1G5W"),h=i("zP0r"),m=i("fXoL"),v=i("ofXK"),y=function(){var e=function(){function e(t,i){var c=this;n(this,e),this.router=t,this.viewportScroller=i,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new o.a,this.scrollPosition$=this.router.events.pipe(Object(a.a)(S),Object(l.a)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe(Object(a.a)(O)),this.navigationEnd$=this.router.events.pipe(Object(a.a)(C)),this.route$=this.activationEnd$.pipe(Object(u.a)(1)).pipe(Object(b.a)(function(e){return[Object(s.a)(e),c.navigationEnd$.pipe(Object(d.a)(function(){return c.activationEnd$.pipe(Object(u.a)(1))}))]}),Object(p.a)(),Object(l.a)(function(e){return e.snapshot}),Object(f.a)(1)),this.scrollPosition$.pipe(Object(g.a)(this.destroy$)).subscribe(function(e){return c.currentScrollPosition=e}),this.route$.pipe(Object(g.a)(this.destroy$)).subscribe(function(e){c.previousRoute=c.currentRoute,c.currentRoute=e})}return c(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"restore",value:function(){var e=this;if(this.currentRoute&&this.requiresStoring(this.currentRoute)){if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){var t=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[t]||[0,0])}var n=this.currentRoute;this.route$.pipe(Object(h.a)(1),Object(u.a)(1),Object(g.a)(this.destroy$),Object(a.a)(function(t){return e.shouldStoreFor(n,t)})).subscribe(function(){var t=e.getPath(n);e.scrollPositions[t]=e.currentScrollPosition})}}},{key:"getScrollPosition",value:function(){return this.viewportScroller.getScrollPosition()}},{key:"scrollToPosition",value:function(e){this.viewportScroller.scrollToPosition(e)}},{key:"getPath",value:function(e){return e?"/"+e.pathFromRoot.map(function(e){return e.routeConfig&&e.routeConfig.path}).filter(function(e){return e}).join("/"):"/"}},{key:"requiresStoring",value:function(e){return Boolean(e&&e.routeConfig&&e.routeConfig.data&&Array.isArray(e.routeConfig.data.restoreScrollPositionFrom)&&e.routeConfig.data.restoreScrollPositionFrom.length>0)}},{key:"shouldStoreFor",value:function(e,t){return(e&&e.routeConfig&&e.routeConfig.data&&Array.isArray(e.routeConfig.data.restoreScrollPositionFrom)?e.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Zb(r.g),m.Zb(v.t))},e.\u0275prov=m.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function O(e){return e instanceof r.b}function S(e){return e instanceof r.e}function C(e){return e instanceof r.d}}}])}();