!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==t)return;var r,i,c=[],a=!0,o=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(c.push(r.value),!n||c.length!==n);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{IptF:function(n,r,c){"use strict";c.r(r),c.d(r,"MyProfileModule",function(){return Ee});var a,o,l=c("PCNd"),s=c("tyNb"),f=c("2Vo4"),d=c("eIep"),p=c("UXun"),u=c("/Td9"),b=c("fXoL"),m=((o=function(){function e(n){var r=this;t(this,e),this.profileService=n,this.reset$=new f.a(void 0),this.profile$=this.reset$.pipe(Object(d.a)(function(){return r.profileService.getMyProfile()}),Object(p.a)(1)),this.loading$=this.profileService.loading$}return i(e,[{key:"reset",value:function(){this.reset$.next()}}]),e}()).\u0275fac=function(e){return new(e||o)(b.Zb(u.a))},o.\u0275prov=b.Ib({token:o,factory:o.\u0275fac}),o),g=((a=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=b.Gb({type:a,selectors:[["erz-my-profile"]],features:[b.yb([m])],decls:1,vars:0,template:function(e,n){1&e&&b.Nb(0,"router-outlet")},directives:[s.k],styles:[""],changeDetection:0}),a),v=c("EOpz"),y=c("ofXK"),h=c("jtHE"),z=c("itXk"),S=c("lJxs"),I=(c("vsAb"),c("Ug8t")),R=c("PT0D");function w(e,n){if(1&e&&(b.Sb(0,"span"),b.Dc(1),b.Rb()),2&e){var t=b.fc(2);b.zb(1),b.Fc("(",t.student.Gender,")")}}function B(e,n){if(1&e&&(b.Sb(0,"a",10),b.Sb(1,"i",11),b.Dc(2,"description"),b.Rb(),b.Rb()),2&e){var t=b.fc().erzLet;b.lc("href",t,b.xc)}}function O(e,n){if(1&e&&(b.Qb(0),b.Bc(1,B,3,1,"a",9),b.Pb()),2&e){var t=n.erzLet;b.zb(1),b.lc("ngIf",t)}}function $(e,n){if(1&e&&(b.Sb(0,"div",2),b.Sb(1,"div",3),b.Nb(2,"erz-avatar",4),b.Sb(3,"div",5),b.Dc(4),b.Bc(5,w,2,1,"span",6),b.Sb(6,"div",7),b.Dc(7),b.gc(8,"date"),b.Rb(),b.Rb(),b.Rb(),b.Bc(9,O,2,1,"ng-container",8),b.gc(10,"async"),b.Rb()),2&e){var t=b.fc();b.zb(2),b.lc("studentId",t.student.Id),b.zb(2),b.Hc(" ",t.student.LastName," ",t.student.FirstName," ",t.student.MiddleName," "),b.zb(1),b.lc("ngIf",t.student.Gender),b.zb(2),b.Ec(b.ic(8,7,t.student.Birthdate,"dd.MM.yyyy")),b.zb(2),b.lc("erzLet",b.hc(10,10,t.reportUrl$))}}function k(e,n){if(1&e&&(b.Sb(0,"div",12),b.Dc(1),b.Rb()),2&e){var t=b.fc();b.zb(1),b.Ec(t.student.Email)}}var D,P,L,M=((D=function(){function n(r){var i=this;t(this,n),this.reportsService=r,this.studentId$=new h.a(1),this.reportUrl$=Object(z.a)([this.reportsService.personMasterDataAvailability$,this.studentId$]).pipe(Object(S.a)(function(n){var t=e(n,2),r=t[0],c=t[1];return r&&c?i.reportsService.getPersonMasterDataUrl(c):null}))}return i(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var n;e.student&&this.studentId$.next((null===(n=e.student.currentValue)||void 0===n?void 0:n.Id)||null)}}]),n}()).\u0275fac=function(e){return new(e||D)(b.Mb(I.a))},D.\u0275cmp=b.Gb({type:D,selectors:[["erz-my-profile-header"]],inputs:{student:"student"},features:[b.xb],decls:2,vars:2,consts:[["class","avatar-person",4,"ngIf"],["class","email",4,"ngIf"],[1,"avatar-person"],[1,"d-flex"],[1,"mr-3","avatar","large",3,"studentId"],[1,"person"],[4,"ngIf"],[1,"birthdate"],[4,"erzLet"],["class","report btn btn-primary mr-2","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"report","btn","btn-primary","mr-2",3,"href"],[1,"material-icons"],[1,"email"]],template:function(e,n){1&e&&(b.Bc(0,$,11,12,"div",0),b.Bc(1,k,2,1,"div",1)),2&e&&(b.lc("ngIf",n.student),b.zb(1),b.lc("ngIf",n.student))},directives:[y.m,R.a,v.a],pipes:[y.e,y.b],styles:[".avatar-person[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:1.5rem}.person[_ngcontent-%COMP%]{align-self:center}.email[_ngcontent-%COMP%]{padding:1.5rem 0 0 1.5rem}.report[_ngcontent-%COMP%]{align-self:flex-start;line-height:1;font-size:2.2rem}"],changeDetection:0}),D),F=c("1kSV"),N=c("sYmb"),x=((P=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=b.Gb({type:P,selectors:[["erz-my-profile-entry"]],inputs:{label:"label",value:"value"},decls:6,vars:4,consts:[[1,"row"],[1,"col-md-6"]],template:function(e,n){1&e&&(b.Sb(0,"dl",0),b.Sb(1,"dt",1),b.Dc(2),b.gc(3,"translate"),b.Rb(),b.Sb(4,"dd",1),b.Dc(5),b.Rb(),b.Rb()),2&e&&(b.zb(2),b.Ec(b.hc(3,2,n.label)),b.zb(3),b.Ec(n.value))},pipes:[N.c],styles:["dl[_ngcontent-%COMP%]{padding:0 1.5rem}dt[_ngcontent-%COMP%]{font-weight:400;color:rgba(51,51,61,.5)}"],changeDetection:0}),P),E=c("4vw6"),C=c("mOco"),j=((L=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=b.Gb({type:L,selectors:[["erz-my-profile-address"]],inputs:{address:"address"},decls:2,vars:1,template:function(e,n){1&e&&(b.Sb(0,"address"),b.Dc(1),b.Rb()),2&e&&(b.zb(1),b.Ec(n.address))},styles:["[_nghost-%COMP%]{padding:1.5rem}address[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),L),G=c("BYMW"),A=c("87Sz"),_=c("4Kj8");function T(e,n){if(1&e&&b.Nb(0,"erz-my-profile-entry",23),2&e){var t=b.fc(3).erzLet;b.mc("value",t.profile.student.SocialSecurityNumber)}}function H(e,n){if(1&e&&b.Nb(0,"erz-my-profile-entry",24),2&e){var t=b.fc(3).erzLet;b.mc("value",t.profile.student.HomeTown||t.profile.student.Nationality)}}function U(e,n){if(1&e&&b.Nb(0,"erz-my-profile-entry",25),2&e){var t=b.fc(3).erzLet;b.mc("value",t.profile.student.NativeLanguage)}}function J(e,n){if(1&e&&b.Nb(0,"erz-my-profile-entry",26),2&e){var t=b.fc(3).erzLet;b.mc("value",t.profile.stayPermitValue)}}function V(e,n){if(1&e&&(b.Nb(0,"erz-my-profile-entry",27),b.gc(1,"date")),2&e){var t=b.fc(3).erzLet;b.mc("value",b.ic(1,1,t.profile.student.StayPermitExpiry,"mediumDate"))}}function K(e,n){if(1&e){var t=b.Tb();b.Sb(0,"erz-student-profile-entry-header",28),b.dc("click",function(){return b.vc(t),b.fc(),b.uc(8).toggle("student-address")}),b.Dc(1),b.gc(2,"translate"),b.Rb()}2&e&&(b.lc("opened",n.opened),b.zb(1),b.Fc(" ",b.hc(2,2,"shared.profile.student-address")," "))}function X(e,n){if(1&e&&(b.Sb(0,"div",29),b.Sb(1,"a",30),b.Sb(2,"i",31),b.Dc(3,"edit"),b.Rb(),b.Rb(),b.Nb(4,"erz-student-profile-address",32),b.Rb()),2&e){var t=b.fc(3).erzLet;b.zb(4),b.lc("student",t.profile.student)}}function Q(e,n){if(1&e){var t=b.Tb();b.Sb(0,"erz-student-profile-entry-header",28),b.dc("click",function(){return b.vc(t),b.fc(2),b.uc(8).toggle("correspondence-address")}),b.Dc(1),b.gc(2,"translate"),b.Rb()}2&e&&(b.lc("opened",n.opened),b.zb(1),b.Fc(" ",b.hc(2,2,"shared.profile.correspondence-address")," "))}function Y(e,n){if(1&e&&b.Nb(0,"erz-my-profile-address",34),2&e){var t=b.fc(4).erzLet;b.lc("address",t.profile.student.CorrespondenceAddress)}}function q(e,n){1&e&&(b.Sb(0,"ngb-panel",33),b.Bc(1,Q,3,4,"ng-template",17),b.Bc(2,Y,1,1,"ng-template",18),b.Rb())}function Z(e,n){if(1&e){var t=b.Tb();b.Sb(0,"erz-student-profile-entry-header",28),b.dc("click",function(){return b.vc(t),b.fc(2),b.uc(8).toggle("billing-address")}),b.Dc(1),b.gc(2,"translate"),b.Rb()}2&e&&(b.lc("opened",n.opened),b.zb(1),b.Fc(" ",b.hc(2,2,"shared.profile.billing-address")," "))}function W(e,n){if(1&e&&b.Nb(0,"erz-my-profile-address",34),2&e){var t=b.fc(4).erzLet;b.lc("address",t.profile.student.BillingAddress)}}function ee(e,n){1&e&&(b.Sb(0,"ngb-panel",35),b.Bc(1,Z,3,4,"ng-template",17),b.Bc(2,W,1,1,"ng-template",18),b.Rb())}function ne(e,n){if(1&e){var t=b.Tb();b.Sb(0,"erz-student-profile-entry-header",28),b.dc("click",function(){return b.vc(t),b.fc(2),b.uc(8).toggle("legal-representatives")}),b.Dc(1),b.gc(2,"translate"),b.Rb()}2&e&&(b.lc("opened",n.opened),b.zb(1),b.Fc(" ",b.hc(2,2,"shared.profile.legal-representation")," "))}function te(e,n){1&e&&b.Nb(0,"erz-student-profile-legal-representative",38),2&e&&b.lc("person",n.$implicit)}function re(e,n){if(1&e&&b.Bc(0,te,1,1,"erz-student-profile-legal-representative",37),2&e){var t=b.fc(4).erzLet;b.lc("ngForOf",t.profile.legalRepresentativePersons)}}function ie(e,n){1&e&&(b.Sb(0,"ngb-panel",36),b.Bc(1,ne,3,4,"ng-template",17),b.Bc(2,re,1,1,"ng-template",18),b.Rb())}function ce(e,n){if(1&e&&(b.Qb(0),b.Dc(1),b.Pb()),2&e){var t=b.fc(2).index;b.zb(1),b.Ec(t+1)}}function ae(e,n){if(1&e){var t=b.Tb();b.Sb(0,"erz-student-profile-entry-header",28),b.dc("click",function(){b.vc(t);var e=b.fc().index;return b.fc(),b.uc(8).toggle("apprenticeship-company-"+e)}),b.Dc(1),b.gc(2,"translate"),b.Bc(3,ce,2,1,"ng-container",40),b.Rb()}if(2&e){var r=n.opened,i=b.fc(4).erzLet;b.lc("opened",r),b.zb(1),b.Fc(" ",b.hc(2,3,"shared.profile.apprenticeship-company")," "),b.zb(2),b.lc("ngIf",i.profile.apprenticeshipCompanies.length>1)}}function oe(e,n){if(1&e&&b.Nb(0,"erz-student-profile-apprenticeship-company",41),2&e){var t=b.fc().$implicit;b.lc("company",t)}}function le(e,n){1&e&&(b.Sb(0,"ngb-panel",39),b.Bc(1,ae,4,5,"ng-template",17),b.Bc(2,oe,1,1,"ng-template",18),b.Rb()),2&e&&b.lc("id","apprenticeship-company-"+n.index)}function se(e,n){if(1&e&&(b.Sb(0,"div",7),b.Sb(1,"div",8),b.Bc(2,T,1,1,"erz-my-profile-entry",9),b.Bc(3,H,1,1,"erz-my-profile-entry",10),b.Bc(4,U,1,1,"erz-my-profile-entry",11),b.Bc(5,J,1,1,"erz-my-profile-entry",12),b.Bc(6,V,2,4,"erz-my-profile-entry",13),b.Rb(),b.Sb(7,"ngb-accordion",14,15),b.Sb(9,"ngb-panel",16),b.Bc(10,K,3,4,"ng-template",17),b.Bc(11,X,5,1,"ng-template",18),b.Rb(),b.Bc(12,q,3,0,"ngb-panel",19),b.Bc(13,ee,3,0,"ngb-panel",20),b.Bc(14,ie,3,0,"ngb-panel",21),b.Bc(15,le,3,1,"ngb-panel",22),b.Rb(),b.Rb()),2&e){var t=b.fc(2).erzLet;b.zb(2),b.lc("ngIf",t.profile.student.SocialSecurityNumber),b.zb(1),b.lc("ngIf",t.profile.student.HomeTown||t.profile.student.Nationality),b.zb(1),b.lc("ngIf",t.profile.student.NativeLanguage),b.zb(1),b.lc("ngIf",t.profile.stayPermitValue),b.zb(1),b.lc("ngIf",t.profile.student.StayPermitExpiry),b.zb(6),b.lc("ngIf",t.profile.student.CorrespondenceAddress),b.zb(1),b.lc("ngIf",t.profile.student.BillingAddress),b.zb(1),b.lc("ngIf",t.profile.legalRepresentativePersons.length>0),b.zb(1),b.lc("ngForOf",t.profile.apprenticeshipCompanies)}}function fe(e,n){1&e&&(b.Sb(0,"p"),b.Dc(1),b.gc(2,"translate"),b.Rb()),2&e&&(b.zb(1),b.Ec(b.hc(2,1,"shared.profile.no-profile")))}function de(e,n){if(1&e&&(b.Qb(0),b.Nb(1,"erz-my-profile-header",4),b.Bc(2,se,16,9,"div",5),b.Bc(3,fe,3,3,"ng-template",null,6,b.Cc),b.Pb()),2&e){var t=b.uc(4),r=b.fc().erzLet;b.zb(1),b.lc("student",r.profile&&r.profile.student),b.zb(1),b.lc("ngIf",r.profile)("ngIfElse",t)}}function pe(e,n){1&e&&b.Nb(0,"erz-spinner")}function ue(e,n){if(1&e&&(b.Sb(0,"div",1),b.Bc(1,de,5,3,"ng-container",2),b.gc(2,"async"),b.Bc(3,pe,1,0,"ng-template",null,3,b.Cc),b.Rb()),2&e){var t=b.uc(4),r=b.fc();b.zb(1),b.lc("ngIf",!b.hc(2,2,r.profileService.loading$))("ngIfElse",t)}}var be,me=function(e){return{profile:e}},ge=((be=function(){function e(n){t(this,e),this.profileService=n}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||be)(b.Mb(m))},be.\u0275cmp=b.Gb({type:be,selectors:[["erz-my-profile-show"]],decls:2,vars:5,consts:[["class","erz-container erz-container-limited erz-container-padding-y erz-container-padding-x-responsive",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y","erz-container-padding-x-responsive"],[4,"ngIf","ngIfElse"],["loading",""],[3,"student"],["class","profile-content",4,"ngIf","ngIfElse"],["noProfile",""],[1,"profile-content"],[1,"profile-entries","pt-3"],["label","my-profile.show.social-security-number",3,"value",4,"ngIf"],["label","my-profile.show.hometown-nationality",3,"value",4,"ngIf"],["label","my-profile.show.native-language",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit-expiry",3,"value",4,"ngIf"],["ngb-accordion",""],["acc","ngbAccordion"],["id","student-address"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","correspondence-address",4,"ngIf"],["id","billing-address",4,"ngIf"],["id","legal-representatives",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],["label","my-profile.show.social-security-number",3,"value"],["label","my-profile.show.hometown-nationality",3,"value"],["label","my-profile.show.native-language",3,"value"],["label","my-profile.show.stay-permit",3,"value"],["label","my-profile.show.stay-permit-expiry",3,"value"],[3,"opened","click"],[1,"clearfix"],["routerLink","edit","aria-label","edit",1,"btn","btn-primary","float-right","mr-2"],[1,"material-icons"],["emailProperty","Email2",1,"profile-entry",3,"student"],["id","correspondence-address"],[1,"profile-entry",3,"address"],["id","billing-address"],["id","legal-representatives"],["class","profile-entry",3,"person",4,"ngFor","ngForOf"],[1,"profile-entry",3,"person"],[3,"id"],[4,"ngIf"],[1,"profile-entry",3,"company"]],template:function(e,n){1&e&&(b.Bc(0,ue,5,4,"div",0),b.gc(1,"async")),2&e&&b.lc("erzLet",b.pc(3,me,b.hc(1,1,n.profileService.profile$)))},directives:[v.a,y.m,M,F.a,F.m,F.o,F.n,y.l,x,E.a,s.i,C.a,j,G.a,A.a,_.a],pipes:[y.b,y.e,N.c],styles:[".profile-content[_ngcontent-%COMP%]{padding-top:1.5rem}.profile-entry[_ngcontent-%COMP%]{display:block;padding:0 1.5rem}.profile-entries[_ngcontent-%COMP%]:not(:empty){border-top:1px solid #e9ecef}"],changeDetection:0}),be),ve=c("3Pt+"),ye=c("wO+i"),he=c("IzEk"),ze=c("nYR2"),Se=c("xHFS"),Ie=c("A6ef"),Re=c("5eHb");function we(e,n){if(1&e&&(b.Sb(0,"div"),b.Dc(1),b.Rb()),2&e){var t=b.fc(2).erzLet;b.zb(1),b.Fc(" ",t.student.AddressLine2," ")}}function Be(e,n){if(1&e&&(b.Sb(0,"div",21),b.Dc(1),b.gc(2,"translate"),b.Rb()),2&e){var t=n.$implicit;b.zb(1),b.Fc(" ",b.ic(2,1,"global.validation-errors."+t.error,t.params)," ")}}function Oe(e,n){if(1&e&&(b.Sb(0,"div",22),b.Dc(1),b.gc(2,"translate"),b.Rb()),2&e){var t=n.$implicit;b.zb(1),b.Fc(" ",b.ic(2,1,"global.validation-errors."+t.error,t.params)," ")}}function $e(e,n){1&e&&(b.Sb(0,"div",23),b.Sb(1,"span",24),b.Dc(2,"Loading..."),b.Rb(),b.Rb())}function ke(e,n){if(1&e){var t=b.Tb();b.Sb(0,"form",3),b.dc("ngSubmit",function(){return b.vc(t),b.fc(2).onSubmit()}),b.Sb(1,"p"),b.Dc(2),b.gc(3,"translate"),b.Rb(),b.Sb(4,"address",4),b.Sb(5,"div"),b.Dc(6),b.Rb(),b.Bc(7,we,2,1,"div",5),b.Sb(8,"div"),b.Dc(9),b.Rb(),b.Rb(),b.Bc(10,Be,3,4,"div",6),b.gc(11,"async"),b.Sb(12,"div",7),b.Sb(13,"label",8),b.Dc(14),b.gc(15,"translate"),b.Rb(),b.Nb(16,"input",9),b.Rb(),b.Sb(17,"div",7),b.Sb(18,"label",10),b.Dc(19),b.gc(20,"translate"),b.Rb(),b.Nb(21,"input",11),b.Sb(22,"small",12),b.Dc(23),b.gc(24,"translate"),b.Rb(),b.Rb(),b.Sb(25,"div",7),b.Sb(26,"label",13),b.Dc(27),b.gc(28,"translate"),b.Rb(),b.Nb(29,"input",14),b.gc(30,"async"),b.Bc(31,Oe,3,4,"div",15),b.gc(32,"async"),b.Sb(33,"small",16),b.Dc(34),b.gc(35,"translate"),b.Rb(),b.Rb(),b.Sb(36,"div",17),b.Sb(37,"button",18),b.dc("click",function(){return b.vc(t),b.fc(2).cancel()}),b.gc(38,"async"),b.Dc(39),b.gc(40,"translate"),b.Rb(),b.Sb(41,"button",19),b.gc(42,"async"),b.Dc(43),b.gc(44,"translate"),b.Bc(45,$e,3,0,"div",20),b.gc(46,"async"),b.Rb(),b.Rb(),b.Rb()}if(2&e){var r=b.fc().erzLet,i=b.fc();b.lc("formGroup",r.formGroup),b.zb(2),b.Ec(b.hc(3,20,"my-profile.edit.address-changes-remark")),b.zb(4),b.Ec(r.student.AddressLine1),b.zb(1),b.lc("ngIf",r.student.AddressLine2),b.zb(2),b.Gc("",r.student.Zip||""," ",r.student.Location,""),b.zb(1),b.lc("ngForOf",b.hc(11,22,i.formErrors$)),b.zb(4),b.Fc(" ",b.hc(15,24,"my-profile.edit.fields.phone-private")," "),b.zb(5),b.Fc(" ",b.hc(20,26,"my-profile.edit.fields.phone-mobile")," "),b.zb(4),b.Ec(b.hc(24,28,"my-profile.edit.fields.phone-mobile-hint")),b.zb(4),b.Fc(" ",b.hc(28,30,"my-profile.edit.fields.email2")," "),b.zb(2),b.Eb("is-invalid",b.hc(30,32,i.email2Errors$).length>0),b.zb(2),b.lc("ngForOf",b.hc(32,34,i.email2Errors$)),b.zb(3),b.Ec(b.hc(35,36,"my-profile.edit.fields.email2-hint")),b.zb(3),b.lc("disabled",b.hc(38,38,i.saving$)),b.zb(2),b.Fc(" ",b.hc(40,40,"my-profile.edit.cancel")," "),b.zb(2),b.lc("disabled",b.hc(42,42,i.saving$)),b.zb(2),b.Fc(" ",b.hc(44,44,"my-profile.edit.save")," "),b.zb(2),b.lc("ngIf",b.hc(46,46,i.saving$))}}function De(e,n){if(1&e&&(b.Sb(0,"div",1),b.Bc(1,ke,47,48,"form",2),b.Rb()),2&e){var t=n.erzLet;b.zb(1),b.lc("ngIf",t.formGroup)}}var Pe,Le,Me,Fe=function(e,n){return{formGroup:e,student:n}},Ne=[{path:"",component:g,children:[{path:"",component:ge},{path:"edit",component:(Pe=function(){function e(n,r,i,c,a,o){t(this,e),this.fb=n,this.router=r,this.toastr=i,this.translate=c,this.profileService=a,this.personsService=o,this.student$=this.profileService.profile$.pipe(Object(ye.a)("student")),this.formGroup$=this.student$.pipe(Object(S.a)(this.createFormGroup.bind(this)),Object(p.a)(1)),this.saving$=new f.a(!1),this.submitted$=new f.a(!1),this.email2Errors$=Object(Ie.c)(this.formGroup$,this.submitted$,"email2")}return i(e,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.navigateBack()}},{key:"onSubmit",value:function(){var e=this;this.submitted$.next(!0),this.formGroup$.pipe(Object(he.a)(1)).subscribe(function(n){if(n.valid){var t=n.value,r=t.phonePrivate,i=t.phoneMobile,c=t.email2;e.save((null==r?void 0:r.trim())||null,(null==i?void 0:i.trim())||null,c||null)}})}},{key:"createFormGroup",value:function(e){return this.fb.group({phonePrivate:[e.PhonePrivate],phoneMobile:[e.PhoneMobile],email2:[e.Email2,ve.q.email]})}},{key:"save",value:function(e,n,t){var r=this;this.saving$.next(!0),this.student$.pipe(Object(he.a)(1),Object(d.a)(function(i){return r.personsService.update(i.Id,e,n,t)}),Object(ze.a)(function(){return r.saving$.next(!1)})).subscribe(this.onSaveSuccess.bind(this))}},{key:"onSaveSuccess",value:function(){this.profileService.reset(),this.toastr.success(this.translate.instant("my-profile.edit.save-success")),this.navigateBack()}},{key:"navigateBack",value:function(){this.router.navigate(["/my-profile"])}}]),e}(),Pe.\u0275fac=function(e){return new(e||Pe)(b.Mb(ve.c),b.Mb(s.g),b.Mb(Re.b),b.Mb(N.d),b.Mb(m),b.Mb(Se.a))},Pe.\u0275cmp=b.Gb({type:Pe,selectors:[["erz-my-profile-edit"]],decls:3,vars:8,consts:[["class","erz-container erz-container-limited erz-container-padding-y",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-muted"],[4,"ngIf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"form-group"],["id","my-profile-phone-private"],["id","my-profile-phone-private","formControlName","phonePrivate","type","tel",1,"form-control"],["id","my-profile-phone-mobile"],["id","my-profile-phone-mobile","formControlName","phoneMobile","type","tel","aria-describedby","my-profile-phone-mobile-hint",1,"form-control"],["id","my-profile-phone-mobile-hint",1,"form-text","text-muted"],["id","my-profile-email2"],["id","my-profile-email2","formControlName","email2","type","email","aria-describedby","my-profile-email2-hint",1,"form-control"],["class","invalid-feedback",4,"ngFor","ngForOf"],["id","my-profile-email2-hint",1,"form-text","text-muted"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm align-middle","role","status",4,"ngIf"],[1,"alert","alert-danger"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","align-middle"],[1,"sr-only"]],template:function(e,n){1&e&&(b.Bc(0,De,2,1,"div",0),b.gc(1,"async"),b.gc(2,"async")),2&e&&b.lc("erzLet",b.qc(5,Fe,b.hc(1,1,n.formGroup$),b.hc(2,3,n.student$)))},directives:[v.a,y.m,ve.r,ve.j,ve.e,y.l,ve.b,ve.i,ve.d],pipes:[y.b,N.c],styles:[""],changeDetection:0}),Pe)}]}],xe=((Me=function e(){t(this,e)}).\u0275fac=function(e){return new(e||Me)},Me.\u0275mod=b.Kb({type:Me}),Me.\u0275inj=b.Jb({imports:[[s.j.forChild(Ne)],s.j]}),Me),Ee=((Le=function e(){t(this,e)}).\u0275fac=function(e){return new(e||Le)},Le.\u0275mod=b.Kb({type:Le}),Le.\u0275inj=b.Jb({providers:[],imports:[[l.a,xe]]}),Le)}}])}();