import{d as ue,e as dt,i as C,j as l,k as lt}from"./chunk-GOGVGWFJ.js";import{a as ft}from"./chunk-OSOXMODN.js";import{a as mt,b as pt}from"./chunk-PSYDBHTH.js";import{B as Ce,w as ct,y as ut}from"./chunk-W4U7QKJF.js";import{$a as p,Ab as Ze,Bb as et,Cb as tt,F as G,Ga as re,H as te,Hc as it,Ic as Te,Ja as Be,Jb as f,Jc as L,Jd as se,K as $e,Kb as h,Lb as K,M as T,Na as _,Nc as ot,O as W,Od as st,P as xe,Pd as ce,Q as Re,Qa as B,Ra as je,Uc as at,Va as P,X as D,Ya as qe,Za as He,_ as S,_a as m,a as Ie,ab as we,b as Oe,cc as nt,cd as F,da as Ne,dc as rt,ea as Q,eb as ie,f as Me,fa as U,g as Le,gb as X,h as V,hb as b,ib as Ve,jb as Ge,kb as Qe,l as Fe,lb as Ue,lc as oe,n as c,nb as Xe,o as Ae,ob as Je,pb as Ke,qb as ze,r as Ee,rb as y,sb as J,tb as I,ub as ve,wa as Ye,x as We,xa as u,ya as ne,zc as ae}from"./chunk-2W7IS4PN.js";var ht=function(e){return function(n){return!e(n)}};function Xt(e){return!e}function Jt(e){return!!(e&&e.IsComment)}function Kt(e){return!!(e&&e.IsIncident)}function de(e){return!!(e&&(e.IsAbsence||e.IsDispensation||e.IsHalfDay))}function Se(e,n){return!!(e&&n&&e.Id===n.absencePresenceTypeId)}function _e(e,n){return!!(e&&n&&n===e.checkableAbsenceStateId)}function gt(e,n,t){return!!(Xt(n)&&e.ConfirmationStateId===null||Jt(n)||Kt(n)||de(n)&&e.ConfirmationStateId===t.unconfirmedAbsenceStateId||_e(t,e.ConfirmationStateId))}function lr(e,n){return e?.IsAbsence?n.unconfirmedAbsenceStateId:null}var v=function(e){return e.Present="present",e.Unapproved="unapproved",e.Absent="absent",e}(v||{});function zt(e){switch(e){case v.Absent:return"cancel";case v.Unapproved:return"help";default:return"check_circle"}}var le=class{constructor(n,t,r,i){this.lessonPresence=n,this.presenceType=t,this.precedingAbsences=r,this.confirmationState=i,this.studentFullName=n.StudentFullName}get id(){return`${this.lessonPresence.LessonRef.Id}-${this.lessonPresence.StudentRef.Id}`}get presenceCategory(){return _e(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?v.Unapproved:de(this.presenceType)?v.Absent:v.Present}get nextPresenceCategory(){return this.presenceCategory===v.Absent?v.Present:v.Absent}getNextPresenceType(n){switch(this.nextPresenceCategory){case v.Absent:return this.presenceCategory===v.Unapproved?this.presenceType:n.find(t=>Se(t,this.settings))||null;default:return null}}get canChangePresenceType(){return gt(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!de(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===v.Absent&&!Se(this.presenceType,this.settings)||this.presenceCategory===v.Unapproved}get presenceCategoryIcon(){return zt(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function yt(e,n,t){let r=l(e,t?.in);return isNaN(n)?C(t?.in||e,NaN):(n&&r.setDate(r.getDate()+n),r)}var Zt={};function A(){return Zt}function O(e,n){let t=A(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=l(e,n?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $(e,n){return O(e,Oe(Ie({},n),{weekStartsOn:1}))}function me(e,n){let t=l(e,n?.in),r=t.getFullYear(),i=C(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=$(i),a=C(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);let d=$(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function Pe(e){let n=l(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function z(e,n){let t=l(e,n?.in);return t.setHours(0,0,0,0),t}function fe(e,n,t){let[r,i]=lt(t?.in,e,n),o=z(r),a=z(i),d=+o-Pe(o),x=+a-Pe(a);return Math.round((d-x)/dt)}function bt(e,n){let t=me(e,n),r=C(n?.in||e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),$(r)}function xt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wt(e){return!(!xt(e)&&typeof e!="number"||isNaN(+l(e)))}function vt(e,n){let t=l(e,n?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var en={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tt=(e,n,t)=>{let r,i=en[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function pe(e){return(n={})=>{let t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}var tn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ct={date:pe({formats:tn,defaultWidth:"full"}),time:pe({formats:nn,defaultWidth:"full"}),dateTime:pe({formats:rn,defaultWidth:"full"})};var on={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},St=(e,n,t,r)=>on[e];function j(e){return(n,t)=>{let r=t?.context?String(t.context):"standalone",i;if(r==="formatting"&&e.formattingValues){let a=e.defaultFormattingWidth||e.defaultWidth,d=t?.width?String(t.width):a;i=e.formattingValues[d]||e.formattingValues[a]}else{let a=e.defaultWidth,d=t?.width?String(t.width):e.defaultWidth;i=e.values[d]||e.values[a]}let o=e.argumentCallback?e.argumentCallback(n):n;return i[o]}}var an={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},un={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ln={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mn=(e,n)=>{let t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_t={ordinalNumber:mn,era:j({values:an,defaultWidth:"wide"}),quarter:j({values:sn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:cn,defaultWidth:"wide"}),day:j({values:un,defaultWidth:"wide"}),dayPeriod:j({values:dn,defaultWidth:"wide",formattingValues:ln,defaultFormattingWidth:"wide"})};function q(e){return(n,t={})=>{let r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(i);if(!o)return null;let a=o[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(d)?pn(d,g=>g.test(a)):fn(d,g=>g.test(a)),k;k=e.valueCallback?e.valueCallback(x):x,k=t.valueCallback?t.valueCallback(k):k;let w=n.slice(a.length);return{value:k,rest:w}}}function fn(e,n){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function pn(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Pt(e){return(n,t={})=>{let r=n.match(e.matchPattern);if(!r)return null;let i=r[0],o=n.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;let d=n.slice(i.length);return{value:a,rest:d}}}var hn=/^(\d+)(th|st|nd|rd)?/i,gn=/\d+/i,yn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bn={any:[/^b/i,/^(a|c)/i]},xn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wn={any:[/1/i,/2/i,/3/i,/4/i]},vn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_n={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dt={ordinalNumber:Pt({matchPattern:hn,parsePattern:gn,valueCallback:e=>parseInt(e,10)}),era:q({matchPatterns:yn,defaultMatchWidth:"wide",parsePatterns:bn,defaultParseWidth:"any"}),quarter:q({matchPatterns:xn,defaultMatchWidth:"wide",parsePatterns:wn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q({matchPatterns:vn,defaultMatchWidth:"wide",parsePatterns:Tn,defaultParseWidth:"any"}),day:q({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:Sn,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:_n,defaultMatchWidth:"any",parsePatterns:Pn,defaultParseWidth:"any"})};var De={code:"en-US",formatDistance:Tt,formatLong:Ct,formatRelative:St,localize:_t,match:Dt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kt(e,n){let t=l(e,n?.in);return fe(t,vt(t))+1}function It(e,n){let t=l(e,n?.in),r=+$(t)-+bt(t);return Math.round(r/ue)+1}function he(e,n){let t=l(e,n?.in),r=t.getFullYear(),i=A(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=C(n?.in||e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);let d=O(a,n),x=C(n?.in||e,0);x.setFullYear(r,0,o),x.setHours(0,0,0,0);let k=O(x,n);return+t>=+d?r+1:+t>=+k?r:r-1}function Ot(e,n){let t=A(),r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=he(e,n),o=C(n?.in||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),O(o,n)}function Mt(e,n){let t=l(e,n?.in),r=+O(t,n)-+Ot(t,n);return Math.round(r/ue)+1}function s(e,n){let t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}var M={y(e,n){let t=e.getFullYear(),r=t>0?t:1-t;return s(n==="yy"?r%100:r,n.length)},M(e,n){let t=e.getMonth();return n==="M"?String(t+1):s(t+1,2)},d(e,n){return s(e.getDate(),n.length)},a(e,n){let t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return s(e.getHours()%12||12,n.length)},H(e,n){return s(e.getHours(),n.length)},m(e,n){return s(e.getMinutes(),n.length)},s(e,n){return s(e.getSeconds(),n.length)},S(e,n){let t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return s(i,n.length)}};var H={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ke={G:function(e,n,t){let r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){let r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return M.y(e,n)},Y:function(e,n,t,r){let i=he(e,r),o=i>0?i:1-i;if(n==="YY"){let a=o%100;return s(a,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):s(o,n.length)},R:function(e,n){let t=me(e);return s(t,n.length)},u:function(e,n){let t=e.getFullYear();return s(t,n.length)},Q:function(e,n,t){let r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return s(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){let r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return s(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){let r=e.getMonth();switch(n){case"M":case"MM":return M.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){let r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return s(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){let i=Mt(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):s(i,n.length)},I:function(e,n,t){let r=It(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):s(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):M.d(e,n)},D:function(e,n,t){let r=kt(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):s(r,n.length)},E:function(e,n,t){let r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return s(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return s(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){let r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return s(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){let i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){let r=e.getHours(),i;switch(r===12?i=H.noon:r===0?i=H.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){let r=e.getHours(),i;switch(r>=17?i=H.evening:r>=12?i=H.afternoon:r>=4?i=H.morning:i=H.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return M.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):M.H(e,n)},K:function(e,n,t){let r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):s(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):s(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):M.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):M.s(e,n)},S:function(e,n){return M.S(e,n)},X:function(e,n,t){let r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return Ft(r);case"XXXX":case"XX":return R(r);case"XXXXX":case"XXX":default:return R(r,":")}},x:function(e,n,t){let r=e.getTimezoneOffset();switch(n){case"x":return Ft(r);case"xxxx":case"xx":return R(r);case"xxxxx":case"xxx":default:return R(r,":")}},O:function(e,n,t){let r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Lt(r,":");case"OOOO":default:return"GMT"+R(r,":")}},z:function(e,n,t){let r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Lt(r,":");case"zzzz":default:return"GMT"+R(r,":")}},t:function(e,n,t){let r=Math.trunc(+e/1e3);return s(r,n.length)},T:function(e,n,t){return s(+e,n.length)}};function Lt(e,n=""){let t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+n+s(o,2)}function Ft(e,n){return e%60===0?(e>0?"-":"+")+s(Math.abs(e)/60,2):R(e,n)}function R(e,n=""){let t=e>0?"-":"+",r=Math.abs(e),i=s(Math.trunc(r/60),2),o=s(r%60,2);return t+i+n+o}var At=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Et=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Dn=(e,n)=>{let t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return At(e,n);let o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",At(r,n)).replace("{{time}}",Et(i,n))},Wt={p:Et,P:Dn};var kn=/^D+$/,In=/^Y+$/,On=["D","DD","YY","YYYY"];function $t(e){return kn.test(e)}function Rt(e){return In.test(e)}function Nt(e,n,t){let r=Mn(e,n,t);if(console.warn(r),On.includes(e))throw new RangeError(r)}function Mn(e,n,t){let r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Ln=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,An=/^'([^]*?)'?$/,En=/''/g,Wn=/[a-zA-Z]/;function E(e,n,t){let r=A(),i=t?.locale??r.locale??De,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=l(e,t?.in);if(!wt(d))throw new RangeError("Invalid time value");let x=n.match(Fn).map(w=>{let g=w[0];if(g==="p"||g==="P"){let be=Wt[g];return be(w,i.formatLong)}return w}).join("").match(Ln).map(w=>{if(w==="''")return{isToken:!1,value:"'"};let g=w[0];if(g==="'")return{isToken:!1,value:$n(w)};if(ke[g])return{isToken:!0,value:w};if(g.match(Wn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(x=i.localize.preprocessor(d,x));let k={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return x.map(w=>{if(!w.isToken)return w.value;let g=w.value;(!t?.useAdditionalWeekYearTokens&&Rt(g)||!t?.useAdditionalDayOfYearTokens&&$t(g))&&Nt(g,n,String(e));let be=ke[g[0]];return be(d,g,i.localize,k)}).join("")}function $n(e){let n=e.match(An);return n?n[1].replace(En,"'"):e}function so(e,n,t){return yt(e,-n,t)}var N=class{constructor(n){if(this.absences=n,n.length===0)throw new Error("Absences array is empty");this.date=z(this.absences[0].LessonDateTimeFrom),this.dateString=E(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}get id(){return`${this.dateString}-${this.studentId}`}};function po(e,n){return e===null&&n===null||e!==null&&n!==null&&e.LessonRef.Id===n.LessonRef.Id&&e.EventDesignation===n.EventDesignation&&e.StudyClassNumber===n.StudyClassNumber&&e.TeacherInformation===n.TeacherInformation&&e.LessonDateTimeFrom.getTime()===n.LessonDateTimeFrom.getTime()&&e.LessonDateTimeTo.getTime()===n.LessonDateTimeTo.getTime()}function Rn(e,n){return e?n.filter(t=>e.lessons.map(r=>r.LessonRef.Id).indexOf(t.LessonRef.Id)>=0).sort(Bn):[]}function Nn(e,n,t){return se(e.filter(r=>r.StudentRef.Id===n.StudentRef.Id&&r.LessonRef.From&&r.LessonRef.From.toDateString()===t?.LessonDateTimeFrom.toDateString()&&r.LessonRef.From<t?.LessonDateTimeFrom),"Id").sort(jn)}function ho(e,n,t,r,i){return Rn(e,n).map(o=>Yn(e,o,t,r,i))}function Yn(e,n,t,r,i){let o=null;n.TypeRef.Id&&(o=t.find(x=>x.Id===n.TypeRef.Id)||null);let a=Nn(i,n,e),d;return n.ConfirmationStateId&&(d=r.find(x=>x.Key===n.ConfirmationStateId)),new le(n,o,a,d)}function Yt(e,n){let t=e.LessonDateTimeFrom.getTime(),r=n.LessonDateTimeFrom.getTime();return t-r===0?e.LessonDateTimeTo.getTime()-n.LessonDateTimeTo.getTime():t-r}function Bn(e,n){return e.StudentFullName.localeCompare(n.StudentFullName)}function jn(e,n){return e.LessonRef.From&&e.LessonRef.To&&n.LessonRef.From&&n.LessonRef.To?e.LessonRef.From.getTime()-n.LessonRef.From.getTime()===0?e.LessonRef.To.getTime()-n.LessonRef.To.getTime():e.LessonRef.From.getTime()-n.LessonRef.From.getTime():0}var ge=class extends Error{constructor(n,t){super(`TypeScript thought we could never end up here
${t}`)}};function Co(e){let n=Hn(e);return Object.keys(n).reduce((t,r)=>(Object.keys(n[r]).forEach(i=>{t=[...t,new N(n[r][i].sort(Yt))]}),t),[])}function So(e,n){return[...e].sort(qn(n))}function ye(e){return e.reduce((n,t)=>n.concat(t.absences),[])}function _o(e,n){return e.filter(t=>!n.some(({lessonIds:r,personId:i})=>r.includes(t.LessonRef.Id)&&i===t.StudentRef.Id))}function Po(e,n){return se([...e,...n],"Id")}function qn(e){return(n,t)=>{switch(e.primarySortKey){case"date":{let r=n.date.getTime(),i=t.date.getTime();return r===i?n.studentFullName.localeCompare(t.studentFullName):e.ascending?r-i:i-r}case"name":{let r=e.ascending?n.studentFullName.localeCompare(t.studentFullName):t.studentFullName.localeCompare(n.studentFullName);return r===0?t.date.getTime()-n.date.getTime():r}default:throw new ge(e.primarySortKey,"Unhandled sort criteria")}}}function Hn(e){return e.reduce((n,t)=>{let r=E(t.LessonDateTimeFrom,"yyyy-MM-dd"),i=t.StudentRef.Id;return n[r]||(n[r]={}),n[r][i]||(n[r][i]=[]),n[r][i].push(t),n},{})}var Z=function(e){return e.ToggleSelection="TOGGLE",e.ClearSelection="CLEAR",e}(Z||{}),Bt=(()=>{class e{constructor(){this.action$=new Me,this.selection$=Ee(this.action$.pipe($e(this.reduceSelection.bind(this),[]),W([])),{connector:()=>new V(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(t){this.action$.next({type:Z.ToggleSelection,payload:t})}clear(t=null){this.action$.next({type:Z.ClearSelection,payload:t})}isSelected$(t){return this.selection$.pipe(c(r=>r.includes(t)),te())}reduceSelection(t,r){switch(r.type){case Z.ToggleSelection:return t.includes(r.payload)?t.filter(i=>i!==r.payload):[...t,r.payload];case Z.ClearSelection:return r.payload||[];default:return t}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function Lo(e){let n=e.reduce((t,r)=>(t[r.StudentRef.Id]||(t[r.StudentRef.Id]=[]),t[r.StudentRef.Id].push(r.LessonRef.Id),t),{});return Object.keys(n).map(t=>({personIds:[Number(t)],lessonIds:n[t]}))}function jt(e){let n={};return e.forEach(t=>{n[t.StudentRef.Id]||(n[t.StudentRef.Id]={}),n[t.StudentRef.Id][String(t.TypeRef.Id)]||(n[t.StudentRef.Id][String(t.TypeRef.Id)]=[]),n[t.StudentRef.Id][String(t.TypeRef.Id)].push(t.LessonRef.Id)}),Object.keys(n).reduce((t,r)=>[...t,...Object.keys(n[r]).map(i=>({personId:Number(r),presenceTypeId:i==="null"?null:Number(i),lessonIds:n[r][String(i)]}))],[])}function Fo(e){return e.slice().sort((n,t)=>n.LessonDateTimeFrom.getTime()-t.LessonDateTimeFrom.getTime())}function Ao(e){return`${e.EventDesignation}, ${E(e.LessonDateTimeFrom,"dd.MM.yyyy")}, ${E(e.LessonDateTimeFrom,"HH:mm")}-${E(e.LessonDateTimeTo,"HH:mm")}`}var Ho=(()=>{class e extends Bt{constructor(t){super(),this.settings=t,this.selectedIds$=this.selection$.pipe(c(ee),c(({openAbsencesEntries:r,lessonPresences:i})=>jt([...ye(r),...i])),T(1)),this.selectedLessons$=this.selection$.pipe(c(ee),c(({openAbsencesEntries:r,lessonPresences:i})=>[...ye(r),...i]),T(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(c(ee),c(({openAbsencesEntries:r,lessonPresences:i})=>[...ye(r),...i].filter(o=>o.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe(G(1),c(ee)).subscribe(({openAbsencesEntries:t})=>this.clear(t))}clearNonLessonPresences(){this.selection$.pipe(G(1),c(ee)).subscribe(({lessonPresences:t})=>this.clear(t))}static{this.\u0275fac=function(r){return new(r||e)(S(F))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function ee(e){return{openAbsencesEntries:e.filter(Ce(N)),lessonPresences:e.filter(ht(Ce(N)))}}function qt(e){return e.slice().sort((n,t)=>n.Sort-t.Sort)}function Go(e){return e.map(n=>({Key:n.Id,Value:n.Designation||""}))}function Qo(e,n){return e.map(t=>Object.assign(t,{Group:n}))}var Ht=ot({Id:Te,Active:L,Designation:at(it),IsAbsence:L,IsComment:L,IsDispensation:L,IsIncident:L,IsHalfDay:L,NeedsConfirmation:L,Sort:Te});var Vt=(()=>{class e extends mt{constructor(t,r){super(t,r,Ht,"PresenceTypes")}static{this.\u0275fac=function(r){return new(r||e)(S(oe),S(F))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Gt=(()=>{class e{constructor(t,r){this.restService=t,this.settings=r,this.presenceTypes$=this.loadPresenceTypes().pipe(T(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(c(this.filterActiveTypes.bind(this)),T(1)),this.confirmationTypes$=this.presenceTypes$.pipe(c(this.filterConfirmationTypes.bind(this)),T(1)),this.incidentTypes$=this.presenceTypes$.pipe(c(this.filterIncidentTypes.bind(this)),T(1)),this.displayedTypes$=this.presenceTypes$.pipe(c(this.filterDisplayedTypes.bind(this)),T(1)),this.halfDayActive$=this.presenceTypes$.pipe(c(this.isHalfDayActive.bind(this)),W(!1),te(),T(1))}getPresenceType(t){return this.presenceTypes$.pipe(c(r=>{let i=r.find(o=>o.Id===t);if(!i)throw new Error("presence type not found");return i}))}loadPresenceTypes(){return this.restService.getList().pipe(c(qt))}filterActiveTypes(t){return t.filter(r=>r.Active)}filterConfirmationTypes(t){return t.filter(r=>r.NeedsConfirmation&&r.Active&&r.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(t){return t.filter(r=>r.IsIncident&&r.Active)}filterDisplayedTypes(t){return t.filter(r=>r.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(t){return!!t.find(r=>r.Id===this.settings.halfDayPresenceTypeId)?.Active}static{this.\u0275fac=function(r){return new(r||e)(S(Vt),S(F))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var aa=(()=>{class e{constructor(t,r){this.http=t,this.settings=r}editLessonPresences(t,r,i,o,a){let d={LessonIds:t,PersonIds:r};return i!==void 0&&(d.PresenceTypeId=i),o!==void 0&&(d.ConfirmationValue=o),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,d,a).pipe(c(()=>{}))}removeLessonPresences(t,r,i){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:t,PersonIds:r,WithComment:!0},i).pipe(c(()=>{}))}confirmLessonPresences(t,r,i,o){let a={LessonIds:t,PersonIds:r,AbsenceTypeId:i,ConfirmationValue:o};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,a).pipe(c(()=>{}))}static{this.\u0275fac=function(r){return new(r||e)(S(oe),S(F))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Qt=(()=>{class e{constructor(t){this.translate=t}transform(t){if(!t)return"";let r=fe(t,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(r)}`,{count:Math.abs(r)})}getKey(t){return t===0?"today":t===1?"tomorrow":t===-1?"yesterday":t>0?"in":"ago"}static{this.\u0275fac=function(r){return new(r||e)(ne(st,16))}}static{this.\u0275pipe=Be({name:"bkdDaysDifference",type:e,pure:!0})}}return e})();function la(e){return e.length===0}function Ut(e){return Array.isArray(e)}var Un=["checkbox"],Xn=(e,n)=>n.Id;function Jn(e,n){e&1&&we(0,"bkd-spinner",2)}function Kn(e,n){if(e&1&&we(0,"bkd-reports-link",13),e&2){let t=b(4);B("reports",t.reports)("disableIfUnavailable",!0)}}function zn(e,n){if(e&1&&(m(0,"a",14),f(1,"async"),m(2,"i",12),y(3,"mail"),p()()),e&2){let t=b(4);Ue("href","mailto:",h(1,2,t.mailTo$),"",Ye)}}function Zn(e,n){if(e&1&&(m(0,"div",15),y(1),p()),e&2){let t=b(4);u(),I(" ",t.defaultAbsenceSelectionMessage," ")}}function er(e,n){if(e&1){let t=ie();m(0,"div",6),X("click",function(i){Q(t);let o=ze(3),a=b(3);return U(a.onRowClick(i,o))}),m(1,"div",7)(2,"input",8,0),f(4,"async"),X("change",function(i){Q(t);let o=b(3);return U(o.toggleAll(i.target==null?null:i.target.checked))}),p()(),m(5,"div",9),y(6),f(7,"translate"),p(),m(8,"div",10)(9,"a",11),f(10,"async"),m(11,"i",12),y(12,"edit"),p()(),_(13,Kn,1,2,"bkd-reports-link",13)(14,zn,4,4,"a",14),p(),_(15,Zn,2,1,"div",15),f(16,"async"),p()}if(e&2){let t,r,i=b(3);u(2),B("checked",h(4,8,i.allSelected$)),u(4),J(h(7,10,"open-absences.detail.all")),u(3),je("disabled",((t=h(10,12,i.selectionService==null?null:i.selectionService.selection$))==null?null:t.length)===0),Qe("routerLink",i.confirmLink),u(4),P(i.reports?13:-1),u(),P(i.displayEmail?14:-1),u(),P(i.defaultAbsenceSelectionMessage&&((r=h(16,14,i.selectionService==null?null:i.selectionService.selectedWithoutPresenceType$))!=null&&r.length)?15:-1)}}function tr(e,n){if(e&1){let t=ie();m(0,"div",7)(1,"input",8,1),f(3,"async"),X("change",function(){Q(t);let i=b().$implicit,o=b(3);return U(o.selectionService==null?null:o.selectionService.toggle(i))}),p()()}if(e&2){let t=b().$implicit,r=b(3);u(),B("checked",h(3,1,r.selectionService==null?null:r.selectionService.isSelected$(t)))}}function nr(e,n){if(e&1&&y(0),e&2){let t=b().$implicit;I(" , ",t.StudyClassNumber," ")}}function rr(e,n){if(e&1&&(m(0,"div",20),y(1),p()),e&2){b();let t=tt(12);u(),I(" ",t," ")}}function ir(e,n){e&1&&(m(0,"div",21),y(1),f(2,"translate"),p()),e&2&&(u(),I(" ",h(2,1,"my-absences.show.confirm-presence-type")," "))}function or(e,n){if(e&1){let t=ie();m(0,"div",16),X("click",function(i){let o=Q(t).$index,a=b(3);return U(a.onRowClick(i,o))}),_(1,tr,4,3,"div",7),f(2,"async"),m(3,"div",17),y(4),_(5,nr,1,1),p(),m(6,"div",18),y(7),f(8,"date"),f(9,"date"),p(),m(10,"div",19),y(11),p(),Ze(12),f(13,"async"),_(14,rr,2,1,"div",20)(15,ir,3,3,"div",21),m(16,"div",22),y(17),f(18,"date"),p(),m(19,"div",23),y(20),f(21,"bkdDaysDifference"),p(),m(22,"div",24),y(23),f(24,"date"),f(25,"bkdDaysDifference"),p()()}if(e&2){let t=n.$implicit,r=b(3);u(),P(h(2,12,r.editable$)?1:-1),u(3),I(" ",t.EventDesignation," "),u(),P(t.StudyClassNumber?5:-1),u(2),ve(" ",K(8,14,t.LessonDateTimeFrom,"HH:mm"),"\u2013",K(9,17,t.LessonDateTimeTo,"HH:mm")," "),u(4),I(" ",t.TeacherInformation," "),u();let i=et(h(13,20,r.getPresenceTypeDesignation(t)));u(2),P(i?14:-1),u(),P(r.displayPresenceType&&!i&&r.defaultAbsenceSelectionMessage?15:-1),u(2),I(" ",K(18,23,t.LessonDateTimeFrom,"dd.MM.yyyy")," "),u(3),I(" ",h(21,26,t.LessonDateTimeFrom)," "),u(3),ve(" ",K(24,28,t.LessonDateTimeFrom,"dd.MM.yyyy"),", ",h(25,31,t.LessonDateTimeFrom)," ")}}function ar(e,n){if(e&1&&(_(0,er,17,16,"div",4),f(1,"async"),qe(2,or,26,33,"div",5,Xn),f(4,"async")),e&2){let t=b(2);P(h(1,1,t.editable$)?0:-1),u(2),He(h(4,3,t.lessonPresences$))}}function sr(e,n){e&1&&(m(0,"p",3),y(1),f(2,"translate"),p()),e&2&&(u(),J(h(2,1,"shared.profile.no-absences")))}function cr(e,n){if(e&1&&(_(0,ar,5,5),f(1,"async"),_(2,sr,3,3,"p",3)),e&2){let t,r=b();P(((t=(t=h(1,1,r.lessonPresences$))==null?null:t.length)!==null&&t!==void 0?t:0)>0?0:2)}}var Ca=(()=>{class e{constructor(t){this.presenceTypesService=t,this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.lessonPresences$$=new V(1),this.lessonPresences$=this.lessonPresences$$.pipe(Re(),W(null),T(1)),this.loading$=this.lessonPresences$.pipe(c(ut(Ut))),this.selectionService$=new V(1),this.editable$=this.selectionService$.pipe(c(()=>!0),W(!1)),this.displayPresenceType$=new Le(!0),this.allSelected$=Ae([this.lessonPresences$.pipe(We(ct)),this.selectionService$.pipe(xe(r=>r.selection$))]).pipe(c(([r,i])=>r.length===i.length))}ngOnChanges(t){t.absences$&&this.lessonPresences$$.next(t.absences$.currentValue),t.selectionService&&t.selectionService.currentValue&&(t.selectionService.currentValue.clear(),this.selectionService$.next(t.selectionService.currentValue)),t.displayPresenceType&&this.displayPresenceType$.next(t.displayPresenceType.currentValue)}toggleAll(t){t?this.lessonPresences$.pipe(G(1)).subscribe(r=>this.selectionService?.clear(r)):this.selectionService?.clear()}onRowClick(t,r){if(this.checkboxes.length===0)return;let i;typeof r=="number"?i=this.checkboxes.toArray()[r].nativeElement:i=r,t.target!==i&&!t.target.closest(".buttons")&&i.click()}getPresenceTypeDesignation(t){return this.displayPresenceType$.pipe(xe(r=>r?this.presenceTypesService.displayedTypes$:Fe([])),c(r=>t.TypeRef.Id&&r.find(i=>i.Id===t.TypeRef.Id)?.Designation||null))}static{this.\u0275fac=function(r){return new(r||e)(ne(Gt))}}static{this.\u0275cmp=re({type:e,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(r,i){if(r&1&&Xe(Un,5),r&2){let o;Je(o=Ke())&&(i.checkboxes=o)}},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},features:[Ne],decls:3,vars:3,consts:[["allCheckbox",""],["checkbox",""],[1,"inline","d-block","mb-3"],[1,"mx-3"],[1,"absence-all"],[1,"absence-entry"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],[1,"lesson-class"],[1,"time","pe-2"],[1,"teacher"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"]],template:function(r,i){r&1&&(_(0,Jn,1,0,"bkd-spinner",2),f(1,"async"),_(2,cr,3,3)),r&2&&P(h(1,1,i.loading$)?0:2)},dependencies:[ae,ft,pt,nt,rt,ce,Qt],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width: 750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}}return e})();var ur=["*"],Da=(()=>{class e{constructor(){this.link=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=re({type:e,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},ngContentSelectors:ur,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(r,i){r&1&&(Ve(),m(0,"div",0)(1,"a",1)(2,"span",2),y(3,"arrow_back"),p(),m(4,"span",3),y(5),f(6,"translate"),p()(),Ge(7),p()),r&2&&(u(),B("routerLink",i.link)("queryParams",i.params),u(4),J(h(6,3,"global.back")))},dependencies:[ae,ce],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]})}}return e})();export{ht as a,yt as b,A as c,O as d,$ as e,Pe as f,z as g,De as h,It as i,he as j,Mt as k,Wt as l,$t as m,Rt as n,Nt as o,E as p,so as q,Jt as r,Kt as s,de as t,gt as u,lr as v,v as w,zt as x,le as y,po as z,ho as A,Yn as B,Yt as C,Co as D,So as E,_o as F,Po as G,Bt as H,Lo as I,Fo as J,Ao as K,Ho as L,qt as M,Go as N,Qo as O,Gt as P,aa as Q,Qt as R,la as S,Ca as T,Da as U};
