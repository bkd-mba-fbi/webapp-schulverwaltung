"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[162],{4477:(Y,I,n)=>{n.d(I,{O:()=>vt,f:()=>Rr});var E=n(5619),A=n(8645),P=n(3019),T=n(2572),h=n(7398),C=n(2181),D=n(3997),S=n(7081),p=n(6699),R=n(3620),u=n(6328),g=n(9773),$=n(8180),L=n(8658),F=n(8730);var K=n(2656);const X=function(){try{var t=(0,K.Z)(Object,"defineProperty");return t({},"",{}),t}catch{}}(),l=function a(t,r,e){"__proto__"==r&&X?X(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var y=n(8418),Ot=Object.prototype.hasOwnProperty;const H=function bt(t,r,e){var s=t[r];(!Ot.call(t,r)||!(0,y.Z)(s,e)||void 0===e&&!(r in t))&&l(t,r,e)},x=function At(t,r,e,s){var O=!e;e||(e={});for(var d=-1,c=r.length;++d<c;){var i=r[d],v=s?s(e[i],t[i],i,e,t):void 0;void 0===v&&(v=t[i]),O?l(e,i,v):H(e,i,v)}return e};var J=n(0);var $t=n(9416),W=n(5829),Q=n(801);var Dt=Object.prototype.hasOwnProperty;const mt=function xt(t){if(!(0,W.Z)(t))return function jt(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,Q.Z)(t),e=[];for(var s in t)"constructor"==s&&(r||!Dt.call(t,s))||e.push(s);return e};var Ut=n(6247);const N=function Rt(t){return(0,Ut.Z)(t)?(0,$t.Z)(t,!0):mt(t)};var Zt=n(4131),z="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=z&&"object"==typeof module&&module&&!module.nodeType&&module,w=_&&_.exports===z?Zt.Z.Buffer:void 0,q=w?w.allocUnsafe:void 0;var k=n(3774);var Xt=n(4331);const tt=(0,n(2667).Z)(Object.getPrototypeOf,Object);var Qt=n(3534);const nt=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Xt.Z)(r,(0,k.Z)(t)),t=tt(t);return r}:Qt.Z;var kt=n(6721),tn=n(6982);const rn=function nn(t){return(0,tn.Z)(t,N,nt)};var G=n(2211),sn=Object.prototype.hasOwnProperty;var rt=n(8475);const V=function ln(t){var r=new t.constructor(t.byteLength);return new rt.Z(r).set(new rt.Z(t)),r};var un=/\w*$/;var et=n(6875),st=et.Z?et.Z.prototype:void 0,ot=st?st.valueOf:void 0;const Bn=function Zn(t,r,e){var s=t.constructor;switch(r){case"[object ArrayBuffer]":return V(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function cn(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function pn(t,r){var e=r?V(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return function gn(t){var r=new t.constructor(t.source,un.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function dn(t){return ot?Object(ot.call(t)):{}}(t)}};var it=Object.create;const Wn=function(){function t(){}return function(r){if(!(0,W.Z)(r))return{};if(it)return it(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Vn=n(9977),Yn=n(9354),at=n(1196);var lt=n(8733),m=n(5527),ct=m.Z&&m.Z.isMap;const zn=ct?(0,lt.Z)(ct):function Hn(t){return(0,at.Z)(t)&&"[object Map]"==(0,G.Z)(t)};var ht=m.Z&&m.Z.isSet;const tr=ht?(0,lt.Z)(ht):function wn(t){return(0,at.Z)(t)&&"[object Set]"==(0,G.Z)(t)};var ut="[object Arguments]",gt="[object Function]",ft="[object Object]",o={};o[ut]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object DataView]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Map]"]=o["[object Number]"]=o[ft]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object Symbol]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Error]"]=o[gt]=o["[object WeakMap]"]=!1;const jr=function U(t,r,e,s,O,d){var c,i=1&r,v=2&r,Lr=4&r;if(e&&(c=O?e(t,s,O,d):e(t)),void 0!==c)return c;if(!(0,W.Z)(t))return t;var pt=(0,Vn.Z)(t);if(pt){if(c=function on(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&sn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!i)return function Nt(t,r){var e=-1,s=t.length;for(r||(r=Array(s));++e<s;)r[e]=t[e];return r}(t,c)}else{var M=(0,G.Z)(t),yt=M==gt||"[object GeneratorFunction]"==M;if((0,Yn.Z)(t))return function Kt(t,r){if(r)return t.slice();var e=t.length,s=q?q(e):new t.constructor(e);return t.copy(s),s}(t,i);if(M==ft||M==ut||yt&&!O){if(c=v||yt?{}:function Nn(t){return"function"!=typeof t.constructor||(0,Q.Z)(t)?{}:Wn(tt(t))}(t),!i)return v?function wt(t,r){return x(t,nt(t),r)}(t,function Lt(t,r){return t&&x(r,N(r),t)}(c,t)):function Vt(t,r){return x(t,(0,k.Z)(t),r)}(t,function Ct(t,r){return t&&x(r,(0,J.Z)(r),t)}(c,t))}else{if(!o[M])return O?t:{};c=Bn(t,M,i)}}d||(d=new F.Z);var Et=d.get(t);if(Et)return Et;d.set(t,c),tr(t)?t.forEach(function(b){c.add(U(b,r,e,b,t,d))}):zn(t)&&t.forEach(function(b,j){c.set(j,U(b,r,e,j,t,d))});var Pt=pt?void 0:(Lr?v?rn:kt.Z:v?N:J.Z)(t);return function Z(t,r){for(var e=-1,s=null==t?0:t.length;++e<s&&!1!==r(t[e],e,t););}(Pt||t,function(b,j){Pt&&(b=t[j=b]),H(c,j,U(b,r,e,j,t,d))}),c};var mr=n(1389),Ur=n(1342),dt=n(5879);n(4141);const vt="page";let Rr=(()=>{class t{constructor(e,s,O,d,c){this.location=e,this.loadingService=s,this.sortService=O,this.settings=d,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(vt),this.sorting$=this.sortService.sorting$,this.filter$=new E.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,h.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,C.h)(this.isValidFilter.bind(this)),(0,D.x)(L.Z),(0,S.d)(1)),this.resetEntries$=new A.x,this.nextPage$=new A.x,this.page$=(0,P.T)(this.nextPage$.pipe((0,h.U)(()=>"next")),(0,P.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>"reset"))).pipe((0,p.R)((i,v)=>"next"===v?i+1:0,0)),this.offset$=this.page$.pipe((0,h.U)(i=>i*this.settings.paginationLimit)),this.pageResult$=(0,T.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,R.b)(10),(0,u.b)((0,mr.h)(this.loadEntries.bind(this))),(0,S.d)(1)),this.entries$=(0,P.T)((0,P.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>({action:"reset"}))),this.pageResult$.pipe((0,h.U)(i=>0===i.offset?{action:"reset",entries:i.entries}:{action:"append",entries:i.entries}))).pipe((0,p.R)(this.entriesActionReducer.bind(this),[]),(0,S.d)(1)),this.total$=this.pageResult$.pipe((0,h.U)(({total:i})=>i)),this.hasMore$=this.pageResult$.pipe((0,h.U)(({offset:i,total:v})=>i<v-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,h.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,h.U)(Ur.tW)),this.destroy$=new A.x,this.queryParamsString$.pipe((0,g.R)(this.destroy$)).subscribe(i=>this.location.replaceState(c,i)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function Dr(t){return jr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,$.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,s){switch(s.action){case"append":return[...e,...s.entries];case"reset":return s.entries?s.entries:[];default:return e}}static#t=this.\u0275fac=function(s){dt.$Z()};static#n=this.\u0275prov=dt.Yz7({token:t,factory:t.\u0275fac})}return t})()},412:(Y,I,n)=>{n.d(I,{X:()=>F});var E=n(1523),A=n(8645),P=n(2096),T=n(2181),h=n(7398),C=n(8180),D=n(1631),S=n(4664),p=n(2689),R=n(7081),u=n(9773),g=n(836),$=n(5879),L=n(6814);let F=(()=>{class f{constructor(a,l){this.router=a,this.viewportScroller=l,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new A.x,this.scrollPosition$=this.router.events.pipe((0,T.h)(B),(0,h.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,T.h)(Z)),this.navigationEnd$=this.router.events.pipe((0,T.h)(K)),this.route$=this.activationEnd$.pipe((0,C.q)(1)).pipe((0,D.z)(y=>[(0,P.of)(y),this.navigationEnd$.pipe((0,S.w)(()=>this.activationEnd$.pipe((0,C.q)(1))))]),(0,p.B)(),(0,h.U)(y=>y.snapshot),(0,R.d)(1)),this.scrollPosition$.pipe((0,u.R)(this.destroy$)).subscribe(y=>this.currentScrollPosition=y),this.route$.pipe((0,u.R)(this.destroy$)).subscribe(y=>{this.previousRoute=this.currentRoute,this.currentRoute=y})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const l=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[l]||[0,0])}const a=this.currentRoute;this.route$.pipe((0,g.T)(1),(0,C.q)(1),(0,u.R)(this.destroy$),(0,T.h)(l=>this.shouldStoreFor(a,l))).subscribe(()=>{const l=this.getPath(a);this.scrollPositions[l]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(a){this.viewportScroller.scrollToPosition(a)}getPath(a){return a?"/"+a.pathFromRoot.map(l=>l.routeConfig&&l.routeConfig.path).filter(l=>l).join("/"):"/"}requiresStoring(a){return!!(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)&&a.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(a,l){return(a&&a.routeConfig&&a.routeConfig.data&&Array.isArray(a.routeConfig.data.restoreScrollPositionFrom)?a.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(l))}static#t=this.\u0275fac=function(l){return new(l||f)($.LFG(E.F0),$.LFG(L.EM))};static#n=this.\u0275prov=$.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Z(f){return f instanceof E.jw}function B(f){return f instanceof E.OD}function K(f){return f instanceof E.m2}},1608:(Y,I,n)=>{n.d(I,{K:()=>S});var E=n(8658),A=n(7398),P=n(5619),T=n(3997),h=n(7081),C=n(8180),D=n(5879);let S=(()=>{class p{getSortingChar$(u){return this.sorting$.pipe((0,A.U)(g=>g&&u===g.key?g.ascending?"\u2193":"\u2191":""))}constructor(){this.sortingSubject$=new P.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,T.x)(E.Z),(0,h.d)(1))}setSorting(u){this.sortingSubject$.next(u)}toggleSorting(u){this.sorting$.pipe((0,C.q)(1)).subscribe(g=>{this.sortingSubject$.next({key:u,ascending:!g||g.key!==u||!g.ascending})})}static#t=this.\u0275fac=function(g){return new(g||p)};static#n=this.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);