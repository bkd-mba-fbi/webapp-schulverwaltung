import{d}from"./chunk-Q5U6YZUT.js";import{a as lt}from"./chunk-N6FFLIGM.js";import{a as ut,b as dt,c as mt}from"./chunk-33NXTXD7.js";import{u as st,w as ct,z as Pe}from"./chunk-FTRAQKUW.js";import{$ as re,$a as x,Ac as rt,Bb as m,Bc as De,Bd as de,Cb as h,Cc as L,Db as z,E as V,Fb as ke,G as ne,Ga as T,Gc as it,Gd as at,Hd as le,Ia as b,Id as me,J as Ne,Ja as Ve,L as I,N as W,Nc as ot,O as Te,P as Be,Sa as l,Sb as Ze,Ta as f,Tb as et,Ua as Se,Va as U,W as D,Wa as X,Wb as tt,Wc as F,Xb as nt,Ya as oe,Z as k,_a as J,ab as Ge,bb as Qe,ca as je,cb as Ue,db as Xe,e as Ee,ec as ce,f as Ae,fb as Je,g as H,ga as qe,gb as Ke,ha as G,hb as ze,ia as Q,ib as ae,jb as _,k as We,kb as K,lb as C,m as u,mb as Ie,n as Re,q as $e,sc as ue,ta as He,tb as se,ua as c,va as ie,w as Ye}from"./chunk-T7QWSMKM.js";var pt=function(e){return function(t){return!e(t)}};function Jt(e){return!e}function Kt(e){return!!(e&&e.IsComment)}function zt(e){return!!(e&&e.IsIncident)}function pe(e){return!!(e&&(e.IsAbsence||e.IsDispensation||e.IsHalfDay))}function Ce(e,t){return!!(e&&t&&e.Id===t.absencePresenceTypeId)}function Oe(e,t){return!!(e&&t&&t===e.checkableAbsenceStateId)}function ft(e,t,n){return!!(Jt(t)&&e.ConfirmationStateId===null||Kt(t)||zt(t)||pe(t)&&e.ConfirmationStateId===n.unconfirmedAbsenceStateId||Oe(n,e.ConfirmationStateId))}function gr(e,t){return e?.IsAbsence?t.unconfirmedAbsenceStateId:null}var S=function(e){return e.Present="present",e.Unapproved="unapproved",e.Absent="absent",e}(S||{});function Zt(e){switch(e){case S.Absent:return"cancel";case S.Unapproved:return"help";default:return"check_circle"}}var fe=class{constructor(t,n,r,i){this.lessonPresence=t,this.presenceType=n,this.precedingAbsences=r,this.confirmationState=i,this.studentFullName=t.StudentFullName}get presenceCategory(){return Oe(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?S.Unapproved:pe(this.presenceType)?S.Absent:S.Present}get nextPresenceCategory(){return this.presenceCategory===S.Absent?S.Present:S.Absent}getNextPresenceType(t){switch(this.nextPresenceCategory){case S.Absent:return this.presenceCategory===S.Unapproved?this.presenceType:t.find(n=>Ce(n,this.settings))||null;default:return null}}get canChangePresenceType(){return ft(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!pe(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===S.Absent&&!Ce(this.presenceType,this.settings)||this.presenceCategory===S.Unapproved}get presenceCategoryIcon(){return Zt(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function v(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ht(e,t){let n=d(e);return isNaN(t)?v(e,NaN):(t&&n.setDate(n.getDate()+t),n)}var en=Math.pow(10,8)*24*60*60*1e3,Sr=-en,he=6048e5,gt=864e5,Ir=6e4,kr=36e5,Dr=1e3;var tn=3600;var yt=tn*24,Pr=yt*7,nn=yt*365.2425,rn=nn/12,Cr=rn*3;var on={};function E(){return on}function O(e,t){let n=E(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=d(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function R(e){return O(e,{weekStartsOn:1})}function ge(e){let t=d(e),n=t.getFullYear(),r=v(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let i=R(r),o=v(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);let a=R(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Z(e){let t=d(e);return t.setHours(0,0,0,0),t}function Me(e){let t=d(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ye(e,t){let n=Z(e),r=Z(t),i=+n-Me(n),o=+r-Me(r);return Math.round((i-o)/gt)}function bt(e){let t=ge(e),n=v(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R(n)}function xt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _t(e){if(!xt(e)&&typeof e!="number")return!1;let t=d(e);return!isNaN(Number(t))}function wt(e){let t=d(e),n=v(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var an={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vt=(e,t,n)=>{let r,i=an[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function be(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var sn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},un={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tt={date:be({formats:sn,defaultWidth:"full"}),time:be({formats:cn,defaultWidth:"full"}),dateTime:be({formats:un,defaultWidth:"full"})};var dn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},St=(e,t,n,r)=>dn[e];function B(e){return(t,n)=>{let r=n?.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){let a=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):a;i=e.formattingValues[p]||e.formattingValues[a]}else{let a=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;i=e.values[p]||e.values[a]}let o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}var ln={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yn=(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},It={ordinalNumber:yn,era:B({values:ln,defaultWidth:"wide"}),quarter:B({values:mn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:B({values:pn,defaultWidth:"wide"}),day:B({values:fn,defaultWidth:"wide"}),dayPeriod:B({values:hn,defaultWidth:"wide",formattingValues:gn,defaultFormattingWidth:"wide"})};function j(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let a=o[0],p=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?xn(p,y=>y.test(a)):bn(p,y=>y.test(a)),P;P=e.valueCallback?e.valueCallback(g):g,P=n.valueCallback?n.valueCallback(P):P;let w=t.slice(a.length);return{value:P,rest:w}}}function bn(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xn(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function kt(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;let p=t.slice(i.length);return{value:a,rest:p}}}var _n=/^(\d+)(th|st|nd|rd)?/i,wn=/\d+/i,vn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tn={any:[/^b/i,/^(a|c)/i]},Sn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},In={any:[/1/i,/2/i,/3/i,/4/i]},kn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},On={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dt={ordinalNumber:kt({matchPattern:_n,parsePattern:wn,valueCallback:e=>parseInt(e,10)}),era:j({matchPatterns:vn,defaultMatchWidth:"wide",parsePatterns:Tn,defaultParseWidth:"any"}),quarter:j({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:In,defaultParseWidth:"any",valueCallback:e=>e+1}),month:j({matchPatterns:kn,defaultMatchWidth:"wide",parsePatterns:Dn,defaultParseWidth:"any"}),day:j({matchPatterns:Pn,defaultMatchWidth:"wide",parsePatterns:Cn,defaultParseWidth:"any"}),dayPeriod:j({matchPatterns:On,defaultMatchWidth:"any",parsePatterns:Mn,defaultParseWidth:"any"})};var Le={code:"en-US",formatDistance:vt,formatLong:Tt,formatRelative:St,localize:It,match:Dt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pt(e){let t=d(e);return ye(t,wt(t))+1}function Ct(e){let t=d(e),n=+R(t)-+bt(t);return Math.round(n/he)+1}function xe(e,t){let n=d(e),r=n.getFullYear(),i=E(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=v(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);let p=O(a,t),g=v(e,0);g.setFullYear(r,0,o),g.setHours(0,0,0,0);let P=O(g,t);return n.getTime()>=p.getTime()?r+1:n.getTime()>=P.getTime()?r:r-1}function Ot(e,t){let n=E(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=xe(e,t),o=v(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),O(o,t)}function Mt(e,t){let n=d(e),r=+O(n,t)-+Ot(n,t);return Math.round(r/he)+1}function s(e,t){let n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}var M={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return s(t==="yy"?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t==="M"?String(n+1):s(n+1,2)},d(e,t){return s(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return s(e.getHours()%12||12,t.length)},H(e,t){return s(e.getHours(),t.length)},m(e,t){return s(e.getMinutes(),t.length)},s(e,t){return s(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return s(i,t.length)}};var q={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fe={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){let r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return M.y(e,t)},Y:function(e,t,n,r){let i=xe(e,r),o=i>0?i:1-i;if(t==="YY"){let a=o%100;return s(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):s(o,t.length)},R:function(e,t){let n=ge(e);return s(n,t.length)},u:function(e,t){let n=e.getFullYear();return s(n,t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return s(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return s(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return M.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return s(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let i=Mt(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):s(i,t.length)},I:function(e,t,n){let r=Ct(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):s(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):M.d(e,t)},D:function(e,t,n){let r=Pt(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):s(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return s(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return s(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return s(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r=e.getHours(),i;switch(r===12?i=q.noon:r===0?i=q.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r=e.getHours(),i;switch(r>=17?i=q.evening:r>=12?i=q.afternoon:r>=4?i=q.morning:i=q.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return M.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):M.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):s(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):M.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):M.s(e,t)},S:function(e,t){return M.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ft(r);case"XXXX":case"XX":return $(r);case"XXXXX":case"XXX":default:return $(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return Ft(r);case"xxxx":case"xx":return $(r);case"xxxxx":case"xxx":default:return $(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lt(r,":");case"OOOO":default:return"GMT"+$(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lt(r,":");case"zzzz":default:return"GMT"+$(r,":")}},t:function(e,t,n){let r=Math.trunc(e.getTime()/1e3);return s(r,t.length)},T:function(e,t,n){let r=e.getTime();return s(r,t.length)}};function Lt(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+s(o,2)}function Ft(e,t){return e%60===0?(e>0?"-":"+")+s(Math.abs(e)/60,2):$(e,t)}function $(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),i=s(Math.trunc(r/60),2),o=s(r%60,2);return n+i+t+o}var Et=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},At=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ln=(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Et(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Et(r,t)).replace("{{time}}",At(i,t))},Wt={p:At,P:Ln};var Fn=/^D+$/,En=/^Y+$/,An=["D","DD","YY","YYYY"];function Rt(e){return Fn.test(e)}function $t(e){return En.test(e)}function Yt(e,t,n){let r=Wn(e,t,n);if(console.warn(r),An.includes(e))throw new RangeError(r)}function Wn(e,t,n){let r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Rn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$n=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yn=/^'([^]*?)'?$/,Nn=/''/g,Bn=/[a-zA-Z]/;function A(e,t,n){let r=E(),i=n?.locale??r.locale??Le,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,p=d(e);if(!_t(p))throw new RangeError("Invalid time value");let g=t.match($n).map(w=>{let y=w[0];if(y==="p"||y==="P"){let ve=Wt[y];return ve(w,i.formatLong)}return w}).join("").match(Rn).map(w=>{if(w==="''")return{isToken:!1,value:"'"};let y=w[0];if(y==="'")return{isToken:!1,value:jn(w)};if(Fe[y])return{isToken:!0,value:w};if(y.match(Bn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(g=i.localize.preprocessor(p,g));let P={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return g.map(w=>{if(!w.isToken)return w.value;let y=w.value;(!n?.useAdditionalWeekYearTokens&&$t(y)||!n?.useAdditionalDayOfYearTokens&&Rt(y))&&Yt(y,t,String(e));let ve=Fe[y[0]];return ve(p,y,i.localize,P)}).join("")}function jn(e){let t=e.match(Yn);return t?t[1].replace(Nn,"'"):e}function _o(e,t){return ht(e,-t)}var Y=class{constructor(t){if(this.absences=t,t.length===0)throw new Error("Absences array is empty");this.date=Z(this.absences[0].LessonDateTimeFrom),this.dateString=A(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}};function ko(e,t){return e===null&&t===null||e!==null&&t!==null&&e.LessonRef.Id===t.LessonRef.Id&&e.EventDesignation===t.EventDesignation&&e.StudyClassNumber===t.StudyClassNumber&&e.TeacherInformation===t.TeacherInformation&&e.LessonDateTimeFrom.getTime()===t.LessonDateTimeFrom.getTime()&&e.LessonDateTimeTo.getTime()===t.LessonDateTimeTo.getTime()}function qn(e,t){return e?t.filter(n=>e.lessons.map(r=>r.LessonRef.Id).indexOf(n.LessonRef.Id)>=0).sort(Gn):[]}function Hn(e,t,n){return de(e.filter(r=>r.StudentRef.Id===t.StudentRef.Id&&r.LessonRef.From&&r.LessonRef.From.toDateString()===n?.LessonDateTimeFrom.toDateString()&&r.LessonRef.From<n?.LessonDateTimeFrom),"Id").sort(Qn)}function Do(e,t,n,r,i){return qn(e,t).map(o=>Vn(e,o,n,r,i))}function Vn(e,t,n,r,i){let o=null;t.TypeRef.Id&&(o=n.find(g=>g.Id===t.TypeRef.Id)||null);let a=Hn(i,t,e),p;return t.ConfirmationStateId&&(p=r.find(g=>g.Key===t.ConfirmationStateId)),new fe(t,o,a,p)}function Nt(e,t){let n=e.LessonDateTimeFrom.getTime(),r=t.LessonDateTimeFrom.getTime();return n-r===0?e.LessonDateTimeTo.getTime()-t.LessonDateTimeTo.getTime():n-r}function Gn(e,t){return e.StudentFullName.localeCompare(t.StudentFullName)}function Qn(e,t){return e.LessonRef.From&&e.LessonRef.To&&t.LessonRef.From&&t.LessonRef.To?e.LessonRef.From.getTime()-t.LessonRef.From.getTime()===0?e.LessonRef.To.getTime()-t.LessonRef.To.getTime():e.LessonRef.From.getTime()-t.LessonRef.From.getTime():0}var _e=class extends Error{constructor(t,n){super(`TypeScript thought we could never end up here
${n}`)}};function Ao(e){let t=Xn(e);return Object.keys(t).reduce((n,r)=>(Object.keys(t[r]).forEach(i=>{n=[...n,new Y(t[r][i].sort(Nt))]}),n),[])}function Wo(e,t){return[...e].sort(Un(t))}function we(e){return e.reduce((t,n)=>t.concat(n.absences),[])}function Ro(e,t){return e.filter(n=>!t.some(({lessonIds:r,personId:i})=>r.includes(n.LessonRef.Id)&&i===n.StudentRef.Id))}function $o(e,t){return de([...e,...t],"Id")}function Un(e){return(t,n)=>{switch(e.primarySortKey){case"date":{let r=t.date.getTime(),i=n.date.getTime();return r===i?t.studentFullName.localeCompare(n.studentFullName):e.ascending?r-i:i-r}case"name":{let r=e.ascending?t.studentFullName.localeCompare(n.studentFullName):n.studentFullName.localeCompare(t.studentFullName);return r===0?n.date.getTime()-t.date.getTime():r}default:throw new _e(e.primarySortKey,"Unhandled sort criteria")}}}function Xn(e){return e.reduce((t,n)=>{let r=A(n.LessonDateTimeFrom,"yyyy-MM-dd"),i=n.StudentRef.Id;return t[r]||(t[r]={}),t[r][i]||(t[r][i]=[]),t[r][i].push(n),t},{})}var ee=function(e){return e.ToggleSelection="TOGGLE",e.ClearSelection="CLEAR",e}(ee||{}),Bt=(()=>{let t=class t{constructor(){this.action$=new Ee,this.selection$=$e(this.action$.pipe(Ne(this.reduceSelection.bind(this),[]),W([])),{connector:()=>new H(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(r){this.action$.next({type:ee.ToggleSelection,payload:r})}clear(r=null){this.action$.next({type:ee.ClearSelection,payload:r})}isSelected$(r){return this.selection$.pipe(u(i=>i.includes(r)),ne())}reduceSelection(r,i){switch(i.type){case ee.ToggleSelection:return r.includes(i.payload)?r.filter(o=>o!==i.payload):[...r,i.payload];case ee.ClearSelection:return i.payload||[];default:return r}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac});let e=t;return e})();function Ho(e){let t=e.reduce((n,r)=>(n[r.StudentRef.Id]||(n[r.StudentRef.Id]=[]),n[r.StudentRef.Id].push(r.LessonRef.Id),n),{});return Object.keys(t).map(n=>({personIds:[Number(n)],lessonIds:t[n]}))}function jt(e){let t={};return e.forEach(n=>{t[n.StudentRef.Id]||(t[n.StudentRef.Id]={}),t[n.StudentRef.Id][String(n.TypeRef.Id)]||(t[n.StudentRef.Id][String(n.TypeRef.Id)]=[]),t[n.StudentRef.Id][String(n.TypeRef.Id)].push(n.LessonRef.Id)}),Object.keys(t).reduce((n,r)=>[...n,...Object.keys(t[r]).map(i=>({personId:Number(r),presenceTypeId:i==="null"?null:Number(i),lessonIds:t[r][String(i)]}))],[])}function Vo(e){return e.slice().sort((t,n)=>t.LessonDateTimeFrom.getTime()-n.LessonDateTimeFrom.getTime())}function Go(e){return`${e.EventDesignation}, ${A(e.LessonDateTimeFrom,"dd.MM.yyyy")}, ${A(e.LessonDateTimeFrom,"HH:mm")}-${A(e.LessonDateTimeTo,"HH:mm")}`}var na=(()=>{let t=class t extends Bt{constructor(r){super(),this.settings=r,this.selectedIds$=this.selection$.pipe(u(te),u(({openAbsencesEntries:i,lessonPresences:o})=>jt([...we(i),...o])),I(1)),this.selectedLessons$=this.selection$.pipe(u(te),u(({openAbsencesEntries:i,lessonPresences:o})=>[...we(i),...o]),I(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(u(te),u(({openAbsencesEntries:i,lessonPresences:o})=>[...we(i),...o].filter(a=>a.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe(V(1),u(te)).subscribe(({openAbsencesEntries:r})=>this.clear(r))}clearNonLessonPresences(){this.selection$.pipe(V(1),u(te)).subscribe(({lessonPresences:r})=>this.clear(r))}};t.\u0275fac=function(i){return new(i||t)(k(F))},t.\u0275prov=D({token:t,factory:t.\u0275fac});let e=t;return e})();function te(e){return{openAbsencesEntries:e.filter(Pe(Y)),lessonPresences:e.filter(pt(Pe(Y)))}}function qt(e){return e.slice().sort((t,n)=>t.Sort-n.Sort)}function ia(e){return e.map(t=>({Key:t.Id,Value:t.Designation||""}))}function oa(e,t){return e.map(n=>Object.assign(n,{Group:t}))}var Ht=it({Id:De,Active:L,Designation:ot(rt),IsAbsence:L,IsComment:L,IsDispensation:L,IsIncident:L,IsHalfDay:L,NeedsConfirmation:L,Sort:De});var Vt=(()=>{let t=class t extends dt{constructor(r,i){super(r,i,Ht,"PresenceTypes")}};t.\u0275fac=function(i){return new(i||t)(k(ce),k(F))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Gt=(()=>{let t=class t{constructor(r,i){this.restService=r,this.settings=i,this.presenceTypes$=this.loadPresenceTypes().pipe(I(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(u(this.filterActiveTypes.bind(this)),I(1)),this.confirmationTypes$=this.presenceTypes$.pipe(u(this.filterConfirmationTypes.bind(this)),I(1)),this.incidentTypes$=this.presenceTypes$.pipe(u(this.filterIncidentTypes.bind(this)),I(1)),this.displayedTypes$=this.presenceTypes$.pipe(u(this.filterDisplayedTypes.bind(this)),I(1)),this.halfDayActive$=this.presenceTypes$.pipe(u(this.isHalfDayActive.bind(this)),W(!1),ne(),I(1))}getPresenceType(r){return this.presenceTypes$.pipe(u(i=>{let o=i.find(a=>a.Id===r);if(!o)throw new Error("presence type not found");return o}))}loadPresenceTypes(){return this.restService.getList().pipe(u(qt))}filterActiveTypes(r){return r.filter(i=>i.Active)}filterConfirmationTypes(r){return r.filter(i=>i.NeedsConfirmation&&i.Active&&i.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(r){return r.filter(i=>i.IsIncident&&i.Active)}filterDisplayedTypes(r){return r.filter(i=>i.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(r){return!!r.find(i=>i.Id===this.settings.halfDayPresenceTypeId)?.Active}};t.\u0275fac=function(i){return new(i||t)(k(Vt),k(F))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ba=(()=>{let t=class t{constructor(r,i){this.http=r,this.settings=i}editLessonPresences(r,i,o,a,p){let g={LessonIds:r,PersonIds:i};return o!==void 0&&(g.PresenceTypeId=o),a!==void 0&&(g.ConfirmationValue=a),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,g,p).pipe(u(()=>{}))}removeLessonPresences(r,i,o){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:r,PersonIds:i,WithComment:!0},o).pipe(u(()=>{}))}confirmLessonPresences(r,i,o,a){let p={LessonIds:r,PersonIds:i,AbsenceTypeId:o,ConfirmationValue:a};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,p).pipe(u(()=>{}))}};t.\u0275fac=function(i){return new(i||t)(k(ce),k(F))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ut=(()=>{let t=class t{constructor(r){this.translate=r}transform(r){if(!r)return"";let i=ye(r,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(i)}`,{count:Math.abs(i)})}getKey(r){return r===0?"today":r===1?"tomorrow":r===-1?"yesterday":r>0?"in":"ago"}};t.\u0275fac=function(i){return new(i||t)(ie(at,16))},t.\u0275pipe=je({name:"bkdDaysDifference",type:t,pure:!0,standalone:!0});let e=t;return e})();function va(e){return e.length===0}function Xt(e){return Array.isArray(e)}var Zn=["checkbox"];function er(e,t){if(e&1&&Se(0,"bkd-reports-link",17),e&2){let n=x(4);b("reports",n.reports)("disableIfUnavailable",!0)}}function tr(e,t){if(e&1&&(l(0,"a",18),m(1,"async"),l(2,"i",13),_(3,"mail"),f()()),e&2){let n=x(4);Xe("href","mailto:",h(1,2,n.mailTo$),"",He)}}function nr(e,t){if(e&1&&(l(0,"div",19),_(1),f()),e&2){let n=x(4);c(),C(" ",n.defaultAbsenceSelectionMessage," ")}}function rr(e,t){if(e&1){let n=oe();l(0,"div",7),J("click",function(i){G(n);let o=ae(3),a=x(3);return Q(a.onRowClick(i,o))}),l(1,"div",8)(2,"input",9,2),m(4,"async"),J("change",function(i){G(n);let o=x(3);return Q(o.toggleAll(i.target==null?null:i.target.checked))}),f()(),l(5,"div",10),_(6),m(7,"translate"),f(),l(8,"div",11)(9,"a",12),m(10,"async"),l(11,"i",13),_(12,"edit"),f()(),T(13,er,1,2,"bkd-reports-link",14)(14,tr,4,4,"a",15),f(),T(15,nr,2,1,"div",16),m(16,"async"),f()}if(e&2){let n,r,i=x(3);c(2),b("checked",h(4,8,i.allSelected$)),c(4),K(h(7,10,"open-absences.detail.all")),c(3),Ve("disabled",((n=h(10,12,i.selectionService==null?null:i.selectionService.selection$))==null?null:n.length)===0),Ue("routerLink",i.confirmLink),c(4),b("ngIf",i.reports),c(),b("ngIf",i.displayEmail),c(),b("ngIf",i.defaultAbsenceSelectionMessage&&((r=h(16,14,i.selectionService==null?null:i.selectionService.selectedWithoutPresenceType$))==null?null:r.length)||!1)}}function ir(e,t){if(e&1){let n=oe();l(0,"div",8)(1,"input",9,3),m(3,"async"),J("change",function(){G(n);let i=x().$implicit,o=x(3);return Q(o.selectionService==null?null:o.selectionService.toggle(i))}),f()()}if(e&2){let n=x().$implicit,r=x(3);c(),b("checked",h(3,1,r.selectionService==null?null:r.selectionService.isSelected$(n)))}}function or(e,t){if(e&1&&(U(0),_(1),X()),e&2){let n=x().$implicit;c(),C(", ",n.StudyClassNumber,"")}}function ar(e,t){if(e&1&&(l(0,"div",32),_(1),f()),e&2){let n=x().bkdLet;c(),C(" ",n," ")}}function sr(e,t){e&1&&(l(0,"div",33),_(1),m(2,"translate"),f()),e&2&&(c(),C(" ",h(2,1,"my-absences.show.confirm-presence-type")," "))}function cr(e,t){if(e&1&&(U(0),T(1,ar,2,1,"div",30)(2,sr,3,3,"div",31),X()),e&2){let n=t.bkdLet,r=x(4);c(),b("ngIf",n),c(),b("ngIf",r.displayPresenceType&&!n&&r.defaultAbsenceSelectionMessage)}}function ur(e,t){if(e&1){let n=oe();l(0,"div",20),J("click",function(i){let o=G(n).index,a=x(3);return Q(a.onRowClick(i,o))}),T(1,ir,4,3,"div",21),m(2,"async"),l(3,"div",22),_(4),T(5,or,2,1,"ng-container",23),f(),l(6,"div",24),_(7),m(8,"date"),m(9,"date"),f(),l(10,"div",25),_(11),f(),T(12,cr,3,2,"ng-container",26),m(13,"async"),l(14,"div",27),_(15),m(16,"date"),f(),l(17,"div",28),_(18),m(19,"bkdDaysDifference"),f(),l(20,"div",29),_(21),m(22,"date"),m(23,"bkdDaysDifference"),f()()}if(e&2){let n=t.$implicit,r=x(3);c(),b("ngIf",h(2,11,r.editable$)),c(3),C(" ",n.EventDesignation,""),c(),b("ngIf",n.StudyClassNumber),c(2),Ie(" ",z(8,13,n.LessonDateTimeFrom,"HH:mm"),"\u2013",z(9,16,n.LessonDateTimeTo,"HH:mm")," "),c(4),C(" ",n.TeacherInformation," "),c(),b("bkdLet",h(13,19,r.getPresenceTypeDesignation(n))),c(3),C(" ",z(16,21,n.LessonDateTimeFrom,"dd.MM.yyyy")," "),c(3),C(" ",h(19,24,n.LessonDateTimeFrom)," "),c(3),Ie(" ",z(22,26,n.LessonDateTimeFrom,"dd.MM.yyyy"),", ",h(23,29,n.LessonDateTimeFrom)," ")}}function dr(e,t){if(e&1&&(U(0),T(1,rr,17,16,"div",5),m(2,"async"),T(3,ur,24,31,"div",6),m(4,"async"),X()),e&2){let n=x(2);c(),b("ngIf",h(2,2,n.editable$)),c(2),b("ngForOf",h(4,4,n.lessonPresences$))}}function lr(e,t){e&1&&(l(0,"p",34),_(1),m(2,"translate"),f()),e&2&&(c(),K(h(2,1,"shared.profile.no-absences")))}function mr(e,t){if(e&1&&(U(0),T(1,dr,5,6,"ng-container",4),m(2,"async"),T(3,lr,3,3,"ng-template",null,1,ke),X()),e&2){let n,r=ae(4),i=x();c(),b("ngIf",((n=(n=h(2,2,i.lessonPresences$))==null?null:n.length)!==null&&n!==void 0?n:0)>0)("ngIfElse",r)}}function pr(e,t){e&1&&Se(0,"bkd-spinner",35)}var Aa=(()=>{let t=class t{constructor(r){this.presenceTypesService=r,this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.lessonPresences$$=new H(1),this.lessonPresences$=this.lessonPresences$$.pipe(Be(),W(null),I(1)),this.loading$=this.lessonPresences$.pipe(u(ct(Xt))),this.selectionService$=new H(1),this.editable$=this.selectionService$.pipe(u(()=>!0),W(!1)),this.displayPresenceType$=new Ae(!0),this.allSelected$=Re([this.lessonPresences$.pipe(Ye(st)),this.selectionService$.pipe(Te(i=>i.selection$))]).pipe(u(([i,o])=>i.length===o.length))}ngOnChanges(r){r.absences$&&this.lessonPresences$$.next(r.absences$.currentValue),r.selectionService&&r.selectionService.currentValue&&(r.selectionService.currentValue.clear(),this.selectionService$.next(r.selectionService.currentValue)),r.displayPresenceType&&this.displayPresenceType$.next(r.displayPresenceType.currentValue)}toggleAll(r){r?this.lessonPresences$.pipe(V(1)).subscribe(i=>this.selectionService?.clear(i)):this.selectionService?.clear()}onRowClick(r,i){if(this.checkboxes.length===0)return;let o;typeof i=="number"?o=this.checkboxes.toArray()[i].nativeElement:o=i,r.target!==o&&!r.target.closest(".buttons")&&o.click()}getPresenceTypeDesignation(r){return this.displayPresenceType$.pipe(Te(i=>i?this.presenceTypesService.displayedTypes$:We([])),u(i=>r.TypeRef.Id&&i.find(o=>o.Id===r.TypeRef.Id)?.Designation||null))}};t.\u0275fac=function(i){return new(i||t)(ie(Gt))},t.\u0275cmp=re({type:t,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(i,o){if(i&1&&Je(Zn,5),i&2){let a;Ke(a=ze())&&(o.checkboxes=a)}},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},standalone:!0,features:[qe,se],decls:4,vars:4,consts:[["loading",""],["noAbsences",""],["allCheckbox",""],["checkbox",""],[4,"ngIf","ngIfElse"],["class","absence-all",3,"click",4,"ngIf"],["class","absence-entry",3,"click",4,"ngFor","ngForOf"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],["class","me-2",3,"reports","disableIfUnavailable",4,"ngIf"],["class","mail btn btn-primary btn-icon me-2","target","_blank",3,"href",4,"ngIf"],["class","validation",4,"ngIf"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],["class","checkbox",4,"ngIf"],[1,"lesson-class"],[4,"ngIf"],[1,"time","pe-2"],[1,"teacher"],[4,"bkdLet"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"],["class","presence-type",4,"ngIf"],["class","presence-type confirm",4,"ngIf"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"mx-3"],[1,"inline","d-block","mb-3"]],template:function(i,o){if(i&1&&(T(0,mr,5,4,"ng-container",4),m(1,"async"),T(2,pr,1,0,"ng-template",null,0,ke)),i&2){let a=ae(3);b("ngIf",h(1,2,o.loading$)===!1)("ngIfElse",a)}},dependencies:[et,ue,lt,Ze,ut,mt,tt,nt,me,le,Ut],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width: 750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0});let e=t;return e})();var fr=["*"],Ya=(()=>{let t=class t{constructor(){this.link=[]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=re({type:t,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},standalone:!0,features:[se],ngContentSelectors:fr,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(i,o){i&1&&(Ge(),l(0,"div",0)(1,"a",1)(2,"span",2),_(3,"arrow_back"),f(),l(4,"span",3),_(5),m(6,"translate"),f()(),Qe(7),f()),i&2&&(c(),b("routerLink",o.link)("queryParams",o.params),c(4),K(h(6,3,"global.back")))},dependencies:[ue,me,le],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]});let e=t;return e})();export{pt as a,v as b,ht as c,Ir as d,kr as e,Dr as f,E as g,O as h,R as i,Z as j,Me as k,Le as l,Ct as m,xe as n,Mt as o,Wt as p,Rt as q,$t as r,Yt as s,A as t,_o as u,Kt as v,zt as w,pe as x,ft as y,gr as z,S as A,Zt as B,fe as C,ko as D,Do as E,Vn as F,Nt as G,Ao as H,Wo as I,Ro as J,$o as K,Bt as L,Ho as M,Vo as N,Go as O,na as P,qt as Q,ia as R,oa as S,Gt as T,ba as U,Ut as V,va as W,Aa as X,Ya as Y};
