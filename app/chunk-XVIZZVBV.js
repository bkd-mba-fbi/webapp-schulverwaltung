import{b as v,c as p}from"./chunk-GXPB5I4C.js";import{a as S}from"./chunk-QWYAXZZX.js";import{b as s}from"./chunk-WNZFLLQC.js";import{A as h,i as c}from"./chunk-RYYQAFJB.js";import{Nd as u,Sd as l,_ as i,a as m,b as I,be as b,ha as f,ma as d,t as a}from"./chunk-CHBP6U4G.js";var w=(()=>{class n extends S{constructor(){let t=d(c),e=d(h);super(t,e,p,"Subscriptions")}getSubscriptionIdsByEventAndStudents(t,e){return this.http.get(`${this.baseUrl}/`,{params:{"filter.EventId":`=${t}`,"filter.PersonId":`;${e}`}}).pipe(i(s(b)),a(r=>r.map(o=>o.Id)))}getSubscriptionsByStudent(t){return this.http.get(`${this.baseUrl}/`,{params:{"filter.PersonId":`=${t}`,"filter.IsOkay":"=1"}}).pipe(i(s(p)))}getSubscriptionCountsByEvents(t){return this.http.get(`${this.baseUrl}/`,{params:{"filter.EventId":`;${t.join(";")}`,fields:["Id","EventId"].join(",")}}).pipe(i(s(l({Id:u,EventId:u}))),a(e=>e.reduce((r,o)=>(r[o.EventId]=r[o.EventId]?r[o.EventId]+1:1,r),{})))}getSubscriptionsByCourse(t,e){return this.http.get(`${this.baseUrl}/`,{params:I(m({"filter.EventId":`=${t}`},e),{fields:["Id","EventId","EventDesignation","PersonId","Status","StatusId","RegistrationDate"].join(",")})}).pipe(i(s(p)))}getSubscriptionDetailsById(t){return this.http.get(`${this.baseUrl}/${t}/SubscriptionDetails`).pipe(i(s(v)))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{w as a};
