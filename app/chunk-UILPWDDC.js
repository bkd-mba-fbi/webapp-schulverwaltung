import{p as B}from"./chunk-QGDSASTQ.js";import{a as A}from"./chunk-YNODG5RP.js";import{b}from"./chunk-EFJ6WEH7.js";import{a as V}from"./chunk-LYDHS67M.js";import{h as z,x as Y,z as $}from"./chunk-ZXUJZ6KS.js";import{Cd as D,D as I,Dd as R,H as N,Ha as U,Id as S,Ka as F,a as p,b as h,ba as m,ea as w,fa as P,ib as T,ja as M,o as O,oa as d,q as g,qb as k,v as u,wb as y,x as K,xb as j,ze as x}from"./chunk-GP622B77.js";function _(t,e,i,o){let n=window&&!!window.document&&window.document.documentElement,r=n&&e?window:i;if(t&&(r=t&&n&&typeof t=="string"?tt(t,i.nativeElement,o):t,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function tt(t,e,i){return(i?window.document:e).querySelector(t)}function C(t){return t&&!t.firstChange}function et(){return typeof window<"u"}var ot={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},it={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},E=class{constructor(e=!0){this.vertical=e,this.propsMap=e?ot:it}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function nt(t,e,i){return!!(t&&e||!i&&e)}function rt({windowElement:t,axis:e}){return lt({axis:e,isWindow:st(t)},t)}function lt(t,e){let i=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return h(p({},t),{container:i})}function st(t){return["Window","global"].some(i=>Object.prototype.toString.call(t).includes(i))}function W(t,e){return t?e.document.documentElement:null}function G(t,e){let i=ft(e);return e.isWindow?ct(i,t,e):at(i,t,e)}function ct(t,e,i){let{axis:o,container:n,isWindow:r}=i,{offsetHeightKey:l,clientHeightKey:c}=X(o),a=t+q(W(r,n),o,r),s=L(e.nativeElement,r,l,c),f=ut(e.nativeElement,o,r)+s;return{height:t,scrolled:a,totalToScroll:f,isWindow:r}}function at(t,e,i){let{axis:o,container:n}=i,r=n[o.scrollTopKey()],l=n[o.scrollHeightKey()];return{height:t,scrolled:r,totalToScroll:l,isWindow:!1}}function X(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function ft({container:t,isWindow:e,axis:i}){let{offsetHeightKey:o,clientHeightKey:n}=X(i);return L(t,e,o,n)}function L(t,e,i,o){if(isNaN(t[i])){let n=W(e,t);return n?n[o]:0}else return t[i]}function ut(t,e,i){let o=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[o]+q(t,e,i)}function q(t,e,i){let o=e.pageYOffsetKey(),n=e.scrollTopKey(),r=e.offsetTopKey();return isNaN(window.pageYOffset)?W(i,t)[n]:t.ownerDocument?t.ownerDocument.defaultView[o]:t[r]}function dt(t,e={down:0,up:0},i){let o,n;if(t.totalToScroll<=0)return!1;let r=t.isWindow?t.scrolled:t.height+t.scrolled;if(i)o=(t.totalToScroll-r)/t.totalToScroll,n=(e?.down?e.down:0)/10;else{let c=t.scrolled+(t.totalToScroll-r);o=t.scrolled/c,n=(e?.up?e.up:0)/10}return o<=n}function pt(t,e){return t<e.scrolled}function ht(t,e,i){let o=pt(t,e);return{fire:dt(e,i,o),scrollDown:o}}var H=class{constructor(e){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,e)}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,i){this.updateScrollPosition(e),this.updateTotalToScroll(i)}updateTriggeredFlag(e,i){i?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,i){return i?this.triggered.down===e:this.triggered.up===e}};function gt(t){let{scrollContainer:e,scrollWindow:i,element:o,fromRoot:n}=t,r=rt({axis:new E(!t.horizontal),windowElement:_(e,i,o,n)}),l=new H({totalToScroll:G(o,r).totalToScroll}),c={container:r.container,throttle:t.throttle},a={up:t.upDistance,down:t.downDistance};return mt(c).pipe(K(()=>g(G(o,r))),u(s=>St(l.lastScrollPosition,s,a)),w(({stats:s})=>l.updateScroll(s.scrolled,s.totalToScroll)),N(({fire:s,scrollDown:f,stats:{totalToScroll:J}})=>nt(t.alwaysCallback,s,l.isTriggeredScroll(J,f))),w(({scrollDown:s,stats:{totalToScroll:f}})=>{l.updateTriggeredFlag(f,s)}),u(wt))}function mt(t){let e=I(t.container,"scroll");return t.throttle&&(e=e.pipe(P(t.throttle,void 0,{leading:!0,trailing:!0}))),e}function St(t,e,i){let{scrollDown:o,fire:n}=ht(t,e,i);return{scrollDown:o,fire:n,stats:e}}var v={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function wt(t){let{scrollDown:e,stats:{scrolled:i}}=t;return{type:e?v.DOWN:v.UP,payload:{currentScrollPosition:i}}}var Nt=(()=>{let e=class e{constructor(o,n){this.element=o,this.zone=n,this.scrolled=new y,this.scrolledUp=new y,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:n,infiniteScrollDistance:r}){let l=C(o),c=C(n),a=C(r),s=!c&&!this.infiniteScrollDisabled||c&&!n.currentValue||a;(l||c||a)&&(this.destroyScroller(),s&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){et()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=gt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.handleOnScroll(o))})}handleOnScroll({type:o,payload:n}){let r=o===v.DOWN?this.scrolled:this.scrolledUp;Tt(r)&&this.zone.run(()=>r.emit(n))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(T(F),T(j))},e.\u0275dir=k({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[U]});let t=e;return t})();function Tt(t){return t.observed??t.observers.length>0}function Ft(t){return Object.keys(t).reduce((e,i)=>{let o=yt(t[i]);return o?h(p({},e),{[i]:o}):e},{})}function yt(t){return t?t instanceof Date?B(t,"yyyy-MM-dd"):String(t):null}var Z=S({Id:R,Designation:D,Number:D});var Jt=(()=>{let e=class e extends A{constructor(){let o=d(z),n=d($);super(o,n,Z,"EducationalEvents"),this.translate=d(x),this.toastService=d(V),this.typeaheadCodec=S(Y(this.codec.props,["Id","Designation","Number"]))}getTypeaheadItems(o){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Designation":`~*${o}*`}}).pipe(m(b(this.typeaheadCodec)),u(n=>n.map(r=>({Key:r.Id,Value:`${r.Designation} (${r.Number})`}))))}getTypeaheadItemByKey(o){return this.http.get(`${this.baseUrl}/CurrentSemester`,{params:{fields:["Id","Designation","Number"].join(","),"filter.Id":`=${o}`}}).pipe(m(b(this.typeaheadCodec)),m(n=>n.length===0?(this.toastService.error(this.translate.instant("global.rest-errors.notfound-message"),this.translate.instant("global.rest-errors.notfound-title")),O):g({Key:n[0].Id,Value:`${n[0].Designation} (${n[0].Number})`})))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{Ft as a,Nt as b,Jt as c};
