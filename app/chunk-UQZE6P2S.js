import{c as B}from"./chunk-NHXJNYGV.js";import{m as V,n as j,o as z,p as P,q}from"./chunk-7UOQL464.js";import{J as A}from"./chunk-YHCCTOYI.js";import{$b as s,B as C,Bb as R,Gb as S,Hb as m,Jb as U,Nb as u,Qb as F,Rb as E,S as w,Sb as a,Tb as l,U as v,Y as x,Yb as M,_b as N,aa as k,ea as I,fb as T,ib as o,j as h,ja as y,l as _,lc as p,nc as O,v as d,vb as $,wa as D,xa as L}from"./chunk-AWXEENJN.js";var f="default",et=(()=>{class e{constructor(){this.action$=new h,this.loadingCounts$=C(this.action$.pipe(x((t,{action:n,context:i})=>{switch(n){case"increment":return t[i]=(t[i]||0)+1,t;case"decrement":return t[i]=Math.max(0,(t[i]||0)-1),t;default:return t}},{}),k({})),{connector:()=>new _(1)}),this.loading$=this.loading(),this.loadingCountsSub=this.loadingCounts$.connect()}ngOnDestroy(){this.loadingCountsSub.unsubscribe()}loading(t=f){return this.loadingCounts$.pipe(d(n=>n[t]),d(Z),w())}load(t,n=f){let i=typeof n=="string"?n:n.context||f,c=typeof n=="object"&&n.stopOnFirstValue||!1,b=this.decrementLoadingCount(i),g=!0;function W(){g&&(b(),g=!1)}return t.pipe(B(this.incrementLoadingCount(i)),c?I(W):v(b))}incrementLoadingCount(t){return()=>this.action$.next({action:"increment",context:t})}decrementLoadingCount(t){return()=>this.action$.next({action:"decrement",context:t})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Z(e){return(e||0)!==0}var G=(e,r)=>r.id;function H(e,r){if(e&1&&(a(0,"a",2)(1,"i",3),p(2,"description"),l()()),e&2){let t=s();U("disabled",t.disableIfUnavailable&&t.reports.length===0),m("href",t.reports.length>0&&t.reports[0].url,T)}}function J(e,r){if(e&1){let t=M();a(0,"button",7),N("click",function(){let i=D(t).$implicit,c=s(2);return L(c.openReport(i))}),p(1),l()}if(e&2){let t=r.$implicit;o(),O(" ",t.title," ")}}function K(e,r){if(e&1&&(a(0,"div",1)(1,"a",4)(2,"i",3),p(3,"description"),l()(),a(4,"div",5),F(5,J,2,1,"button",6,G),l()()),e&2){let t=s();o(),m("id",t.dropdownId),o(3),S("aria-labelledby",t.dropdownId),o(),E(t.reports)}}var rt=(()=>{class e{constructor(){this.reports=[],this.disableIfUnavailable=!1,this.dropdownId=A("reports-link-dropdown")}openReport(t){window.open(t.url,"_blank")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=$({type:e,selectors:[["bkd-reports-link"]],inputs:{reports:"reports",disableIfUnavailable:"disableIfUnavailable"},decls:2,vars:2,consts:[["target","_blank",1,"btn","btn-primary","btn-icon",3,"href","disabled"],["ngbDropdown","",1,"d-inline-block"],["target","_blank",1,"btn","btn-primary","btn-icon",3,"href"],[1,"material-icons"],["ngbDropdownToggle","",1,"btn","btn-primary","btn-icon","d-flex","align-items-center",3,"id"],["ngbDropdownMenu",""],["ngbDropdownItem",""],["ngbDropdownItem","",3,"click"]],template:function(n,i){n&1&&R(0,H,3,3,"a",0)(1,K,7,2,"div",1),n&2&&(u(i.reports.length===1||i.reports.length===0&&i.disableIfUnavailable?0:-1),o(),u(i.reports.length>1?1:-1))},dependencies:[q,P,z,j,V],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}}return e})();export{et as a,rt as b};
