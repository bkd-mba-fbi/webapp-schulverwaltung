import{b as qe}from"./chunk-IMP5HGLH.js";import{a as Ue}from"./chunk-QENSBOG3.js";import{e as Ve,f as He,p as S}from"./chunk-Z5YYJRVI.js";import{a as Ge}from"./chunk-YHCR7GAG.js";import{a as Be,i as Ke}from"./chunk-SOGFQEFY.js";import{a as Ee}from"./chunk-RRRRFXAU.js";import{b as Ne,d as je,g as ee}from"./chunk-DQAQYQ7K.js";import{F as Me,I as G,f as V,t as H,z as v}from"./chunk-4BL3T57C.js";import{$b as u,Aa as me,B as ae,Bb as b,Dc as l,Dd as Fe,Ec as d,Fc as O,H as ce,Hb as A,Jb as ge,Ma as ue,Md as we,Nb as x,Q as R,Qb as be,Rb as xe,S as L,Sb as c,Tb as p,Ub as X,Y as le,Yb as U,_ as h,_b as E,aa as P,ac as _e,ba as J,bc as Ce,ca as pe,cc as Te,dc as ve,fb as fe,fd as Ae,gd as $e,hb as s,ic as Se,j as ie,ja as g,jc as Ie,k as oe,kc as Pe,l as $,lc as m,mc as M,nc as C,oc as Y,pa as f,q as re,qb as he,ub as j,uc as De,ue as Oe,v as r,va as de,vc as ke,ve as q,w as se,wa as F,wc as Le,xa as w,xb as ye,xd as Re,yd as Z,zd as T}from"./chunk-6Q2MWA3P.js";var We=function(e){return function(i){return!e(i)}};var Ot=(()=>{class e{constructor(){this.http=f(V),this.settings=f(v)}editLessonPresences(t,n,o,a,_){let k={LessonIds:t,PersonIds:n};return o!==void 0&&(k.PresenceTypeId=o),a!==void 0&&(k.ConfirmationValue=a),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,k,_).pipe(r(()=>{}))}removeLessonPresences(t,n,o){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:t,PersonIds:n,WithComment:!0},o).pipe(r(()=>{}))}confirmLessonPresences(t,n,o,a){let _={LessonIds:t,PersonIds:n,AbsenceTypeId:o,ConfirmationValue:a};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,_).pipe(r(()=>{}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qe(e){return e.slice().sort((i,t)=>i.Sort-t.Sort)}function Nt(e){return e.map(i=>({Key:i.Id,Value:i.Designation||""}))}function jt(e,i){return e.map(t=>Object.assign(t,{Group:i}))}var ze=Fe({Id:Z,Active:T,Designation:we(Re),IsAbsence:T,IsComment:T,IsDispensation:T,IsIncident:T,IsHalfDay:T,NeedsConfirmation:T,Sort:Z});var Je=(()=>{class e extends Be{constructor(){let t=f(V),n=f(v);super(t,n,ze,"PresenceTypes")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Xe=(()=>{class e{constructor(){this.restService=f(Je),this.settings=f(v),this.presenceTypes$=this.loadPresenceTypes().pipe(h(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(r(this.filterActiveTypes.bind(this)),h(1)),this.confirmationTypes$=this.presenceTypes$.pipe(r(this.filterConfirmationTypes.bind(this)),h(1)),this.incidentTypes$=this.presenceTypes$.pipe(r(this.filterIncidentTypes.bind(this)),h(1)),this.displayedTypes$=this.presenceTypes$.pipe(r(this.filterDisplayedTypes.bind(this)),h(1)),this.halfDayActive$=this.presenceTypes$.pipe(r(this.isHalfDayActive.bind(this)),P(!1),L(),h(1))}getPresenceType(t){return this.presenceTypes$.pipe(r(n=>{let o=n.find(a=>a.Id===t);if(!o)throw new Error("presence type not found");return o}))}loadPresenceTypes(){return this.restService.getList().pipe(r(Qe))}filterActiveTypes(t){return t.filter(n=>n.Active)}filterConfirmationTypes(t){return t.filter(n=>n.NeedsConfirmation&&n.Active&&n.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(t){return t.filter(n=>n.IsIncident&&n.Active)}filterDisplayedTypes(t){return t.filter(n=>n.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(t){return!!t.find(n=>n.Id===this.settings.halfDayPresenceTypeId)?.Active}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ot(e){return!e}function rt(e){return!!(e&&e.IsComment)}function st(e){return!!(e&&e.IsIncident)}function K(e){return!!(e&&(e.IsAbsence||e.IsDispensation||e.IsHalfDay))}function te(e,i){return!!(e&&i&&e.Id===i.absencePresenceTypeId)}function ne(e,i){return!!(e&&i&&i===e.checkableAbsenceStateId)}function Ye(e,i,t){return!!(ot(i)&&e.ConfirmationStateId===null||rt(i)||st(i)||K(i)&&e.ConfirmationStateId===t.unconfirmedAbsenceStateId||ne(t,e.ConfirmationStateId))}function sn(e,i){return e?.IsAbsence?i.unconfirmedAbsenceStateId:null}var y=function(e){return e.Present="present",e.Unapproved="unapproved",e.Absent="absent",e}(y||{});function at(e){switch(e){case y.Absent:return"cancel";case y.Unapproved:return"help";default:return"check_circle"}}var W=class{constructor(i,t,n,o){this.lessonPresence=i,this.presenceType=t,this.precedingAbsences=n,this.confirmationState=o,this.studentFullName=i.StudentFullName}get id(){return`${this.lessonPresence.LessonRef.Id}-${this.lessonPresence.StudentRef.Id}`}get presenceCategory(){return ne(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?y.Unapproved:K(this.presenceType)?y.Absent:y.Present}get nextPresenceCategory(){return this.presenceCategory===y.Absent?y.Present:y.Absent}getNextPresenceType(i){switch(this.nextPresenceCategory){case y.Absent:return this.presenceCategory===y.Unapproved?this.presenceType:i.find(t=>te(t,this.settings))||null;default:return null}}get canChangePresenceType(){return Ye(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!K(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===y.Absent&&!te(this.presenceType,this.settings)||this.presenceCategory===y.Unapproved}get presenceCategoryIcon(){return at(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function dn(e,i,t){return Ue(e,-i,t)}var D=class{constructor(i){if(this.absences=i,i.length===0)throw new Error("Absences array is empty");this.date=Ve(this.absences[0].LessonDateTimeFrom),this.dateString=S(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}get id(){return`${this.dateString}-${this.studentId}`}};function gn(e,i){return e===null&&i===null||e!==null&&i!==null&&e.LessonRef.Id===i.LessonRef.Id&&e.EventDesignation===i.EventDesignation&&e.StudyClassNumber===i.StudyClassNumber&&e.TeacherInformation===i.TeacherInformation&&e.LessonDateTimeFrom.getTime()===i.LessonDateTimeFrom.getTime()&&e.LessonDateTimeTo.getTime()===i.LessonDateTimeTo.getTime()}function ct(e,i){return e?i.filter(t=>e.lessons.map(n=>n.LessonRef.Id).indexOf(t.LessonRef.Id)>=0).sort(dt):[]}function lt(e,i,t){return G(e.filter(n=>n.StudentRef.Id===i.StudentRef.Id&&n.LessonRef.From&&n.LessonRef.From.toDateString()===t?.LessonDateTimeFrom.toDateString()&&n.LessonRef.From<t?.LessonDateTimeFrom),"Id").sort(mt)}function bn(e,i,t,n,o){return ct(e,i).map(a=>pt(e,a,t,n,o))}function pt(e,i,t,n,o){let a=null;i.TypeRef.Id&&(a=t.find(z=>z.Id===i.TypeRef.Id)||null);let _=lt(o,i,e),k;return i.ConfirmationStateId&&(k=n.find(z=>z.Key===i.ConfirmationStateId)),new W(i,a,_,k)}function Ze(e,i){let t=e.LessonDateTimeFrom.getTime(),n=i.LessonDateTimeFrom.getTime();return t-n===0?e.LessonDateTimeTo.getTime()-i.LessonDateTimeTo.getTime():t-n}function dt(e,i){return e.StudentFullName.localeCompare(i.StudentFullName)}function mt(e,i){return e.LessonRef.From&&e.LessonRef.To&&i.LessonRef.From&&i.LessonRef.To?e.LessonRef.From.getTime()-i.LessonRef.From.getTime()===0?e.LessonRef.To.getTime()-i.LessonRef.To.getTime():e.LessonRef.From.getTime()-i.LessonRef.From.getTime():0}function In(e){let i=ft(e);return Object.keys(i).reduce((t,n)=>(Object.keys(i[n]).forEach(o=>{t=[...t,new D(i[n][o].sort(Ze))]}),t),[])}function Pn(e,i){return i?[...e].sort(ut(i)):e}function Q(e){return e.reduce((i,t)=>i.concat(t.absences),[])}function Dn(e,i){return e.filter(t=>!i.some(({lessonIds:n,personId:o})=>n.includes(t.LessonRef.Id)&&o===t.StudentRef.Id))}function kn(e,i){return G([...e,...i],"Id")}function ut(e){return(i,t)=>{switch(e.primarySortKey){case"date":{let n=i.date.getTime(),o=t.date.getTime();return n===o?i.studentFullName.localeCompare(t.studentFullName):e.ascending?n-o:o-n}case"name":{let n=e.ascending?i.studentFullName.localeCompare(t.studentFullName):t.studentFullName.localeCompare(i.studentFullName);return n===0?t.date.getTime()-i.date.getTime():n}default:throw new Ge(e.primarySortKey,"Unhandled sort criteria")}}}function ft(e){return e.reduce((i,t)=>{let n=S(t.LessonDateTimeFrom,"yyyy-MM-dd"),o=t.StudentRef.Id;return i[n]||(i[n]={}),i[n][o]||(i[n][o]=[]),i[n][o].push(t),i},{})}var B=function(e){return e.ToggleSelection="TOGGLE",e.ClearSelection="CLEAR",e}(B||{}),et=(()=>{class e{constructor(){this.action$=new ie,this.selection$=ae(this.action$.pipe(le(this.reduceSelection.bind(this),[]),P([])),{connector:()=>new $(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(t){this.action$.next({type:B.ToggleSelection,payload:t})}clear(t=null){this.action$.next({type:B.ClearSelection,payload:t})}isSelected$(t){return this.selection$.pipe(r(n=>n.includes(t)),L())}reduceSelection(t,n){switch(n.type){case B.ToggleSelection:return t.includes(n.payload)?t.filter(o=>o!==n.payload):[...t,n.payload];case B.ClearSelection:return n.payload||[];default:return t}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function wn(e){let i=e.reduce((t,n)=>(t[n.StudentRef.Id]||(t[n.StudentRef.Id]=[]),t[n.StudentRef.Id].push(n.LessonRef.Id),t),{});return Object.keys(i).map(t=>({personIds:[Number(t)],lessonIds:i[t]}))}function tt(e){let i={};return e.forEach(t=>{i[t.StudentRef.Id]||(i[t.StudentRef.Id]={}),i[t.StudentRef.Id][String(t.TypeRef.Id)]||(i[t.StudentRef.Id][String(t.TypeRef.Id)]=[]),i[t.StudentRef.Id][String(t.TypeRef.Id)].push(t.LessonRef.Id)}),Object.keys(i).reduce((t,n)=>[...t,...Object.keys(i[n]).map(o=>({personId:Number(n),presenceTypeId:o==="null"?null:Number(o),lessonIds:i[n][String(o)]}))],[])}function En(e){return e.slice().sort((i,t)=>i.LessonDateTimeFrom.getTime()-t.LessonDateTimeFrom.getTime())}function Mn(e){return`${e.EventDesignation}, ${S(e.LessonDateTimeFrom,"dd.MM.yyyy")}, ${S(e.LessonDateTimeFrom,"HH:mm")}-${S(e.LessonDateTimeTo,"HH:mm")}`}var Qn=(()=>{class e extends et{constructor(){super(...arguments),this.settings=f(v),this.selectedIds$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>tt([...Q(t),...n])),h(1)),this.selectedLessons$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>[...Q(t),...n]),h(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>[...Q(t),...n].filter(o=>o.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe(R(1),r(N)).subscribe(({openAbsencesEntries:t})=>this.clear(t))}clearNonLessonPresences(){this.selection$.pipe(R(1),r(N)).subscribe(({lessonPresences:t})=>this.clear(t))}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=me(e)))(o||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function N(e){return{openAbsencesEntries:e.filter(ee(D)),lessonPresences:e.filter(We(ee(D)))}}function Jn(e){return i=>e(...i)}var nt=(()=>{class e{constructor(){this.translate=f(Oe)}transform(t){if(!t)return"";let n=He(t,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(n)}`,{count:Math.abs(n)})}getKey(t){return t===0?"today":t===1?"tomorrow":t===-1?"yesterday":t>0?"in":"ago"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=ye({name:"bkdDaysDifference",type:e,pure:!0})}}return e})();function ii(e){return e.length===0}function it(e){return Array.isArray(e)}var ht=["checkbox"],yt=(e,i)=>i.Id;function gt(e,i){e&1&&X(0,"bkd-spinner",2)}function bt(e,i){if(e&1&&X(0,"bkd-reports-link",13),e&2){let t=u(4);A("reports",t.reports)("disableIfUnavailable",!0)}}function xt(e,i){if(e&1&&(c(0,"a",14),l(1,"async"),c(2,"i",12),m(3,"mail"),p()()),e&2){let t=u(4);ve("href","mailto:",d(1,2,t.mailTo$),"",fe)}}function _t(e,i){if(e&1&&(c(0,"div",15),m(1),p()),e&2){let t=u(4);s(),C(" ",t.defaultAbsenceSelectionMessage," ")}}function Ct(e,i){if(e&1){let t=U();c(0,"div",6),E("click",function(o){F(t);let a=Pe(3),_=u(3);return w(_.onRowClick(o,a))}),c(1,"div",7)(2,"input",8,0),l(4,"async"),E("change",function(o){F(t);let a=u(3);return w(a.toggleAll(o.target==null?null:o.target.checked))}),p()(),c(5,"div",9),m(6),l(7,"translate"),p(),c(8,"div",10)(9,"a",11),l(10,"async"),c(11,"i",12),m(12,"edit"),p()(),b(13,bt,1,2,"bkd-reports-link",13)(14,xt,4,4,"a",14),p(),b(15,_t,2,1,"div",15),l(16,"async"),p()}if(e&2){let t,n,o=u(3);s(2),A("checked",d(4,8,o.allSelected$)),s(4),M(d(7,10,"open-absences.detail.all")),s(3),ge("disabled",((t=d(10,12,o.selectionService==null?null:o.selectionService.selection$))==null?null:t.length)===0),Te("routerLink",o.confirmLink),s(4),x(o.reports?13:-1),s(),x(o.displayEmail?14:-1),s(),x(o.defaultAbsenceSelectionMessage&&((n=d(16,14,o.selectionService==null?null:o.selectionService.selectedWithoutPresenceType$))!=null&&n.length)?15:-1)}}function Tt(e,i){if(e&1){let t=U();c(0,"div",7)(1,"input",8,1),l(3,"async"),E("change",function(){F(t);let o=u().$implicit,a=u(3);return w(a.selectionService==null?null:a.selectionService.toggle(o))}),p()()}if(e&2){let t=u().$implicit,n=u(3);s(),A("checked",d(3,1,n.selectionService==null?null:n.selectionService.isSelected$(t)))}}function vt(e,i){if(e&1&&m(0),e&2){let t=u().$implicit;C(" , ",t.StudyClassNumber," ")}}function St(e,i){if(e&1&&(c(0,"div",20),m(1),p()),e&2){u();let t=Le(12);s(),C(" ",t," ")}}function It(e,i){e&1&&(c(0,"div",21),m(1),l(2,"translate"),p()),e&2&&(s(),C(" ",d(2,1,"my-absences.show.confirm-presence-type")," "))}function Pt(e,i){if(e&1){let t=U();c(0,"div",16),E("click",function(o){let a=F(t).$index,_=u(3);return w(_.onRowClick(o,a))}),b(1,Tt,4,3,"div",7),l(2,"async"),c(3,"div",17),m(4),b(5,vt,1,1),p(),c(6,"div",18),m(7),l(8,"date"),l(9,"date"),p(),c(10,"div",19),m(11),p(),De(12),l(13,"async"),b(14,St,2,1,"div",20)(15,It,3,3,"div",21),c(16,"div",22),m(17),l(18,"date"),p(),c(19,"div",23),m(20),l(21,"bkdDaysDifference"),p(),c(22,"div",24),m(23),l(24,"date"),l(25,"bkdDaysDifference"),p()()}if(e&2){let t=i.$implicit,n=u(3);s(),x(d(2,12,n.editable$)?1:-1),s(3),C(" ",t.EventDesignation," "),s(),x(t.StudyClassNumber?5:-1),s(2),Y(" ",O(8,14,t.LessonDateTimeFrom,"HH:mm"),"\u2013",O(9,17,t.LessonDateTimeTo,"HH:mm")," "),s(4),C(" ",t.TeacherInformation," "),s();let o=ke(d(13,20,n.getPresenceTypeDesignation(t)));s(2),x(o?14:-1),s(),x(n.displayPresenceType&&!o&&n.defaultAbsenceSelectionMessage?15:-1),s(2),C(" ",O(18,23,t.LessonDateTimeFrom,"dd.MM.yyyy")," "),s(3),C(" ",d(21,26,t.LessonDateTimeFrom)," "),s(3),Y(" ",O(24,28,t.LessonDateTimeFrom,"dd.MM.yyyy"),", ",d(25,31,t.LessonDateTimeFrom)," ")}}function Dt(e,i){if(e&1&&(b(0,Ct,17,16,"div",4),l(1,"async"),be(2,Pt,26,33,"div",5,yt),l(4,"async")),e&2){let t=u(2);x(d(1,1,t.editable$)?0:-1),s(2),xe(d(4,3,t.lessonPresences$))}}function kt(e,i){e&1&&(c(0,"p",3),m(1),l(2,"translate"),p()),e&2&&(s(),M(d(2,1,"shared.profile.no-absences")))}function Lt(e,i){if(e&1&&(b(0,Dt,5,5),l(1,"async"),b(2,kt,3,3,"p",3)),e&2){let t,n=u();x(((t=(t=d(1,1,n.lessonPresences$))==null?null:t.length)!==null&&t!==void 0?t:0)>0?0:2)}}var _i=(()=>{class e{constructor(){this.presenceTypesService=f(Xe),this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.checkboxes=he("checkbox"),this.lessonPresences$$=new $(1),this.lessonPresences$=this.lessonPresences$$.pipe(pe(),P(null),h(1)),this.loading$=this.lessonPresences$.pipe(r(je(it))),this.selectionService$=new $(1),this.editable$=this.selectionService$.pipe(r(()=>!0),P(!1)),this.displayPresenceType$=new oe(!0),this.allSelected$=se([this.lessonPresences$.pipe(ce(Ne)),this.selectionService$.pipe(J(t=>t.selection$))]).pipe(r(([t,n])=>t.length===n.length))}ngOnChanges(t){t.absences$&&this.lessonPresences$$.next(t.absences$.currentValue),t.selectionService&&t.selectionService.currentValue&&(t.selectionService.currentValue.clear(),this.selectionService$.next(t.selectionService.currentValue)),t.displayPresenceType&&this.displayPresenceType$.next(t.displayPresenceType.currentValue)}toggleAll(t){t?this.lessonPresences$.pipe(R(1)).subscribe(n=>this.selectionService?.clear(n)):this.selectionService?.clear()}onRowClick(t,n){let o=this.checkboxes();if(o.length===0)return;let a;typeof n=="number"?a=o[n].nativeElement:a=n,t.target!==a&&!t.target.closest(".buttons")&&a.click()}getPresenceTypeDesignation(t){return this.displayPresenceType$.pipe(J(n=>n?this.presenceTypesService.displayedTypes$:re([])),r(n=>t.TypeRef.Id&&n.find(o=>o.Id===t.TypeRef.Id)?.Designation||null))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(n,o){n&1&&Se(o.checkboxes,ht,5),n&2&&Ie()},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},features:[de],decls:3,vars:3,consts:[["allCheckbox",""],["checkbox",""],[1,"inline","d-block","mb-3"],[1,"mx-3"],[1,"absence-all"],[1,"absence-entry"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],[1,"lesson-class"],[1,"time","pe-2"],[1,"teacher"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"]],template:function(n,o){n&1&&(b(0,gt,1,0,"bkd-spinner",2),l(1,"async"),b(2,Lt,3,3)),n&2&&x(d(1,1,o.loading$)?0:2)},dependencies:[H,qe,Ke,Ae,$e,q,nt],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width: 750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}}return e})();var At=["*"],Si=(()=>{class e{constructor(){this.link=[]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},ngContentSelectors:At,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(n,o){n&1&&(_e(),c(0,"div",0)(1,"a",1)(2,"span",2),m(3,"arrow_back"),p(),c(4,"span",3),m(5),l(6,"translate"),p()(),Ce(7),p()),n&2&&(s(),A("routerLink",o.link)("queryParams",o.params),s(4),M(d(6,3,"global.back")))},dependencies:[H,q],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]})}}return e})();var $i=(()=>{class e{constructor(){this.sortCriteria=ue(null),this.sortCriteria$=Ee(this.sortCriteria).pipe(L(Me),h(1))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{We as a,Ot as b,Qe as c,Nt as d,jt as e,Xe as f,dn as g,rt as h,st as i,K as j,Ye as k,sn as l,y as m,at as n,W as o,gn as p,bn as q,pt as r,Ze as s,In as t,Pn as u,Dn as v,kn as w,et as x,wn as y,En as z,Mn as A,Qn as B,Jn as C,nt as D,ii as E,_i as F,Si as G,$i as H};
