import{e as B}from"./chunk-33NXTXD7.js";import{k as V,l as j,m as z,n as P,o as q}from"./chunk-FTRAQKUW.js";import{$ as D,$a as c,Cd as A,G as I,Ga as f,Ha as L,I as C,Ia as l,J as v,Ja as N,N as y,R as x,Sa as s,Sb as E,Ta as p,Tb as M,W as k,Ya as O,_a as S,e as h,g as w,ha as F,ia as T,jb as d,lb as U,m,q as _,ta as $,tb as R,ua as a}from"./chunk-T7QWSMKM.js";function G(e,n){if(e&1&&(s(0,"a",2)(1,"i",3),d(2,"description"),p()()),e&2){let r=c();N("disabled",r.disableIfUnavailable&&r.reports.length===0),l("href",r.reports.length>0&&r.reports[0].url,$)}}function H(e,n){if(e&1){let r=O();s(0,"button",8),S("click",function(){let i=F(r).$implicit,o=c(2);return T(o.openReport(i))}),d(1),p()}if(e&2){let r=n.$implicit;a(),U(" ",r.title," ")}}function J(e,n){if(e&1&&(s(0,"div",4)(1,"a",5)(2,"i",3),d(3,"description"),p()(),s(4,"div",6),f(5,H,2,1,"button",7),p()()),e&2){let r=c();a(),l("id",r.dropdownId),a(3),L("aria-labelledby",r.dropdownId),a(),l("ngForOf",r.reports)}}var et=(()=>{let n=class n{constructor(){this.reports=[],this.disableIfUnavailable=!1,this.dropdownId=A("reports-link-dropdown")}openReport(t){window.open(t.url,"_blank")}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=D({type:n,selectors:[["bkd-reports-link"]],inputs:{reports:"reports",disableIfUnavailable:"disableIfUnavailable"},standalone:!0,features:[R],decls:2,vars:2,consts:[["class","btn btn-primary btn-icon","target","_blank",3,"href","disabled",4,"ngIf"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],["target","_blank",1,"btn","btn-primary","btn-icon",3,"href"],[1,"material-icons"],["ngbDropdown","",1,"d-inline-block"],["ngbDropdownToggle","",1,"btn","btn-primary","btn-icon","d-flex","align-items-center",3,"id"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click"]],template:function(i,o){i&1&&f(0,G,3,3,"a",0)(1,J,6,3,"div",1),i&2&&(l("ngIf",o.reports.length===1||o.reports.length===0&&o.disableIfUnavailable),a(),l("ngIf",o.reports.length>1))},dependencies:[M,q,P,z,E,j,V],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]});let e=n;return e})();var u="default",at=(()=>{let n=class n{constructor(){this.action$=new h,this.loadingCounts$=_(this.action$.pipe(v((t,{action:i,context:o})=>{switch(i){case"increment":return t[o]=(t[o]||0)+1,t;case"decrement":return t[o]=Math.max(0,(t[o]||0)-1),t;default:return t}},{}),y({})),{connector:()=>new w(1)}),this.loading$=this.loading(),this.loadingCountsSub=this.loadingCounts$.connect()}ngOnDestroy(){this.loadingCountsSub.unsubscribe()}loading(t=u){return this.loadingCounts$.pipe(m(i=>i[t]),m(K),I())}load(t,i=u){let o=typeof i=="string"?i:i.context||u,W=typeof i=="object"&&i.stopOnFirstValue||!1,b=this.decrementLoadingCount(o),g=!0;function X(){g&&(b(),g=!1)}return t.pipe(B(this.incrementLoadingCount(o)),W?x(X):C(b))}incrementLoadingCount(t){return()=>this.action$.next({action:"increment",context:t})}decrementLoadingCount(t){return()=>this.action$.next({action:"decrement",context:t})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function K(e){return(e||0)!==0}export{et as a,at as b};
