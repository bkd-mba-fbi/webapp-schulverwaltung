"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[104],{6649:(X,D,n)=>{n.d(D,{O:()=>pt,f:()=>Fr});var P=n(1135),b=n(7579),E=n(6451),T=n(9841),d=n(4004),A=n(9300),I=n(1884),C=n(4782),v=n(9718),j=n(5026),h=n(8372),p=n(4351),x=n(4813),L=n(2722),F=n(5698),Z=n(1854),B=n(5343);var W=n(3858);const c=function(){try{var t=(0,W.Z)(Object,"defineProperty");return t({},"",{}),t}catch{}}(),H=function y(t,r,e){"__proto__"==r&&c?c(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var Ot=n(3093),bt=Object.prototype.hasOwnProperty;const J=function At(t,r,e){var o=t[r];(!bt.call(t,r)||!(0,Ot.Z)(o,e)||void 0===e&&!(r in t))&&H(t,r,e)},m=function Ct(t,r,e,o){var O=!e;e||(e={});for(var g=-1,l=r.length;++g<l;){var a=r[g],f=o?o(e[a],t[a],a,e,t):void 0;void 0===f&&(f=t[a]),O?H(e,a,f):J(e,a,f)}return e};var Q=n(4157);var Mt=n(3487),N=n(1999),z=n(1986);var mt=Object.prototype.hasOwnProperty;const Ut=function Rt(t){if(!(0,N.Z)(t))return function Dt(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,z.Z)(t),e=[];for(var o in t)"constructor"==o&&(r||!mt.call(t,o))||e.push(o);return e};var Lt=n(8706);const G=function Ft(t){return(0,Lt.Z)(t)?(0,Mt.Z)(t,!0):Ut(t)};var Kt=n(5946),w="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=w&&"object"==typeof module&&module&&!module.nodeType&&module,q=_&&_.exports===w?Kt.Z.Buffer:void 0,k=q?q.allocUnsafe:void 0;var tt=n(3976);var Jt=n(6623);const nt=(0,n(5820).Z)(Object.getPrototypeOf,Object);var wt=n(3419);const rt=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Jt.Z)(r,(0,tt.Z)(t)),t=nt(t);return r}:wt.Z;var nn=n(8501),rn=n(8203);const on=function en(t){return(0,rn.Z)(t,G,rt)};var V=n(7183),an=Object.prototype.hasOwnProperty;var et=n(1630);const Y=function hn(t){var r=new t.constructor(t.byteLength);return new et.Z(r).set(new et.Z(t)),r};var fn=/\w*$/;var ot=n(8492),st=ot.Z?ot.Z.prototype:void 0,it=st?st.valueOf:void 0;const Wn=function Kn(t,r,e){var o=t.constructor;switch(r){case"[object ArrayBuffer]":return Y(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function un(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Pn(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function vn(t){var r=new t.constructor(t.source,fn.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function pn(t){return it?Object(it.call(t)):{}}(t)}};var at=Object.create;const Gn=function(){function t(){}return function(r){if(!(0,N.Z)(r))return{};if(at)return at(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Xn=n(4177),Hn=n(5202),lt=n(214);var ct=n(6932),R=n(6594),ht=R.Z&&R.Z.isMap;const _n=ht?(0,ct.Z)(ht):function Qn(t){return(0,lt.Z)(t)&&"[object Map]"==(0,V.Z)(t)};var ut=R.Z&&R.Z.isSet;const rr=ut?(0,ct.Z)(ut):function kn(t){return(0,lt.Z)(t)&&"[object Set]"==(0,V.Z)(t)};var gt="[object Arguments]",ft="[object Function]",vt="[object Object]",s={};s[gt]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object DataView]"]=s["[object Boolean]"]=s["[object Date]"]=s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Map]"]=s["[object Number]"]=s[vt]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object Symbol]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Error]"]=s[ft]=s["[object WeakMap]"]=!1;const Dr=function U(t,r,e,o,O,g){var l,a=1&r,f=2&r,Zr=4&r;if(e&&(l=O?e(t,o,O,g):e(t)),void 0!==l)return l;if(!(0,N.Z)(t))return t;var yt=(0,Xn.Z)(t);if(yt){if(l=function ln(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&an.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Vt(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}(t,l)}else{var M=(0,V.Z)(t),Pt=M==ft||"[object GeneratorFunction]"==M;if((0,Hn.Z)(t))return function Nt(t,r){if(r)return t.slice();var e=t.length,o=k?k(e):new t.constructor(e);return t.copy(o),o}(t,a);if(M==vt||M==gt||Pt&&!O){if(l=f||Pt?{}:function Vn(t){return"function"!=typeof t.constructor||(0,z.Z)(t)?{}:Gn(nt(t))}(t),!a)return f?function kt(t,r){return m(t,rt(t),r)}(t,function Zt(t,r){return t&&m(r,G(r),t)}(l,t)):function Xt(t,r){return m(t,(0,tt.Z)(t),r)}(t,function $t(t,r){return t&&m(r,(0,Q.Z)(r),t)}(l,t))}else{if(!s[M])return O?t:{};l=Wn(t,M,a)}}g||(g=new B.Z);var Et=g.get(t);if(Et)return Et;g.set(t,l),rr(t)?t.forEach(function(S){l.add(U(S,r,e,S,t,g))}):_n(t)&&t.forEach(function(S,$){l.set($,U(S,r,e,$,t,g))});var Tt=yt?void 0:(Zr?f?on:nn.Z:f?G:Q.Z)(t);return function K(t,r){for(var e=-1,o=null==t?0:t.length;++e<o&&!1!==r(t[e],e,t););}(Tt||t,function(S,$){Tt&&(S=t[$=S]),J(l,$,U(S,r,e,$,t,g))}),l};var Ur=n(6478),Lr=n(7832),dt=n(4650);n(8029);const pt="page";let Fr=(()=>{class t{constructor(e,o,O,g,l){this.location=e,this.loadingService=o,this.sortService=O,this.settings=g,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(pt),this.sorting$=this.sortService.sorting$,this.filter$=new P.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,d.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,A.h)(this.isValidFilter.bind(this)),(0,I.x)(Z.Z),(0,C.d)(1)),this.resetEntries$=new b.x,this.nextPage$=new b.x,this.page$=(0,E.T)(this.nextPage$.pipe((0,v.h)("next")),(0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,v.h)("reset"))).pipe((0,j.R)((a,f)=>"next"===f?a+1:0,0)),this.offset$=this.page$.pipe((0,d.U)(a=>a*this.settings.paginationLimit)),this.pageResult$=(0,T.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,h.b)(10),(0,p.b)((0,Ur.h)(this.loadEntries.bind(this))),(0,C.d)(1)),this.entries$=(0,E.T)((0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,v.h)({action:"reset"})),this.pageResult$.pipe((0,d.U)(a=>0===a.offset?{action:"reset",entries:a.entries}:{action:"append",entries:a.entries}))).pipe((0,j.R)(this.entriesActionReducer.bind(this),[]),(0,C.d)(1)),this.total$=this.pageResult$.pipe((0,x.j)("total")),this.hasMore$=this.pageResult$.pipe((0,d.U)(({offset:a,total:f})=>a<f-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,d.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,d.U)(Lr.tW)),this.destroy$=new b.x,this.queryParamsString$.pipe((0,L.R)(this.destroy$)).subscribe(a=>this.location.replaceState(l,a))}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function mr(t){return Dr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,F.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}entriesActionReducer(e,o){switch(o.action){case"append":return[...e,...o.entries];case"reset":return o.entries?o.entries:[];default:return e}}}return t.\u0275fac=function(e){dt.$Z()},t.\u0275prov=dt.Yz7({token:t,factory:t.\u0275fac}),t})()},3657:(X,D,n)=>{n.d(D,{X:()=>F});var P=n(6126),b=n(7579),E=n(9646),T=n(9300),d=n(4004),A=n(5698),I=n(5577),C=n(3900),v=n(3843),j=n(4782),h=n(2722),p=n(5684),x=n(4650),L=n(6895);let F=(()=>{class u{constructor(i,c){this.router=i,this.viewportScroller=c,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new b.x,this.scrollPosition$=this.router.events.pipe((0,T.h)(B),(0,d.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,T.h)(Z)),this.navigationEnd$=this.router.events.pipe((0,T.h)(K)),this.route$=this.activationEnd$.pipe((0,A.q)(1)).pipe((0,I.z)(y=>[(0,E.of)(y),this.navigationEnd$.pipe((0,C.w)(()=>this.activationEnd$.pipe((0,A.q)(1))))]),(0,v.B)(),(0,d.U)(y=>y.snapshot),(0,j.d)(1)),this.scrollPosition$.pipe((0,h.R)(this.destroy$)).subscribe(y=>this.currentScrollPosition=y),this.route$.pipe((0,h.R)(this.destroy$)).subscribe(y=>{this.previousRoute=this.currentRoute,this.currentRoute=y})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const c=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[c]||[0,0])}const i=this.currentRoute;this.route$.pipe((0,p.T)(1),(0,A.q)(1),(0,h.R)(this.destroy$),(0,T.h)(c=>this.shouldStoreFor(i,c))).subscribe(()=>{const c=this.getPath(i);this.scrollPositions[c]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(i){this.viewportScroller.scrollToPosition(i)}getPath(i){return i?"/"+i.pathFromRoot.map(c=>c.routeConfig&&c.routeConfig.path).filter(c=>c).join("/"):"/"}requiresStoring(i){return Boolean(i&&i.routeConfig&&i.routeConfig.data&&Array.isArray(i.routeConfig.data.restoreScrollPositionFrom)&&i.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(i,c){return(i&&i.routeConfig&&i.routeConfig.data&&Array.isArray(i.routeConfig.data.restoreScrollPositionFrom)?i.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(c))}}return u.\u0275fac=function(i){return new(i||u)(x.LFG(P.F0),x.LFG(L.EM))},u.\u0275prov=x.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Z(u){return u instanceof P.jw}function B(u){return u instanceof P.OD}function K(u){return u instanceof P.m2}},4379:(X,D,n)=>{n.d(D,{K:()=>C});var P=n(1854),b=n(1135),E=n(1884),T=n(4782),d=n(4004),A=n(5698),I=n(4650);let C=(()=>{class v{constructor(){this.sortingSubject$=new b.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,E.x)(P.Z),(0,T.d)(1))}getSortingChar$(h){return this.sorting$.pipe((0,d.U)(p=>p&&h===p.key?p.ascending?"\u2193":"\u2191":""))}setSorting(h){this.sortingSubject$.next(h)}toggleSorting(h){this.sorting$.pipe((0,A.q)(1)).subscribe(p=>{this.sortingSubject$.next(p&&p.key===h?{key:h,ascending:!p.ascending}:{key:h,ascending:!0})})}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275prov=I.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);