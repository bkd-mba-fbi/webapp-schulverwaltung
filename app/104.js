"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[104],{6649:(X,D,n)=>{n.d(D,{O:()=>dt,f:()=>Fr});var P=n(1135),b=n(7579),E=n(6451),T=n(9841),d=n(4004),A=n(9300),I=n(1884),C=n(4782),v=n(9718),j=n(5026),h=n(8372),p=n(4351),x=n(4813),L=n(2722),F=n(5698),Z=n(5343);var u=n(3858);const s=function(){try{var t=(0,u.Z)(Object,"defineProperty");return t({},"",{}),t}catch(r){}}(),y=function c(t,r,e){"__proto__"==r&&s?s(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var Tt=n(3093),St=Object.prototype.hasOwnProperty;const H=function bt(t,r,e){var o=t[r];(!St.call(t,r)||!(0,Tt.Z)(o,e)||void 0===e&&!(r in t))&&y(t,r,e)},m=function At(t,r,e,o){var O=!e;e||(e={});for(var g=-1,l=r.length;++g<l;){var a=r[g],f=o?o(e[a],t[a],a,e,t):void 0;void 0===f&&(f=t[a]),O?y(e,a,f):H(e,a,f)}return e};var J=n(4157);var jt=n(3487),N=n(1999),Q=n(1986);var xt=Object.prototype.hasOwnProperty;const Rt=function mt(t){if(!(0,N.Z)(t))return function Mt(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,Q.Z)(t),e=[];for(var o in t)"constructor"==o&&(r||!xt.call(t,o))||e.push(o);return e};var Ut=n(8706);const G=function Lt(t){return(0,Ut.Z)(t)?(0,jt.Z)(t,!0):Rt(t)};var Bt=n(5946),z="object"==typeof exports&&exports&&!exports.nodeType&&exports,w=z&&"object"==typeof module&&module&&!module.nodeType&&module,_=w&&w.exports===z?Bt.Z.Buffer:void 0,q=_?_.allocUnsafe:void 0;var k=n(3976);var Ht=n(6623);const tt=(0,n(5820).Z)(Object.getPrototypeOf,Object);var zt=n(3419);const nt=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Ht.Z)(r,(0,k.Z)(t)),t=tt(t);return r}:zt.Z;var tn=n(8501),nn=n(8203);const en=function rn(t){return(0,nn.Z)(t,G,nt)};var V=n(7183),sn=Object.prototype.hasOwnProperty;var rt=n(1630);const Y=function cn(t){var r=new t.constructor(t.byteLength);return new rt.Z(r).set(new rt.Z(t)),r};var gn=/\w*$/;var et=n(8492),ot=et.Z?et.Z.prototype:void 0,st=ot?ot.valueOf:void 0;const Kn=function Bn(t,r,e){var o=t.constructor;switch(r){case"[object ArrayBuffer]":return Y(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function hn(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function yn(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function fn(t){var r=new t.constructor(t.source,gn.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function dn(t){return st?Object(st.call(t)):{}}(t)}};var it=Object.create;const Nn=function(){function t(){}return function(r){if(!(0,N.Z)(r))return{};if(it)return it(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Yn=n(4177),Xn=n(5202),at=n(214);var lt=n(6932),R=n(6594),ct=R.Z&&R.Z.isMap;const wn=ct?(0,lt.Z)(ct):function Jn(t){return(0,at.Z)(t)&&"[object Map]"==(0,V.Z)(t)};var ht=R.Z&&R.Z.isSet;const nr=ht?(0,lt.Z)(ht):function qn(t){return(0,at.Z)(t)&&"[object Set]"==(0,V.Z)(t)};var ut="[object Arguments]",gt="[object Function]",ft="[object Object]",i={};i[ut]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object DataView]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Map]"]=i["[object Number]"]=i[ft]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object Symbol]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Error]"]=i[gt]=i["[object WeakMap]"]=!1;const Mr=function U(t,r,e,o,O,g){var l,a=1&r,f=2&r,Zr=4&r;if(e&&(l=O?e(t,o,O,g):e(t)),void 0!==l)return l;if(!(0,N.Z)(t))return t;var pt=(0,Yn.Z)(t);if(pt){if(l=function an(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&sn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Gt(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}(t,l)}else{var M=(0,V.Z)(t),yt=M==gt||"[object GeneratorFunction]"==M;if((0,Xn.Z)(t))return function Wt(t,r){if(r)return t.slice();var e=t.length,o=q?q(e):new t.constructor(e);return t.copy(o),o}(t,a);if(M==ft||M==ut||yt&&!O){if(l=f||yt?{}:function Gn(t){return"function"!=typeof t.constructor||(0,Q.Z)(t)?{}:Nn(tt(t))}(t),!a)return f?function qt(t,r){return m(t,nt(t),r)}(t,function Ft(t,r){return t&&m(r,G(r),t)}(l,t)):function Yt(t,r){return m(t,(0,k.Z)(t),r)}(t,function Ct(t,r){return t&&m(r,(0,J.Z)(r),t)}(l,t))}else{if(!i[M])return O?t:{};l=Kn(t,M,a)}}g||(g=new Z.Z);var Pt=g.get(t);if(Pt)return Pt;g.set(t,l),nr(t)?t.forEach(function(S){l.add(U(S,r,e,S,t,g))}):wn(t)&&t.forEach(function(S,$){l.set($,U(S,r,e,$,t,g))});var Et=pt?void 0:(Zr?f?en:tn.Z:f?G:J.Z)(t);return function B(t,r){for(var e=-1,o=null==t?0:t.length;++e<o&&!1!==r(t[e],e,t););}(Et||t,function(S,$){Et&&(S=t[$=S]),H(l,$,U(S,r,e,$,t,g))}),l};var Rr=n(1854),Ur=n(6478),Lr=n(7832),vt=n(5e3);n(8029);const dt="page";let Fr=(()=>{class t{constructor(e,o,O,g,l){this.location=e,this.loadingService=o,this.sortService=O,this.settings=g,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(dt),this.sorting$=this.sortService.sorting$,this.filter$=new P.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,d.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,A.h)(this.isValidFilter.bind(this)),(0,I.x)(Rr.Z),(0,C.d)(1)),this.resetEntries$=new b.x,this.nextPage$=new b.x,this.page$=(0,E.T)(this.nextPage$.pipe((0,v.h)("next")),(0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,v.h)("reset"))).pipe((0,j.R)((a,f)=>"next"===f?a+1:0,0)),this.offset$=this.page$.pipe((0,d.U)(a=>a*this.settings.paginationLimit)),this.pageResult$=(0,T.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,h.b)(10),(0,p.b)((0,Ur.h)(this.loadEntries.bind(this))),(0,C.d)(1)),this.entries$=(0,E.T)((0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,v.h)({action:"reset"})),this.pageResult$.pipe((0,d.U)(a=>0===a.offset?{action:"reset",entries:a.entries}:{action:"append",entries:a.entries}))).pipe((0,j.R)(this.entriesActionReducer.bind(this),[]),(0,C.d)(1)),this.total$=this.pageResult$.pipe((0,x.j)("total")),this.hasMore$=this.pageResult$.pipe((0,d.U)(({offset:a,total:f})=>a<f-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,d.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,d.U)(Lr.tW)),this.destroy$=new b.x,this.queryParamsString$.pipe((0,L.R)(this.destroy$)).subscribe(a=>this.location.replaceState(l,a))}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function xr(t){return Mr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,F.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}entriesActionReducer(e,o){switch(o.action){case"append":return[...e,...o.entries];case"reset":return o.entries?o.entries:[];default:return e}}}return t.\u0275fac=function(e){vt.$Z()},t.\u0275prov=vt.Yz7({token:t,factory:t.\u0275fac}),t})()},3657:(X,D,n)=>{n.d(D,{X:()=>F});var P=n(5357),b=n(7579),E=n(9646),T=n(9300),d=n(4004),A=n(5698),I=n(5577),C=n(3900),v=n(3843),j=n(4782),h=n(2722),p=n(5684),x=n(5e3),L=n(9808);let F=(()=>{class u{constructor(s,c){this.router=s,this.viewportScroller=c,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new b.x,this.scrollPosition$=this.router.events.pipe((0,T.h)(B),(0,d.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,T.h)(Z)),this.navigationEnd$=this.router.events.pipe((0,T.h)(K)),this.route$=this.activationEnd$.pipe((0,A.q)(1)).pipe((0,I.z)(y=>[(0,E.of)(y),this.navigationEnd$.pipe((0,C.w)(()=>this.activationEnd$.pipe((0,A.q)(1))))]),(0,v.B)(),(0,d.U)(y=>y.snapshot),(0,j.d)(1)),this.scrollPosition$.pipe((0,h.R)(this.destroy$)).subscribe(y=>this.currentScrollPosition=y),this.route$.pipe((0,h.R)(this.destroy$)).subscribe(y=>{this.previousRoute=this.currentRoute,this.currentRoute=y})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const c=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[c]||[0,0])}const s=this.currentRoute;this.route$.pipe((0,p.T)(1),(0,A.q)(1),(0,h.R)(this.destroy$),(0,T.h)(c=>this.shouldStoreFor(s,c))).subscribe(()=>{const c=this.getPath(s);this.scrollPositions[c]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(s){this.viewportScroller.scrollToPosition(s)}getPath(s){return s?"/"+s.pathFromRoot.map(c=>c.routeConfig&&c.routeConfig.path).filter(c=>c).join("/"):"/"}requiresStoring(s){return Boolean(s&&s.routeConfig&&s.routeConfig.data&&Array.isArray(s.routeConfig.data.restoreScrollPositionFrom)&&s.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(s,c){return(s&&s.routeConfig&&s.routeConfig.data&&Array.isArray(s.routeConfig.data.restoreScrollPositionFrom)?s.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(c))}}return u.\u0275fac=function(s){return new(s||u)(x.LFG(P.F0),x.LFG(L.EM))},u.\u0275prov=x.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Z(u){return u instanceof P.jw}function B(u){return u instanceof P.OD}function K(u){return u instanceof P.m2}},4379:(X,D,n)=>{n.d(D,{K:()=>C});var P=n(1854),b=n(1135),E=n(1884),T=n(4782),d=n(4004),A=n(5698),I=n(5e3);let C=(()=>{class v{constructor(){this.sortingSubject$=new b.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,E.x)(P.Z),(0,T.d)(1))}getSortingChar$(h){return this.sorting$.pipe((0,d.U)(p=>p&&h===p.key?p.ascending?"\u2193":"\u2191":""))}setSorting(h){this.sortingSubject$.next(h)}toggleSorting(h){this.sorting$.pipe((0,A.q)(1)).subscribe(p=>{this.sortingSubject$.next(p&&p.key===h?{key:h,ascending:!p.ascending}:{key:h,ascending:!0})})}}return v.\u0275fac=function(h){return new(h||v)},v.\u0275prov=I.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);