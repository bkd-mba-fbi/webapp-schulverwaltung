"use strict";(self.webpackChunkwebapp_schulverwaltung=self.webpackChunkwebapp_schulverwaltung||[]).push([[104],{6649:(X,I,n)=>{n.d(I,{O:()=>dt,f:()=>Rr});var P=n(1135),b=n(7579),E=n(6451),S=n(9841),h=n(4004),A=n(9300),D=n(1884),C=n(4782),d=n(5026),x=n(8372),u=n(4351),p=n(2722),$=n(5698),F=n(1854),Z=n(5343);var W=n(3858);const m=function(){try{var t=(0,W.Z)(Object,"defineProperty");return t({},"",{}),t}catch{}}(),c=function i(t,r,e){"__proto__"==r&&m?m(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var y=n(3093),Tt=Object.prototype.hasOwnProperty;const H=function Ot(t,r,e){var o=t[r];(!Tt.call(t,r)||!(0,y.Z)(o,e)||void 0===e&&!(r in t))&&c(t,r,e)},U=function bt(t,r,e,o){var T=!e;e||(e={});for(var f=-1,l=r.length;++f<l;){var a=r[f],v=o?o(e[a],t[a],a,e,t):void 0;void 0===v&&(v=t[a]),T?c(e,a,v):H(e,a,v)}return e};var J=n(4157);var $t=n(3487),N=n(1999),Q=n(1986);var Dt=Object.prototype.hasOwnProperty;const mt=function xt(t){if(!(0,N.Z)(t))return function jt(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=(0,Q.Z)(t),e=[];for(var o in t)"constructor"==o&&(r||!Dt.call(t,o))||e.push(o);return e};var Ut=n(8706);const G=function Rt(t){return(0,Ut.Z)(t)?(0,$t.Z)(t,!0):mt(t)};var Zt=n(5946),z="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=z&&"object"==typeof module&&module&&!module.nodeType&&module,w=_&&_.exports===z?Zt.Z.Buffer:void 0,q=w?w.allocUnsafe:void 0;var k=n(3976);var Xt=n(6623);const tt=(0,n(5820).Z)(Object.getPrototypeOf,Object);var Qt=n(3419);const nt=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)(0,Xt.Z)(r,(0,k.Z)(t)),t=tt(t);return r}:Qt.Z;var kt=n(8501),tn=n(8203);const rn=function nn(t){return(0,tn.Z)(t,G,nt)};var V=n(7183),on=Object.prototype.hasOwnProperty;var rt=n(1630);const Y=function ln(t){var r=new t.constructor(t.byteLength);return new rt.Z(r).set(new rt.Z(t)),r};var un=/\w*$/;var et=n(8492),ot=et.Z?et.Z.prototype:void 0,st=ot?ot.valueOf:void 0;const Bn=function Zn(t,r,e){var o=t.constructor;switch(r){case"[object ArrayBuffer]":return Y(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function cn(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function pn(t,r){var e=r?Y(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function gn(t){var r=new t.constructor(t.source,un.exec(t));return r.lastIndex=t.lastIndex,r}(t);case"[object Symbol]":return function vn(t){return st?Object(st.call(t)):{}}(t)}};var it=Object.create;const Wn=function(){function t(){}return function(r){if(!(0,N.Z)(r))return{};if(it)return it(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Vn=n(4177),Yn=n(5202),at=n(214);var lt=n(6932),R=n(6594),ct=R.Z&&R.Z.isMap;const zn=ct?(0,lt.Z)(ct):function Hn(t){return(0,at.Z)(t)&&"[object Map]"==(0,V.Z)(t)};var ht=R.Z&&R.Z.isSet;const tr=ht?(0,lt.Z)(ht):function wn(t){return(0,at.Z)(t)&&"[object Set]"==(0,V.Z)(t)};var ut="[object Arguments]",gt="[object Function]",ft="[object Object]",s={};s[ut]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object DataView]"]=s["[object Boolean]"]=s["[object Date]"]=s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Map]"]=s["[object Number]"]=s[ft]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object Symbol]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Error]"]=s[gt]=s["[object WeakMap]"]=!1;const jr=function L(t,r,e,o,T,f){var l,a=1&r,v=2&r,Lr=4&r;if(e&&(l=T?e(t,o,T,f):e(t)),void 0!==l)return l;if(!(0,N.Z)(t))return t;var pt=(0,Vn.Z)(t);if(pt){if(l=function sn(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&on.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!a)return function Nt(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}(t,l)}else{var M=(0,V.Z)(t),yt=M==gt||"[object GeneratorFunction]"==M;if((0,Yn.Z)(t))return function Kt(t,r){if(r)return t.slice();var e=t.length,o=q?q(e):new t.constructor(e);return t.copy(o),o}(t,a);if(M==ft||M==ut||yt&&!T){if(l=v||yt?{}:function Nn(t){return"function"!=typeof t.constructor||(0,Q.Z)(t)?{}:Wn(tt(t))}(t),!a)return v?function wt(t,r){return U(t,nt(t),r)}(t,function Lt(t,r){return t&&U(r,G(r),t)}(l,t)):function Vt(t,r){return U(t,(0,k.Z)(t),r)}(t,function At(t,r){return t&&U(r,(0,J.Z)(r),t)}(l,t))}else{if(!s[M])return T?t:{};l=Bn(t,M,a)}}f||(f=new Z.Z);var Pt=f.get(t);if(Pt)return Pt;f.set(t,l),tr(t)?t.forEach(function(O){l.add(L(O,r,e,O,t,f))}):zn(t)&&t.forEach(function(O,j){l.set(j,L(O,r,e,j,t,f))});var Et=pt?void 0:(Lr?v?rn:kt.Z:v?G:J.Z)(t);return function B(t,r){for(var e=-1,o=null==t?0:t.length;++e<o&&!1!==r(t[e],e,t););}(Et||t,function(O,j){Et&&(O=t[j=O]),H(l,j,L(O,r,e,j,t,f))}),l};var mr=n(6478),Ur=n(7832),vt=n(4650);n(8029);const dt="page";let Rr=(()=>{class t{constructor(e,o,T,f,l){this.location=e,this.loadingService=o,this.sortService=T,this.settings=f,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(dt),this.sorting$=this.sortService.sorting$,this.filter$=new P.X(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe((0,h.U)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe((0,A.h)(this.isValidFilter.bind(this)),(0,D.x)(F.Z),(0,C.d)(1)),this.resetEntries$=new b.x,this.nextPage$=new b.x,this.page$=(0,E.T)(this.nextPage$.pipe((0,h.U)(()=>"next")),(0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>"reset"))).pipe((0,d.R)((a,v)=>"next"===v?a+1:0,0)),this.offset$=this.page$.pipe((0,h.U)(a=>a*this.settings.paginationLimit)),this.pageResult$=(0,S.a)([this.validFilter$,this.sorting$,this.offset$]).pipe((0,x.b)(10),(0,u.b)((0,mr.h)(this.loadEntries.bind(this))),(0,C.d)(1)),this.entries$=(0,E.T)((0,E.T)(this.resetEntries$,this.validFilter$,this.sorting$).pipe((0,h.U)(()=>({action:"reset"}))),this.pageResult$.pipe((0,h.U)(a=>0===a.offset?{action:"reset",entries:a.entries}:{action:"append",entries:a.entries}))).pipe((0,d.R)(this.entriesActionReducer.bind(this),[]),(0,C.d)(1)),this.total$=this.pageResult$.pipe((0,h.U)(({total:a})=>a)),this.hasMore$=this.pageResult$.pipe((0,h.U)(({offset:a,total:v})=>a<v-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe((0,h.U)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe((0,h.U)(Ur.tW)),this.destroy$=new b.x,this.queryParamsString$.pipe((0,p.R)(this.destroy$)).subscribe(a=>this.location.replaceState(l,a)),this.sortService.setSorting(this.getInitialSorting())}ngOnDestroy(){this.destroy$.next()}setFilter(e){this.filter$.next(function Dr(t){return jr(t,5)}(e))}nextPage(){this.hasMore$.pipe((0,$.q)(1)).subscribe(e=>{e&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(e,o){switch(o.action){case"append":return[...e,...o.entries];case"reset":return o.entries?o.entries:[];default:return e}}}return t.\u0275fac=function(e){vt.$Z()},t.\u0275prov=vt.Yz7({token:t,factory:t.\u0275fac}),t})()},3657:(X,I,n)=>{n.d(I,{X:()=>Z});var P=n(3519),b=n(7579),E=n(9646),S=n(9300),h=n(4004),A=n(5698),D=n(5577),C=n(3900),d=n(3843),x=n(4782),u=n(2722),p=n(5684),$=n(4650),F=n(6895);let Z=(()=>{class g{constructor(i,c){this.router=i,this.viewportScroller=c,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new b.x,this.scrollPosition$=this.router.events.pipe((0,S.h)(K),(0,h.U)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe((0,S.h)(B)),this.navigationEnd$=this.router.events.pipe((0,S.h)(W)),this.route$=this.activationEnd$.pipe((0,A.q)(1)).pipe((0,D.z)(y=>[(0,E.of)(y),this.navigationEnd$.pipe((0,C.w)(()=>this.activationEnd$.pipe((0,A.q)(1))))]),(0,d.B)(),(0,h.U)(y=>y.snapshot),(0,x.d)(1)),this.scrollPosition$.pipe((0,u.R)(this.destroy$)).subscribe(y=>this.currentScrollPosition=y),this.route$.pipe((0,u.R)(this.destroy$)).subscribe(y=>{this.previousRoute=this.currentRoute,this.currentRoute=y})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const c=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[c]||[0,0])}const i=this.currentRoute;this.route$.pipe((0,p.T)(1),(0,A.q)(1),(0,u.R)(this.destroy$),(0,S.h)(c=>this.shouldStoreFor(i,c))).subscribe(()=>{const c=this.getPath(i);this.scrollPositions[c]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(i){this.viewportScroller.scrollToPosition(i)}getPath(i){return i?"/"+i.pathFromRoot.map(c=>c.routeConfig&&c.routeConfig.path).filter(c=>c).join("/"):"/"}requiresStoring(i){return Boolean(i&&i.routeConfig&&i.routeConfig.data&&Array.isArray(i.routeConfig.data.restoreScrollPositionFrom)&&i.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(i,c){return(i&&i.routeConfig&&i.routeConfig.data&&Array.isArray(i.routeConfig.data.restoreScrollPositionFrom)?i.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(c))}}return g.\u0275fac=function(i){return new(i||g)($.LFG(P.F0),$.LFG(F.EM))},g.\u0275prov=$.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function B(g){return g instanceof P.jw}function K(g){return g instanceof P.OD}function W(g){return g instanceof P.m2}},4379:(X,I,n)=>{n.d(I,{K:()=>C});var P=n(1854),b=n(1135),E=n(1884),S=n(4782),h=n(4004),A=n(5698),D=n(4650);let C=(()=>{class d{constructor(){this.sortingSubject$=new b.X(null),this.sorting$=this.sortingSubject$.asObservable().pipe((0,E.x)(P.Z),(0,S.d)(1))}getSortingChar$(u){return this.sorting$.pipe((0,h.U)(p=>p&&u===p.key?p.ascending?"\u2193":"\u2191":""))}setSorting(u){this.sortingSubject$.next(u)}toggleSorting(u){this.sorting$.pipe((0,A.q)(1)).subscribe(p=>{this.sortingSubject$.next({key:u,ascending:!p||p.key!==u||!p.ascending})})}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275prov=D.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);