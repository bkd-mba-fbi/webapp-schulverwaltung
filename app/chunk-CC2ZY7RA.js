import{b as We}from"./chunk-42VZKNAZ.js";import{a as Ve}from"./chunk-QENSBOG3.js";import{e as He,f as Ge,p as I}from"./chunk-QGDSASTQ.js";import{a as qe}from"./chunk-YHCR7GAG.js";import{a as Ne,i as Ke}from"./chunk-YNODG5RP.js";import{a as Me}from"./chunk-HVLHLZKP.js";import{b as je,d as Ue,g as te}from"./chunk-DQAQYQ7K.js";import{G as Oe,O as q,h as H,t as G,z as S}from"./chunk-ZXUJZ6KS.js";import{Ae as K,B as ce,Cc as l,Cd as Fe,Dc as d,Dd as ee,Ea as ue,Ec as B,Ed as v,Gb as C,H as le,Ha as me,Hb as X,Ia as fe,Ib as x,Id as we,Lb as ge,Mb as be,Nb as T,Ob as c,Pb as p,Q as F,Qb as Y,Rc as Ae,Rd as Ee,S as $,Ub as V,Wb as M,Xb as f,Y as pe,Yb as Ce,Zb as xe,_ as y,aa as L,ab as he,ba as J,ca as de,cc as _e,db as a,dc as Te,ec as ve,gc as Se,ic as u,id as $e,j as oe,ja as b,jc as O,jd as Re,k as re,kc as _,l as R,lc as Z,oa as h,ob as U,q as se,rb as ye,rc as Ie,sc as Pe,tc as De,ua as w,uc as Le,v as s,va as E,vc as ke,w as ae,ze as Be}from"./chunk-GP622B77.js";var Qe=function(t){return function(e){return!t(e)}};var Bt=(()=>{let e=class e{constructor(){this.http=h(H),this.settings=h(S)}editLessonPresences(n,i,r,m,A){let D={LessonIds:n,PersonIds:i};return r!==void 0&&(D.PresenceTypeId=r),m!==void 0&&(D.ConfirmationValue=m),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,D,A).pipe(s(()=>{}))}removeLessonPresences(n,i,r){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:n,PersonIds:i,WithComment:!0},r).pipe(s(()=>{}))}confirmLessonPresences(n,i,r,m){let A={LessonIds:n,PersonIds:i,AbsenceTypeId:r,ConfirmationValue:m};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,A).pipe(s(()=>{}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ze(t){return t.slice().sort((e,o)=>e.Sort-o.Sort)}function jt(t){return t.map(e=>({Key:e.Id,Value:e.Designation||""}))}function Ut(t,e){return t.map(o=>Object.assign(o,{Group:e}))}var Je=we({Id:ee,Active:v,Designation:Ee(Fe),IsAbsence:v,IsComment:v,IsDispensation:v,IsIncident:v,IsHalfDay:v,NeedsConfirmation:v,Sort:ee});var Xe=(()=>{let e=class e extends Ne{constructor(){let n=h(H),i=h(S);super(n,i,Je,"PresenceTypes")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ye=(()=>{let e=class e{constructor(){this.restService=h(Xe),this.settings=h(S),this.presenceTypes$=this.loadPresenceTypes().pipe(y(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(s(this.filterActiveTypes.bind(this)),y(1)),this.confirmationTypes$=this.presenceTypes$.pipe(s(this.filterConfirmationTypes.bind(this)),y(1)),this.incidentTypes$=this.presenceTypes$.pipe(s(this.filterIncidentTypes.bind(this)),y(1)),this.displayedTypes$=this.presenceTypes$.pipe(s(this.filterDisplayedTypes.bind(this)),y(1)),this.halfDayActive$=this.presenceTypes$.pipe(s(this.isHalfDayActive.bind(this)),L(!1),$(),y(1))}getPresenceType(n){return this.presenceTypes$.pipe(s(i=>{let r=i.find(m=>m.Id===n);if(!r)throw new Error("presence type not found");return r}))}loadPresenceTypes(){return this.restService.getList().pipe(s(ze))}filterActiveTypes(n){return n.filter(i=>i.Active)}filterConfirmationTypes(n){return n.filter(i=>i.NeedsConfirmation&&i.Active&&i.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(n){return n.filter(i=>i.IsIncident&&i.Active)}filterDisplayedTypes(n){return n.filter(i=>i.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(n){return!!n.find(i=>i.Id===this.settings.halfDayPresenceTypeId)?.Active}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rt(t){return!t}function st(t){return!!(t&&t.IsComment)}function at(t){return!!(t&&t.IsIncident)}function W(t){return!!(t&&(t.IsAbsence||t.IsDispensation||t.IsHalfDay))}function ne(t,e){return!!(t&&e&&t.Id===e.absencePresenceTypeId)}function ie(t,e){return!!(t&&e&&e===t.checkableAbsenceStateId)}function Ze(t,e,o){return!!(rt(e)&&t.ConfirmationStateId===null||st(e)||at(e)||W(e)&&t.ConfirmationStateId===o.unconfirmedAbsenceStateId||ie(o,t.ConfirmationStateId))}function an(t,e){return t?.IsAbsence?e.unconfirmedAbsenceStateId:null}var g=function(t){return t.Present="present",t.Unapproved="unapproved",t.Absent="absent",t}(g||{});function ct(t){switch(t){case g.Absent:return"cancel";case g.Unapproved:return"help";default:return"check_circle"}}var Q=class{constructor(e,o,n,i){this.lessonPresence=e,this.presenceType=o,this.precedingAbsences=n,this.confirmationState=i,this.studentFullName=e.StudentFullName}get id(){return`${this.lessonPresence.LessonRef.Id}-${this.lessonPresence.StudentRef.Id}`}get presenceCategory(){return ie(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?g.Unapproved:W(this.presenceType)?g.Absent:g.Present}get nextPresenceCategory(){return this.presenceCategory===g.Absent?g.Present:g.Absent}getNextPresenceType(e){switch(this.nextPresenceCategory){case g.Absent:return this.presenceCategory===g.Unapproved?this.presenceType:e.find(o=>ne(o,this.settings))||null;default:return null}}get canChangePresenceType(){return Ze(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!W(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===g.Absent&&!ne(this.presenceType,this.settings)||this.presenceCategory===g.Unapproved}get presenceCategoryIcon(){return ct(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function un(t,e,o){return Ve(t,-e,o)}var k=class{constructor(e){if(this.absences=e,e.length===0)throw new Error("Absences array is empty");this.date=He(this.absences[0].LessonDateTimeFrom),this.dateString=I(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}get id(){return`${this.dateString}-${this.studentId}`}};function bn(t,e){return t===null&&e===null||t!==null&&e!==null&&t.LessonRef.Id===e.LessonRef.Id&&t.EventDesignation===e.EventDesignation&&t.StudyClassNumber===e.StudyClassNumber&&t.TeacherInformation===e.TeacherInformation&&t.LessonDateTimeFrom.getTime()===e.LessonDateTimeFrom.getTime()&&t.LessonDateTimeTo.getTime()===e.LessonDateTimeTo.getTime()}function lt(t,e){return t?e.filter(o=>t.lessons.map(n=>n.LessonRef.Id).indexOf(o.LessonRef.Id)>=0).sort(ut):[]}function pt(t,e,o){return q(t.filter(n=>n.StudentRef.Id===e.StudentRef.Id&&n.LessonRef.From&&n.LessonRef.From.toDateString()===o?.LessonDateTimeFrom.toDateString()&&n.LessonRef.From<o?.LessonDateTimeFrom),"Id").sort(mt)}function Cn(t,e,o,n,i){return lt(t,e).map(r=>dt(t,r,o,n,i))}function dt(t,e,o,n,i){let r=null;e.TypeRef.Id&&(r=o.find(D=>D.Id===e.TypeRef.Id)||null);let m=pt(i,e,t),A;return e.ConfirmationStateId&&(A=n.find(D=>D.Key===e.ConfirmationStateId)),new Q(e,r,m,A)}function et(t,e){let o=t.LessonDateTimeFrom.getTime(),n=e.LessonDateTimeFrom.getTime();return o-n===0?t.LessonDateTimeTo.getTime()-e.LessonDateTimeTo.getTime():o-n}function ut(t,e){return t.StudentFullName.localeCompare(e.StudentFullName)}function mt(t,e){return t.LessonRef.From&&t.LessonRef.To&&e.LessonRef.From&&e.LessonRef.To?t.LessonRef.From.getTime()-e.LessonRef.From.getTime()===0?t.LessonRef.To.getTime()-e.LessonRef.To.getTime():t.LessonRef.From.getTime()-e.LessonRef.From.getTime():0}function Pn(t){let e=ht(t);return Object.keys(e).reduce((o,n)=>(Object.keys(e[n]).forEach(i=>{o=[...o,new k(e[n][i].sort(et))]}),o),[])}function Dn(t,e){return e?[...t].sort(ft(e)):t}function z(t){return t.reduce((e,o)=>e.concat(o.absences),[])}function Ln(t,e){return t.filter(o=>!e.some(({lessonIds:n,personId:i})=>n.includes(o.LessonRef.Id)&&i===o.StudentRef.Id))}function kn(t,e){return q([...t,...e],"Id")}function ft(t){return(e,o)=>{switch(t.primarySortKey){case"date":{let n=e.date.getTime(),i=o.date.getTime();return n===i?e.studentFullName.localeCompare(o.studentFullName):t.ascending?n-i:i-n}case"name":{let n=t.ascending?e.studentFullName.localeCompare(o.studentFullName):o.studentFullName.localeCompare(e.studentFullName);return n===0?o.date.getTime()-e.date.getTime():n}default:throw new qe(t.primarySortKey,"Unhandled sort criteria")}}}function ht(t){return t.reduce((e,o)=>{let n=I(o.LessonDateTimeFrom,"yyyy-MM-dd"),i=o.StudentRef.Id;return e[n]||(e[n]={}),e[n][i]||(e[n][i]=[]),e[n][i].push(o),e},{})}var N=function(t){return t.ToggleSelection="TOGGLE",t.ClearSelection="CLEAR",t}(N||{}),tt=(()=>{let e=class e{constructor(){this.action$=new oe,this.selection$=ce(this.action$.pipe(pe(this.reduceSelection.bind(this),[]),L([])),{connector:()=>new R(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(n){this.action$.next({type:N.ToggleSelection,payload:n})}clear(n=null){this.action$.next({type:N.ClearSelection,payload:n})}isSelected$(n){return this.selection$.pipe(s(i=>i.includes(n)),$())}reduceSelection(n,i){switch(i.type){case N.ToggleSelection:return n.includes(i.payload)?n.filter(r=>r!==i.payload):[...n,i.payload];case N.ClearSelection:return i.payload||[];default:return n}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function En(t){let e=t.reduce((o,n)=>(o[n.StudentRef.Id]||(o[n.StudentRef.Id]=[]),o[n.StudentRef.Id].push(n.LessonRef.Id),o),{});return Object.keys(e).map(o=>({personIds:[Number(o)],lessonIds:e[o]}))}function nt(t){let e={};return t.forEach(o=>{e[o.StudentRef.Id]||(e[o.StudentRef.Id]={}),e[o.StudentRef.Id][String(o.TypeRef.Id)]||(e[o.StudentRef.Id][String(o.TypeRef.Id)]=[]),e[o.StudentRef.Id][String(o.TypeRef.Id)].push(o.LessonRef.Id)}),Object.keys(e).reduce((o,n)=>[...o,...Object.keys(e[n]).map(i=>({personId:Number(n),presenceTypeId:i==="null"?null:Number(i),lessonIds:e[n][String(i)]}))],[])}function Mn(t){return t.slice().sort((e,o)=>e.LessonDateTimeFrom.getTime()-o.LessonDateTimeFrom.getTime())}function On(t){return`${t.EventDesignation}, ${I(t.LessonDateTimeFrom,"dd.MM.yyyy")}, ${I(t.LessonDateTimeFrom,"HH:mm")}-${I(t.LessonDateTimeTo,"HH:mm")}`}var zn=(()=>{let e=class e extends tt{constructor(){super(...arguments),this.settings=h(S),this.selectedIds$=this.selection$.pipe(s(j),s(({openAbsencesEntries:n,lessonPresences:i})=>nt([...z(n),...i])),y(1)),this.selectedLessons$=this.selection$.pipe(s(j),s(({openAbsencesEntries:n,lessonPresences:i})=>[...z(n),...i]),y(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(s(j),s(({openAbsencesEntries:n,lessonPresences:i})=>[...z(n),...i].filter(r=>r.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe(F(1),s(j)).subscribe(({openAbsencesEntries:n})=>this.clear(n))}clearNonLessonPresences(){this.selection$.pipe(F(1),s(j)).subscribe(({lessonPresences:n})=>this.clear(n))}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=fe(e)))(r||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function j(t){return{openAbsencesEntries:t.filter(te(k)),lessonPresences:t.filter(Qe(te(k)))}}function Xn(t){return e=>t(...e)}var it=(()=>{let e=class e{constructor(){this.translate=h(Be)}transform(n){if(!n)return"";let i=Ge(n,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(i)}`,{count:Math.abs(i)})}getKey(n){return n===0?"today":n===1?"tomorrow":n===-1?"yesterday":n>0?"in":"ago"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=ye({name:"bkdDaysDifference",type:e,pure:!0});let t=e;return t})();function oi(t){return t.length===0}function ot(t){return Array.isArray(t)}var yt=["checkbox"],gt=(t,e)=>e.Id;function bt(t,e){t&1&&Y(0,"bkd-spinner",2)}function Ct(t,e){if(t&1&&Y(0,"bkd-reports-link",13),t&2){let o=f(4);T("reports",o.reports)("disableIfUnavailable",!0)}}function xt(t,e){if(t&1&&(c(0,"a",14),l(1,"async"),c(2,"i",12),u(3,"mail"),p()()),t&2){let o=f(4);T("href",ke("mailto:",d(1,2,o.mailTo$)),he)}}function _t(t,e){if(t&1&&(c(0,"div",15),u(1),p()),t&2){let o=f(4);a(),_(" ",o.defaultAbsenceSelectionMessage," ")}}function Tt(t,e){if(t&1){let o=V();c(0,"div",6),M("click",function(i){w(o);let r=ve(3),m=f(3);return E(m.onRowClick(i,r))}),c(1,"div",7)(2,"input",8,0),l(4,"async"),M("change",function(i){w(o);let r=f(3);return E(r.toggleAll(i.target==null?null:i.target.checked))}),p()(),c(5,"div",9),u(6),l(7,"translate"),p(),c(8,"div",10)(9,"a",11),l(10,"async"),c(11,"i",12),u(12,"edit"),p()(),C(13,Ct,1,2,"bkd-reports-link",13),C(14,xt,4,4,"a",14),p(),C(15,_t,2,1,"div",15),l(16,"async"),p()}if(t&2){let o,n,i=f(3);a(2),T("checked",d(4,9,i.allSelected$)),a(4),O(d(7,11,"open-absences.detail.all")),a(3),Se("disabled",((o=d(10,13,i.selectionService==null?null:i.selectionService.selection$))==null?null:o.length)===0),T("routerLink",Le(i.confirmLink)),a(4),x(i.reports?13:-1),a(),x(i.displayEmail?14:-1),a(),x(i.defaultAbsenceSelectionMessage&&((n=d(16,15,i.selectionService==null?null:i.selectionService.selectedWithoutPresenceType$))!=null&&n.length)?15:-1)}}function vt(t,e){if(t&1){let o=V();c(0,"div",7)(1,"input",8,1),l(3,"async"),M("change",function(){w(o);let i=f().$implicit,r=f(3);return E(r.selectionService==null?null:r.selectionService.toggle(i))}),p()()}if(t&2){let o=f().$implicit,n=f(3);a(),T("checked",d(3,1,n.selectionService==null?null:n.selectionService.isSelected$(o)))}}function St(t,e){if(t&1&&u(0),t&2){let o=f().$implicit;_(" , ",o.StudyClassNumber," ")}}function It(t,e){if(t&1&&(c(0,"div",20),u(1),p()),t&2){f();let o=De(12);a(),_(" ",o," ")}}function Pt(t,e){t&1&&(c(0,"div",21),u(1),l(2,"translate"),p()),t&2&&(a(),_(" ",d(2,1,"my-absences.show.confirm-presence-type")," "))}function Dt(t,e){if(t&1){let o=V();c(0,"div",16),M("click",function(i){let r=w(o).$index,m=f(3);return E(m.onRowClick(i,r))}),C(1,vt,4,3,"div",7),l(2,"async"),c(3,"div",17),u(4),C(5,St,1,1),p(),c(6,"div",18),u(7),l(8,"date"),l(9,"date"),p(),c(10,"div",19),u(11),p(),Ie(12),l(13,"async"),C(14,It,2,1,"div",20),C(15,Pt,3,3,"div",21),c(16,"div",22),u(17),l(18,"date"),p(),c(19,"div",23),u(20),l(21,"bkdDaysDifference"),p(),c(22,"div",24),u(23),l(24,"date"),l(25,"bkdDaysDifference"),p()()}if(t&2){let o=e.$implicit,n=f(3);a(),x(d(2,12,n.editable$)?1:-1),a(3),_(" ",o.EventDesignation," "),a(),x(o.StudyClassNumber?5:-1),a(2),Z(" ",B(8,14,o.LessonDateTimeFrom,"HH:mm"),"\u2013",B(9,17,o.LessonDateTimeTo,"HH:mm")," "),a(4),_(" ",o.TeacherInformation," "),a();let i=Pe(d(13,20,n.getPresenceTypeDesignation(o)));a(2),x(i?14:-1),a(),x(n.displayPresenceType&&!i&&n.defaultAbsenceSelectionMessage?15:-1),a(2),_(" ",B(18,23,o.LessonDateTimeFrom,"dd.MM.yyyy")," "),a(3),_(" ",d(21,26,o.LessonDateTimeFrom)," "),a(3),Z(" ",B(24,28,o.LessonDateTimeFrom,"dd.MM.yyyy"),", ",d(25,31,o.LessonDateTimeFrom)," ")}}function Lt(t,e){if(t&1&&(C(0,Tt,17,17,"div",4),l(1,"async"),ge(2,Dt,26,33,"div",5,gt),l(4,"async")),t&2){let o=f(2);x(d(1,1,o.editable$)?0:-1),a(2),be(d(4,3,o.lessonPresences$))}}function kt(t,e){t&1&&(c(0,"p",3),u(1),l(2,"translate"),p()),t&2&&(a(),O(d(2,1,"shared.profile.no-absences")))}function At(t,e){if(t&1&&(C(0,Lt,5,5),l(1,"async"),X(2,kt,3,3,"p",3)),t&2){let o,n=f();x((((o=d(1,1,n.lessonPresences$))==null?null:o.length)??0)>0?0:2)}}var _i=(()=>{let e=class e{constructor(){this.presenceTypesService=h(Ye),this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.checkboxes=Ae("checkbox"),this.lessonPresences$$=new R(1),this.lessonPresences$=this.lessonPresences$$.pipe(de(),L(null),y(1)),this.loading$=this.lessonPresences$.pipe(s(Ue(ot))),this.selectionService$=new R(1),this.editable$=this.selectionService$.pipe(s(()=>!0),L(!1)),this.displayPresenceType$=new re(!0),this.allSelected$=ae([this.lessonPresences$.pipe(le(je)),this.selectionService$.pipe(J(n=>n.selection$))]).pipe(s(([n,i])=>n.length===i.length))}ngOnChanges(n){n.absences$&&this.lessonPresences$$.next(n.absences$.currentValue),n.selectionService&&n.selectionService.currentValue&&(n.selectionService.currentValue.clear(),this.selectionService$.next(n.selectionService.currentValue)),n.displayPresenceType&&this.displayPresenceType$.next(n.displayPresenceType.currentValue)}toggleAll(n){n?this.lessonPresences$.pipe(F(1)).subscribe(i=>this.selectionService?.clear(i)):this.selectionService?.clear()}onRowClick(n,i){let r=this.checkboxes();if(r.length===0)return;let m;typeof i=="number"?m=r[i].nativeElement:m=i,n.target!==m&&!n.target.closest(".buttons")&&m.click()}getPresenceTypeDesignation(n){return this.displayPresenceType$.pipe(J(i=>i?this.presenceTypesService.displayedTypes$:se([])),s(i=>n.TypeRef.Id&&i.find(r=>r.Id===n.TypeRef.Id)?.Designation||null))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=U({type:e,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(i,r){i&1&&_e(r.checkboxes,yt,5),i&2&&Te()},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},features:[me],decls:3,vars:3,consts:[["allCheckbox",""],["checkbox",""],[1,"inline","d-block","mb-3"],[1,"mx-3"],[1,"absence-all"],[1,"absence-entry"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],[1,"lesson-class"],[1,"time","pe-2"],[1,"teacher"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"]],template:function(i,r){i&1&&(C(0,bt,1,0,"bkd-spinner",2),l(1,"async"),X(2,At,3,3)),i&2&&x(d(1,1,r.loading$)?0:2)},dependencies:[G,We,Ke,$e,Re,K,it],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width: 750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0});let t=e;return t})();var $t=["*"],Ii=(()=>{let e=class e{constructor(){this.link=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=U({type:e,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},ngContentSelectors:$t,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(i,r){i&1&&(Ce(),c(0,"div",0)(1,"a",1)(2,"span",2),u(3,"arrow_back"),p(),c(4,"span",3),u(5),l(6,"translate"),p()(),xe(7),p()),i&2&&(a(),T("routerLink",r.link)("queryParams",r.params),a(4),O(d(6,3,"global.back")))},dependencies:[G,K],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]});let t=e;return t})();var Ri=(()=>{let e=class e{constructor(){this.sortCriteria=ue(null),this.sortCriteria$=Me(this.sortCriteria).pipe($(Oe),y(1))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{Qe as a,Bt as b,ze as c,jt as d,Ut as e,Ye as f,un as g,st as h,at as i,W as j,Ze as k,an as l,g as m,ct as n,Q as o,bn as p,Cn as q,dt as r,et as s,Pn as t,Dn as u,Ln as v,kn as w,tt as x,En as y,Mn as z,On as A,zn as B,Xn as C,it as D,oi as E,_i as F,Ii as G,Ri as H};
