import{a as ve,b as oe}from"./chunk-BFDAXNRH.js";import{g as Te}from"./chunk-XQPTY3WV.js";import{a as S}from"./chunk-3FUQIOWK.js";import{h as Z,i as Ve,k as ee,u as te,v as ie,w as K,x as we}from"./chunk-WKWJNX64.js";import{Aa as se,Ab as v,Cc as $,Dc as X,Fb as q,Gb as r,Hb as ue,Ia as g,Ib as R,Ja as u,Ka as de,Mb as w,Ob as me,Pb as Y,Pc as p,Qb as Q,Rb as l,S as re,Sb as s,Tb as U,Ud as ye,Vd as z,Xb as C,Yd as O,Zb as _,_b as a,a as x,ae as H,b as D,da as J,de as G,hb as m,hc as P,ic as W,ie as xe,j,ja as le,jc as _e,je as De,kc as y,ke as Se,lc as he,mb as ce,mc as I,nc as fe,pb as B,qc as L,qe as T,rb as b,rc as N,sc as E,tc as A,ub as f,uc as Ce,ue as ne,v as ae,vc as M,wa as d,wb as pe,wc as be,xa as c,xc as ge}from"./chunk-L73X7UL7.js";var ke=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R"),this.items=p(()=>this.detail().DropdownItems?.filter(e=>e.IsActive)),this.typeahead=B.required(K),this.destroy$=new j,this.search=e=>e.pipe(re(),ae(this.findSuggestions.bind(this)))}ngAfterViewInit(){this.typeahead().selectItem.pipe(J(this.destroy$)).subscribe(({item:e})=>this.onSelect(e))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onChange(e){let{value:t}=e.target;this.updateDetailValue(t||null)}onBlur(){this.commit.emit(this.detail())}onSelect(e){this.updateDetailValue(e),this.commit.emit(this.detail())}findSuggestions(e){if(e.length<2)return[];let t=e.toLowerCase();return(this.items()??[]).filter(i=>i.Value.toLowerCase().includes(t)).slice(0,10).map(i=>i.Value)}updateDetailValue(e){this.detail.set(D(x({},this.detail()),{Value:e}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-combobox"]],viewQuery:function(t,i){t&1&&P(i.typeahead,K,5),t&2&&W()},inputs:{detail:[1,"detail"],id:[1,"id"]},outputs:{detail:"detailChange",commit:"commit"},decls:2,vars:4,consts:[["input",""],["type","text",1,"form-control",3,"input","blur","id","disabled","value","ngbTypeahead"]],template:function(t,i){if(t&1){let o=C();l(0,"input",1,0),_("input",function(F){return d(o),c(i.onChange(F))})("blur",function(){return d(o),c(i.onBlur())}),s()}t&2&&r("id",i.id())("disabled",i.readonly())("value",i.detail().Value)("ngbTypeahead",i.search)},dependencies:[T,we,K],encapsulation:2,changeDetection:0})}}return n})();var Fe=(()=>{class n extends Z{constructor(){super(...arguments),this.parserFormatter=new oe}fromModel(e){return this.parserFormatter.parse(e??"")}toModel(e){return e?this.parserFormatter.format(e):null}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=se(n)))(i||n)}})()}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();var Oe="dd.MM.yyyy",Le=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R"),this.value=p(()=>this.detail().Value?String(this.detail().Value):null),this.datepicker=B.required(ee),this.destroy$=new j}ngAfterViewInit(){this.datepicker().dateSelect.pipe(J(this.destroy$)).subscribe(()=>this.onSelect())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onChange(e){this.updateDetailValue(e)}onBlur(){let e=ve(String(this.detail().Value),Oe,new Date);Te(e)||this.updateDetailValue(null),this.commit.emit(this.detail())}onSelect(){this.commit.emit(this.detail())}updateDetailValue(e){this.detail.set(D(x({},this.detail()),{Value:e}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-datefield"]],viewQuery:function(t,i){t&1&&P(i.datepicker,ee,5),t&2&&W()},inputs:{detail:[1,"detail"],id:[1,"id"]},outputs:{detail:"detailChange",commit:"commit"},features:[be([{provide:Z,useClass:Fe},{provide:Ve,useClass:oe}])],decls:7,vars:7,consts:[["dp","ngbDatepicker"],[1,"input-group"],[1,"input-group-text",3,"id"],[1,"material-icons"],["type","text","ngbDatepicker","",1,"form-control",3,"ngModelChange","blur","click","id","placeholder","disabled","ngModel"]],template:function(t,i){if(t&1){let o=C();l(0,"div",1)(1,"span",2)(2,"i",3),y(3,"calendar_today"),s()(),l(4,"input",4,0),$(6,"translate"),_("ngModelChange",function(F){return d(o),c(i.onChange(F))})("blur",function(){return d(o),c(i.onBlur())})("click",function(){d(o);let F=_e(5);return c(F.toggle())}),s()()}t&2&&(m(),r("id",i.id()),m(3),r("id",i.id())("placeholder",X(6,5,"shared.date-select.default-placeholder"))("disabled",i.readonly())("ngModel",i.value()))},dependencies:[T,z,O,H,ee,ne],encapsulation:2,changeDetection:0})}}return n})();var Ne=(()=>{class n{constructor(){this.detail=u.required(),this.id=u.required()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-description"]],inputs:{detail:[1,"detail"],id:[1,"id"]},decls:2,vars:2,consts:[[3,"id"]],template:function(t,i){t&1&&(l(0,"div",0),y(1),s()),t&2&&(r("id",i.id()),m(),he(i.detail().Value))},encapsulation:2,changeDetection:0})}}return n})();var Ee=(()=>{class n{constructor(){this.detail=u.required()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-heading"]],inputs:{detail:[1,"detail"]},decls:2,vars:2,consts:[[3,"ngbTooltip"]],template:function(t,i){t&1&&(l(0,"div",0),y(1),s()),t&2&&(r("ngbTooltip",i.detail().Tooltip),m(),I(" ",i.detail().VssDesignation," "))},dependencies:[ie,te],styles:["[_nghost-%COMP%]{font-weight:700}div[_ngcontent-%COMP%]{display:inline-flex}"],changeDetection:0})}}return n})();function He(n,h){if(n&1&&(l(0,"label",0),y(1),s()),n&2){let e=a();r("ngbTooltip",e.detail().Tooltip),q("for",e.id()),m(),fe(" ",e.detail().VssDesignation," ",e.required()?"*":""," ")}}var Ae=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.hideLabel=u.required(),this.required=p(()=>this.detail().VssInternet==="M")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-label"]],inputs:{detail:[1,"detail"],id:[1,"id"],hideLabel:[1,"hideLabel"]},outputs:{detail:"detailChange"},decls:1,vars:1,consts:[[1,"form-label",3,"ngbTooltip"]],template:function(t,i){t&1&&v(0,He,2,4,"label",0),t&2&&w(i.hideLabel()?-1:0)},dependencies:[ie,te],encapsulation:2,changeDetection:0})}}return n})();var Be=(n,h)=>h.Key;function Ye(n,h){if(n&1){let e=C();A(0),l(1,"div",3)(2,"input",4),_("ngModelChange",function(){let i=d(e).$implicit,o=a(2);return c(o.onChange(i.Key))}),s(),l(3,"label",5),y(4),s()()}if(n&2){let e=h.$implicit,t=a(2),i=t.id()+"-"+e.Key;m(2),r("name",t.id())("id",i)("value",e.Key)("disabled",t.readonly())("ngModel",t.detail().Value),m(),q("for",i),m(),I(" ",e.Value," ")}}function Qe(n,h){if(n&1&&(l(0,"div",2),Y(1,Ye,5,7,"div",3,Be),s()),n&2){let e=a();R("flex-row",e.layout()==="horizontal")("flex-column",e.layout()==="vertical"),r("id",e.id()),m(),Q(e.items())}}function Ke(n,h){if(n&1&&(l(0,"option",7),y(1),s()),n&2){let e=h.$implicit;r("value",e.Key),m(),I(" ",e.Value," ")}}function je(n,h){if(n&1){let e=C();l(0,"select",6),_("ngModelChange",function(i){d(e);let o=a();return c(o.onChange(i))}),Y(1,Ke,2,2,"option",7,Be),y(3," > "),s()}if(n&2){let e=a();r("id",e.id())("disabled",e.readonly())("ngModel",e.detail().Value),m(),Q(e.items())}}var qe=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.layout=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R"),this.asRadios=p(()=>this.detail().ShowAsRadioButtons),this.items=p(()=>this.detail().DropdownItems?.filter(e=>e.IsActive))}onChange(e){let t=this.items()?.find(o=>o.Key==e),i=D(x({},this.detail()),{Value:t?.Key??null});this.detail.set(i),this.commit.emit(i)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-listbox"]],inputs:{detail:[1,"detail"],id:[1,"id"],layout:[1,"layout"]},outputs:{detail:"detailChange",commit:"commit"},decls:2,vars:1,consts:[[1,"radios","d-flex",3,"id","flex-row","flex-column"],[1,"form-select",3,"id","disabled","ngModel"],[1,"radios","d-flex",3,"id"],[1,"form-check"],["type","radio",1,"form-check-input",3,"ngModelChange","name","id","value","disabled","ngModel"],[1,"form-check-label"],[1,"form-select",3,"ngModelChange","id","disabled","ngModel"],[3,"value"]],template:function(t,i){t&1&&v(0,Qe,3,5,"div",0)(1,je,4,3,"select",1),t&2&&w(i.asRadios()?0:1)},dependencies:[T,De,Se,z,xe,G,O,H],styles:[".radios.flex-row[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return n})();var Re=(()=>{class n{constructor(e){this.elementRef=e}onInput(){this.resize()}ngAfterViewInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+3+"px"}static{this.\u0275fac=function(t){return new(t||n)(ce(de))}}static{this.\u0275dir=pe({type:n,selectors:[["textarea","bkdTextareaAutosize",""]],hostBindings:function(t,i){t&1&&_("input",function(){return i.onInput()})}})}}return n})();var Pe=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R")}onInput(e){let{value:t}=e.target;this.detail.set(D(x({},this.detail()),{Value:t||null}))}onBlur(){this.commit.emit(this.detail())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-textarea"]],inputs:{detail:[1,"detail"],id:[1,"id"]},outputs:{detail:"detailChange",commit:"commit"},decls:1,vars:3,consts:[["bkdTextareaAutosize","",1,"form-control",3,"input","blur","id","value","disabled"]],template:function(t,i){t&1&&(l(0,"textarea",0),_("input",function(k){return i.onInput(k)})("blur",function(){return i.onBlur()}),s()),t&2&&r("id",i.id())("value",i.detail().Value)("disabled",i.readonly())},dependencies:[Re],encapsulation:2,changeDetection:0})}}return n})();var Je=["input"],We=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R"),this.isInt=p(()=>this.detail().VssTypeId===S.Int),this.isCurrency=p(()=>this.detail().VssTypeId===S.Currency),this.fieldType=p(()=>this.isInt()||this.isCurrency()?"number":"text"),this.input=B.required("input")}onChange(e){let{value:t}=e.target,i=this.normalizeValueOnChange(t);this.isInt()&&(this.input().nativeElement.value=String(i)),this.updateDetailValue(i)}onBlur(){this.updateDetailValue(this.normalizeValueOnBlur(this.detail().Value)),this.commit.emit(this.detail())}normalizeValueOnChange(e){return e===""?null:this.isInt()?Math.floor(Number(e)):e}normalizeValueOnBlur(e){return e&&this.isCurrency()?Number(this.detail().Value).toFixed(2):e}updateDetailValue(e){this.detail.set(D(x({},this.detail()),{Value:e}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-textfield"]],viewQuery:function(t,i){t&1&&P(i.input,Je,5),t&2&&W()},inputs:{detail:[1,"detail"],id:[1,"id"]},outputs:{detail:"detailChange",commit:"commit"},decls:2,vars:5,consts:[["input",""],[1,"form-control",3,"input","blur","id","type","disabled","value","step"]],template:function(t,i){if(t&1){let o=C();l(0,"input",1,0),_("input",function(F){return d(o),c(i.onChange(F))})("blur",function(){return d(o),c(i.onBlur())}),s()}t&2&&r("id",i.id())("type",i.fieldType())("disabled",i.readonly())("value",i.detail().Value)("step",i.isCurrency()?"0.05":"1")},dependencies:[T],styles:["input[type=number][_ngcontent-%COMP%]{max-width:15ch;min-width:10ch}"],changeDetection:0})}}return n})();var Ue=()=>["Ja","Nein"];function $e(n,h){if(n&1){let e=C();A(0),l(1,"div",1)(2,"input",3),_("ngModelChange",function(){let i=d(e).$implicit,o=a(2);return c(o.onRadioChange(i))}),s(),l(3,"label",4),A(4),y(5),$(6,"translate"),s()()}if(n&2){let e=h.$implicit,t=a(2),i=t.id()+"-"+e;m(2),r("name",t.id())("id",i)("value",e)("disabled",t.readonly())("ngModel",t.detail().Value),m(),q("for",i);let o=e==="Ja"?"evaluation.values.yes":"evaluation.values.no";m(2),I(" ",X(6,7,o)," ")}}function Xe(n,h){if(n&1&&(l(0,"div",2),Y(1,$e,7,9,"div",1,me),s()),n&2){let e=a();R("flex-row",e.layout()==="horizontal")("flex-column",e.layout()==="vertical"),r("id",e.id()),m(),Q(ge(5,Ue))}}function Ge(n,h){if(n&1){let e=C();l(0,"div",1)(1,"input",5),_("ngModelChange",function(i){d(e);let o=a();return c(o.onCheckboxToggle(i))}),s()()}if(n&2){let e=a();m(),r("name",e.id())("id",e.id())("disabled",e.readonly())("ngModel",e.detail().Value==="Ja")}}var ze=(()=>{class n{constructor(){this.detail=b.required(),this.id=u.required(),this.layout=u.required(),this.commit=g(),this.readonly=p(()=>this.detail().VssInternet==="R"),this.required=p(()=>this.detail().VssInternet==="M"),this.yesAndNo=p(()=>this.detail().VssTypeId===S.YesNo),this.asRadios=p(()=>this.detail().ShowAsRadioButtons)}onRadioChange(e){let t=D(x({},this.detail()),{Value:e??null});this.detail.set(t),this.commit.emit(t)}onCheckboxToggle(e){let t=e?"Ja":this.yesAndNo()?"Nein":null,i=D(x({},this.detail()),{Value:t});this.detail.set(i),this.commit.emit(i)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-yesno"]],inputs:{detail:[1,"detail"],id:[1,"id"],layout:[1,"layout"]},outputs:{detail:"detailChange",commit:"commit"},decls:2,vars:1,consts:[[1,"radios","d-flex",3,"id","flex-row","flex-column"],[1,"form-check"],[1,"radios","d-flex",3,"id"],["type","radio",1,"form-check-input",3,"ngModelChange","name","id","value","disabled","ngModel"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","disabled","ngModel"]],template:function(t,i){t&1&&v(0,Xe,3,6,"div",0)(1,Ge,2,4,"div",1),t&2&&w(i.yesAndNo()&&i.asRadios()?0:1)},dependencies:[T,z,ye,G,O,H,ne],styles:[".radios.flex-row[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return n})();function Ze(n,h){if(n&1&&U(0,"bkd-subscription-detail-label",4),n&2){let e=a(),t=M(0);ue("min-width",e.layout()==="horizontal"?e.labelWidth():""),r("detail",e.detail())("id",t)("hideLabel",e.hideLabel())}}function et(n,h){if(n&1&&U(0,"bkd-subscription-detail-heading",1),n&2){let e=a();r("detail",e.detail())}}function tt(n,h){if(n&1&&U(0,"bkd-subscription-detail-description",2),n&2){let e=a(),t=M(0);r("detail",e.detail())("id",t)}}function it(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-combobox",5),E("detailChange",function(i){d(e);let o=a();return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a();return c(o.commit.emit(i))}),s()}if(n&2){let e=a(),t=M(0);L("detail",e.detail),r("id",t)}}function nt(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-listbox",6),E("detailChange",function(i){d(e);let o=a();return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a();return c(o.commit.emit(i))}),s()}if(n&2){let e=a(),t=M(0);L("detail",e.detail),r("id",t)("layout",e.layout())}}function ot(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-textfield",5),E("detailChange",function(i){d(e);let o=a(2);return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a(2);return c(o.commit.emit(i))}),s()}if(n&2){let e=a(2),t=M(0);L("detail",e.detail),r("id",t)}}function at(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-datefield",5),E("detailChange",function(i){d(e);let o=a(2);return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a(2);return c(o.commit.emit(i))}),s()}if(n&2){let e=a(2),t=M(0);L("detail",e.detail),r("id",t)}}function rt(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-textarea",5),E("detailChange",function(i){d(e);let o=a(2);return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a(2);return c(o.commit.emit(i))}),s()}if(n&2){let e=a(2),t=M(0);L("detail",e.detail),r("id",t)}}function lt(n,h){if(n&1){let e=C();l(0,"bkd-subscription-detail-yesno",6),E("detailChange",function(i){d(e);let o=a(2);return N(o.detail,i)||(o.detail=i),c(i)}),_("commit",function(i){d(e);let o=a(2);return c(o.commit.emit(i))}),s()}if(n&2){let e=a(2),t=M(0);L("detail",e.detail),r("id",t)("layout",e.layout())}}function st(n,h){if(n&1&&v(0,ot,1,2,"bkd-subscription-detail-textfield",2)(1,at,1,2,"bkd-subscription-detail-datefield",2)(2,rt,1,2,"bkd-subscription-detail-textarea",2)(3,lt,1,3,"bkd-subscription-detail-yesno",3),n&2){let e=a();w(e.isTextField()?0:e.isDate()?1:e.isTextarea()?2:e.isYesNo()?3:-1)}}var Ei=(()=>{class n{constructor(){this.detail=b.required(),this.hideLabel=u(!1),this.layout=u("vertical"),this.labelWidth=u("33%"),this.commit=g(),this.isTextField=p(()=>this.detail()?.VssTypeId===S.ShortText||this.detail()?.VssTypeId===S.Int||this.detail()?.VssTypeId===S.Currency),this.isTextarea=p(()=>this.detail()?.VssTypeId===S.Text),this.isYesNo=p(()=>this.detail()?.VssTypeId===S.YesNo||this.detail()?.VssTypeId===S.Yes),this.isDate=p(()=>this.detail()?.VssTypeId===S.Date)}get flexColumn(){return this.layout()==="vertical"}get flexRow(){return this.layout()==="horizontal"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=f({type:n,selectors:[["bkd-subscription-detail-field"]],hostVars:4,hostBindings:function(t,i){t&2&&R("flex-column",i.flexColumn)("flex-row",i.flexRow)},inputs:{detail:[1,"detail"],hideLabel:[1,"hideLabel"],layout:[1,"layout"],labelWidth:[1,"labelWidth"]},outputs:{detail:"detailChange",commit:"commit"},decls:7,vars:3,consts:[[3,"detail","id","hideLabel","min-width"],[3,"detail"],[3,"detail","id"],[3,"detail","id","layout"],[3,"detail","id","hideLabel"],[3,"detailChange","commit","detail","id"],[3,"detailChange","commit","detail","id","layout"]],template:function(t,i){if(t&1&&(A(0),v(1,Ze,1,5,"bkd-subscription-detail-label",0)(2,et,1,1,"bkd-subscription-detail-heading",1)(3,tt,1,2,"bkd-subscription-detail-description",2)(4,it,1,2,"bkd-subscription-detail-combobox",2)(5,nt,1,3,"bkd-subscription-detail-listbox",3)(6,st,4,1)),t&2){let o;Ce(i.detail().Id+"-"+i.detail().IdPerson),m(),w(i.detail().VssStyle!=="HE"&&!i.hideLabel()?1:-1),m(),w((o=i.detail().VssStyle)==="HE"?2:o==="BE"?3:o==="CB"?4:o==="LB"?5:o==="TX"?6:-1)}},dependencies:[Ee,Ne,ke,qe,We,Pe,ze,Le,Ae],styles:["[_nghost-%COMP%]{display:flex;column-gap:1rem}"],changeDetection:0})}}return n})();export{Ei as a};
