import{e as Ue,f as Ve,o as S}from"./chunk-NC6UEGAF.js";import{f as Ne,g as je,j as He}from"./chunk-SL67CYEF.js";import{a as Me,h as Ge}from"./chunk-HQSONWXM.js";import{C as te,x as Oe,z as Be}from"./chunk-RXRYDGZR.js";import{$ as f,$a as _e,Eb as Pe,Ec as H,F as $,Fb as ke,Ga as ye,Gb as Le,H as N,Ia as j,K as pe,La as he,M as h,Mc as Re,Nb as l,Nc as ee,O as I,Ob as d,Oc as T,Od as G,P as X,Pa as g,Pb as M,Q as de,Rd as Ee,Sa as L,Sc as Fe,Sd as q,Ta as ge,X as _,Xa as b,Zc as we,_a as be,ab as c,bb as p,cb as Y,da as ue,ea as R,f as oe,fa as F,g as re,gb as U,gc as Ae,h as A,hc as $e,hd as v,ia as me,ib as w,jb as m,kb as xe,l as se,lb as Ce,mb as Te,n as r,nb as ve,o as ae,qc as V,r as ce,sb as Se,tb as Ie,ub as De,vb as u,wb as E,x as le,xa as fe,xb as C,ya as s,yb as Z}from"./chunk-NEW5VGRB.js";var qe=function(e){return function(i){return!e(i)}};var Mt=(()=>{class e{constructor(){this.http=f(V),this.settings=f(v)}editLessonPresences(t,n,o,a,x){let k={LessonIds:t,PersonIds:n};return o!==void 0&&(k.PresenceTypeId=o),a!==void 0&&(k.ConfirmationValue=a),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,k,x).pipe(r(()=>{}))}removeLessonPresences(t,n,o){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:t,PersonIds:n,WithComment:!0},o).pipe(r(()=>{}))}confirmLessonPresences(t,n,o,a){let x={LessonIds:t,PersonIds:n,AbsenceTypeId:o,ConfirmationValue:a};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,x).pipe(r(()=>{}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ke(e){return e.slice().sort((i,t)=>i.Sort-t.Sort)}function Bt(e){return e.map(i=>({Key:i.Id,Value:i.Designation||""}))}function Nt(e,i){return e.map(t=>Object.assign(t,{Group:i}))}var We=Fe({Id:ee,Active:T,Designation:we(Re),IsAbsence:T,IsComment:T,IsDispensation:T,IsIncident:T,IsHalfDay:T,NeedsConfirmation:T,Sort:ee});var Qe=(()=>{class e extends Me{constructor(){let t=f(V),n=f(v);super(t,n,We,"PresenceTypes")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ze=(()=>{class e{constructor(){this.restService=f(Qe),this.settings=f(v),this.presenceTypes$=this.loadPresenceTypes().pipe(h(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(r(this.filterActiveTypes.bind(this)),h(1)),this.confirmationTypes$=this.presenceTypes$.pipe(r(this.filterConfirmationTypes.bind(this)),h(1)),this.incidentTypes$=this.presenceTypes$.pipe(r(this.filterIncidentTypes.bind(this)),h(1)),this.displayedTypes$=this.presenceTypes$.pipe(r(this.filterDisplayedTypes.bind(this)),h(1)),this.halfDayActive$=this.presenceTypes$.pipe(r(this.isHalfDayActive.bind(this)),I(!1),N(),h(1))}getPresenceType(t){return this.presenceTypes$.pipe(r(n=>{let o=n.find(a=>a.Id===t);if(!o)throw new Error("presence type not found");return o}))}loadPresenceTypes(){return this.restService.getList().pipe(r(Ke))}filterActiveTypes(t){return t.filter(n=>n.Active)}filterConfirmationTypes(t){return t.filter(n=>n.NeedsConfirmation&&n.Active&&n.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(t){return t.filter(n=>n.IsIncident&&n.Active)}filterDisplayedTypes(t){return t.filter(n=>n.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(t){return!!t.find(n=>n.Id===this.settings.halfDayPresenceTypeId)?.Active}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function it(e){return!e}function ot(e){return!!(e&&e.IsComment)}function rt(e){return!!(e&&e.IsIncident)}function K(e){return!!(e&&(e.IsAbsence||e.IsDispensation||e.IsHalfDay))}function ne(e,i){return!!(e&&i&&e.Id===i.absencePresenceTypeId)}function ie(e,i){return!!(e&&i&&i===e.checkableAbsenceStateId)}function Je(e,i,t){return!!(it(i)&&e.ConfirmationStateId===null||ot(i)||rt(i)||K(i)&&e.ConfirmationStateId===t.unconfirmedAbsenceStateId||ie(t,e.ConfirmationStateId))}function rn(e,i){return e?.IsAbsence?i.unconfirmedAbsenceStateId:null}var y=function(e){return e.Present="present",e.Unapproved="unapproved",e.Absent="absent",e}(y||{});function st(e){switch(e){case y.Absent:return"cancel";case y.Unapproved:return"help";default:return"check_circle"}}var W=class{constructor(i,t,n,o){this.lessonPresence=i,this.presenceType=t,this.precedingAbsences=n,this.confirmationState=o,this.studentFullName=i.StudentFullName}get id(){return`${this.lessonPresence.LessonRef.Id}-${this.lessonPresence.StudentRef.Id}`}get presenceCategory(){return ie(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?y.Unapproved:K(this.presenceType)?y.Absent:y.Present}get nextPresenceCategory(){return this.presenceCategory===y.Absent?y.Present:y.Absent}getNextPresenceType(i){switch(this.nextPresenceCategory){case y.Absent:return this.presenceCategory===y.Unapproved?this.presenceType:i.find(t=>ne(t,this.settings))||null;default:return null}}get canChangePresenceType(){return Je(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!K(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===y.Absent&&!ne(this.presenceType,this.settings)||this.presenceCategory===y.Unapproved}get presenceCategoryIcon(){return st(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function Xe(e,i,t){let n=je(e,t?.in);return isNaN(i)?Ne(t?.in||e,NaN):(i&&n.setDate(n.getDate()+i),n)}function mn(e,i,t){return Xe(e,-i,t)}var P=class{constructor(i){if(this.absences=i,i.length===0)throw new Error("Absences array is empty");this.date=Ue(this.absences[0].LessonDateTimeFrom),this.dateString=S(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}get id(){return`${this.dateString}-${this.studentId}`}};function _n(e,i){return e===null&&i===null||e!==null&&i!==null&&e.LessonRef.Id===i.LessonRef.Id&&e.EventDesignation===i.EventDesignation&&e.StudyClassNumber===i.StudyClassNumber&&e.TeacherInformation===i.TeacherInformation&&e.LessonDateTimeFrom.getTime()===i.LessonDateTimeFrom.getTime()&&e.LessonDateTimeTo.getTime()===i.LessonDateTimeTo.getTime()}function at(e,i){return e?i.filter(t=>e.lessons.map(n=>n.LessonRef.Id).indexOf(t.LessonRef.Id)>=0).sort(pt):[]}function ct(e,i,t){return G(e.filter(n=>n.StudentRef.Id===i.StudentRef.Id&&n.LessonRef.From&&n.LessonRef.From.toDateString()===t?.LessonDateTimeFrom.toDateString()&&n.LessonRef.From<t?.LessonDateTimeFrom),"Id").sort(dt)}function xn(e,i,t,n,o){return at(e,i).map(a=>lt(e,a,t,n,o))}function lt(e,i,t,n,o){let a=null;i.TypeRef.Id&&(a=t.find(J=>J.Id===i.TypeRef.Id)||null);let x=ct(o,i,e),k;return i.ConfirmationStateId&&(k=n.find(J=>J.Key===i.ConfirmationStateId)),new W(i,a,x,k)}function Ye(e,i){let t=e.LessonDateTimeFrom.getTime(),n=i.LessonDateTimeFrom.getTime();return t-n===0?e.LessonDateTimeTo.getTime()-i.LessonDateTimeTo.getTime():t-n}function pt(e,i){return e.StudentFullName.localeCompare(i.StudentFullName)}function dt(e,i){return e.LessonRef.From&&e.LessonRef.To&&i.LessonRef.From&&i.LessonRef.To?e.LessonRef.From.getTime()-i.LessonRef.From.getTime()===0?e.LessonRef.To.getTime()-i.LessonRef.To.getTime():e.LessonRef.From.getTime()-i.LessonRef.From.getTime():0}var Q=class extends Error{constructor(i,t){super(`TypeScript thought we could never end up here
${t}`)}};function kn(e){let i=mt(e);return Object.keys(i).reduce((t,n)=>(Object.keys(i[n]).forEach(o=>{t=[...t,new P(i[n][o].sort(Ye))]}),t),[])}function Ln(e,i){return[...e].sort(ut(i))}function z(e){return e.reduce((i,t)=>i.concat(t.absences),[])}function An(e,i){return e.filter(t=>!i.some(({lessonIds:n,personId:o})=>n.includes(t.LessonRef.Id)&&o===t.StudentRef.Id))}function $n(e,i){return G([...e,...i],"Id")}function ut(e){return(i,t)=>{switch(e.primarySortKey){case"date":{let n=i.date.getTime(),o=t.date.getTime();return n===o?i.studentFullName.localeCompare(t.studentFullName):e.ascending?n-o:o-n}case"name":{let n=e.ascending?i.studentFullName.localeCompare(t.studentFullName):t.studentFullName.localeCompare(i.studentFullName);return n===0?t.date.getTime()-i.date.getTime():n}default:throw new Q(e.primarySortKey,"Unhandled sort criteria")}}}function mt(e){return e.reduce((i,t)=>{let n=S(t.LessonDateTimeFrom,"yyyy-MM-dd"),o=t.StudentRef.Id;return i[n]||(i[n]={}),i[n][o]||(i[n][o]=[]),i[n][o].push(t),i},{})}var O=function(e){return e.ToggleSelection="TOGGLE",e.ClearSelection="CLEAR",e}(O||{}),Ze=(()=>{class e{constructor(){this.action$=new oe,this.selection$=ce(this.action$.pipe(pe(this.reduceSelection.bind(this),[]),I([])),{connector:()=>new A(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(t){this.action$.next({type:O.ToggleSelection,payload:t})}clear(t=null){this.action$.next({type:O.ClearSelection,payload:t})}isSelected$(t){return this.selection$.pipe(r(n=>n.includes(t)),N())}reduceSelection(t,n){switch(n.type){case O.ToggleSelection:return t.includes(n.payload)?t.filter(o=>o!==n.payload):[...t,n.payload];case O.ClearSelection:return n.payload||[];default:return t}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac})}}return e})();function On(e){let i=e.reduce((t,n)=>(t[n.StudentRef.Id]||(t[n.StudentRef.Id]=[]),t[n.StudentRef.Id].push(n.LessonRef.Id),t),{});return Object.keys(i).map(t=>({personIds:[Number(t)],lessonIds:i[t]}))}function et(e){let i={};return e.forEach(t=>{i[t.StudentRef.Id]||(i[t.StudentRef.Id]={}),i[t.StudentRef.Id][String(t.TypeRef.Id)]||(i[t.StudentRef.Id][String(t.TypeRef.Id)]=[]),i[t.StudentRef.Id][String(t.TypeRef.Id)].push(t.LessonRef.Id)}),Object.keys(i).reduce((t,n)=>[...t,...Object.keys(i[n]).map(o=>({personId:Number(n),presenceTypeId:o==="null"?null:Number(o),lessonIds:i[n][String(o)]}))],[])}function Bn(e){return e.slice().sort((i,t)=>i.LessonDateTimeFrom.getTime()-t.LessonDateTimeFrom.getTime())}function Nn(e){return`${e.EventDesignation}, ${S(e.LessonDateTimeFrom,"dd.MM.yyyy")}, ${S(e.LessonDateTimeFrom,"HH:mm")}-${S(e.LessonDateTimeTo,"HH:mm")}`}var Xn=(()=>{class e extends Ze{constructor(){super(...arguments),this.settings=f(v),this.selectedIds$=this.selection$.pipe(r(B),r(({openAbsencesEntries:t,lessonPresences:n})=>et([...z(t),...n])),h(1)),this.selectedLessons$=this.selection$.pipe(r(B),r(({openAbsencesEntries:t,lessonPresences:n})=>[...z(t),...n]),h(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(r(B),r(({openAbsencesEntries:t,lessonPresences:n})=>[...z(t),...n].filter(o=>o.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe($(1),r(B)).subscribe(({openAbsencesEntries:t})=>this.clear(t))}clearNonLessonPresences(){this.selection$.pipe($(1),r(B)).subscribe(({lessonPresences:t})=>this.clear(t))}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=me(e)))(o||e)}})()}static{this.\u0275prov=_({token:e,factory:e.\u0275fac})}}return e})();function B(e){return{openAbsencesEntries:e.filter(te(P)),lessonPresences:e.filter(qe(te(P)))}}var tt=(()=>{class e{constructor(){this.translate=f(Ee)}transform(t){if(!t)return"";let n=Ve(t,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(n)}`,{count:Math.abs(n)})}getKey(t){return t===0?"today":t===1?"tomorrow":t===-1?"yesterday":t>0?"in":"ago"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=he({name:"bkdDaysDifference",type:e,pure:!0})}}return e})();function oi(e){return e.length===0}function nt(e){return Array.isArray(e)}var ft=["checkbox"],yt=(e,i)=>i.Id;function ht(e,i){e&1&&Y(0,"bkd-spinner",2)}function gt(e,i){if(e&1&&Y(0,"bkd-reports-link",13),e&2){let t=m(4);L("reports",t.reports)("disableIfUnavailable",!0)}}function bt(e,i){if(e&1&&(c(0,"a",14),l(1,"async"),c(2,"i",12),u(3,"mail"),p()()),e&2){let t=m(4);ve("href","mailto:",d(1,2,t.mailTo$),"",fe)}}function _t(e,i){if(e&1&&(c(0,"div",15),u(1),p()),e&2){let t=m(4);s(),C(" ",t.defaultAbsenceSelectionMessage," ")}}function xt(e,i){if(e&1){let t=U();c(0,"div",6),w("click",function(o){R(t);let a=De(3),x=m(3);return F(x.onRowClick(o,a))}),c(1,"div",7)(2,"input",8,0),l(4,"async"),w("change",function(o){R(t);let a=m(3);return F(a.toggleAll(o.target==null?null:o.target.checked))}),p()(),c(5,"div",9),u(6),l(7,"translate"),p(),c(8,"div",10)(9,"a",11),l(10,"async"),c(11,"i",12),u(12,"edit"),p()(),g(13,gt,1,2,"bkd-reports-link",13)(14,bt,4,4,"a",14),p(),g(15,_t,2,1,"div",15),l(16,"async"),p()}if(e&2){let t,n,o=m(3);s(2),L("checked",d(4,8,o.allSelected$)),s(4),E(d(7,10,"open-absences.detail.all")),s(3),ge("disabled",((t=d(10,12,o.selectionService==null?null:o.selectionService.selection$))==null?null:t.length)===0),Te("routerLink",o.confirmLink),s(4),b(o.reports?13:-1),s(),b(o.displayEmail?14:-1),s(),b(o.defaultAbsenceSelectionMessage&&((n=d(16,14,o.selectionService==null?null:o.selectionService.selectedWithoutPresenceType$))!=null&&n.length)?15:-1)}}function Ct(e,i){if(e&1){let t=U();c(0,"div",7)(1,"input",8,1),l(3,"async"),w("change",function(){R(t);let o=m().$implicit,a=m(3);return F(a.selectionService==null?null:a.selectionService.toggle(o))}),p()()}if(e&2){let t=m().$implicit,n=m(3);s(),L("checked",d(3,1,n.selectionService==null?null:n.selectionService.isSelected$(t)))}}function Tt(e,i){if(e&1&&u(0),e&2){let t=m().$implicit;C(" , ",t.StudyClassNumber," ")}}function vt(e,i){if(e&1&&(c(0,"div",20),u(1),p()),e&2){m();let t=Le(12);s(),C(" ",t," ")}}function St(e,i){e&1&&(c(0,"div",21),u(1),l(2,"translate"),p()),e&2&&(s(),C(" ",d(2,1,"my-absences.show.confirm-presence-type")," "))}function It(e,i){if(e&1){let t=U();c(0,"div",16),w("click",function(o){let a=R(t).$index,x=m(3);return F(x.onRowClick(o,a))}),g(1,Ct,4,3,"div",7),l(2,"async"),c(3,"div",17),u(4),g(5,Tt,1,1),p(),c(6,"div",18),u(7),l(8,"date"),l(9,"date"),p(),c(10,"div",19),u(11),p(),Pe(12),l(13,"async"),g(14,vt,2,1,"div",20)(15,St,3,3,"div",21),c(16,"div",22),u(17),l(18,"date"),p(),c(19,"div",23),u(20),l(21,"bkdDaysDifference"),p(),c(22,"div",24),u(23),l(24,"date"),l(25,"bkdDaysDifference"),p()()}if(e&2){let t=i.$implicit,n=m(3);s(),b(d(2,12,n.editable$)?1:-1),s(3),C(" ",t.EventDesignation," "),s(),b(t.StudyClassNumber?5:-1),s(2),Z(" ",M(8,14,t.LessonDateTimeFrom,"HH:mm"),"\u2013",M(9,17,t.LessonDateTimeTo,"HH:mm")," "),s(4),C(" ",t.TeacherInformation," "),s();let o=ke(d(13,20,n.getPresenceTypeDesignation(t)));s(2),b(o?14:-1),s(),b(n.displayPresenceType&&!o&&n.defaultAbsenceSelectionMessage?15:-1),s(2),C(" ",M(18,23,t.LessonDateTimeFrom,"dd.MM.yyyy")," "),s(3),C(" ",d(21,26,t.LessonDateTimeFrom)," "),s(3),Z(" ",M(24,28,t.LessonDateTimeFrom,"dd.MM.yyyy"),", ",d(25,31,t.LessonDateTimeFrom)," ")}}function Dt(e,i){if(e&1&&(g(0,xt,17,16,"div",4),l(1,"async"),be(2,It,26,33,"div",5,yt),l(4,"async")),e&2){let t=m(2);b(d(1,1,t.editable$)?0:-1),s(2),_e(d(4,3,t.lessonPresences$))}}function Pt(e,i){e&1&&(c(0,"p",3),u(1),l(2,"translate"),p()),e&2&&(s(),E(d(2,1,"shared.profile.no-absences")))}function kt(e,i){if(e&1&&(g(0,Dt,5,5),l(1,"async"),g(2,Pt,3,3,"p",3)),e&2){let t,n=m();b(((t=(t=d(1,1,n.lessonPresences$))==null?null:t.length)!==null&&t!==void 0?t:0)>0?0:2)}}var Ci=(()=>{class e{constructor(){this.presenceTypesService=f(ze),this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.checkboxes=ye("checkbox"),this.lessonPresences$$=new A(1),this.lessonPresences$=this.lessonPresences$$.pipe(de(),I(null),h(1)),this.loading$=this.lessonPresences$.pipe(r(Be(nt))),this.selectionService$=new A(1),this.editable$=this.selectionService$.pipe(r(()=>!0),I(!1)),this.displayPresenceType$=new re(!0),this.allSelected$=ae([this.lessonPresences$.pipe(le(Oe)),this.selectionService$.pipe(X(t=>t.selection$))]).pipe(r(([t,n])=>t.length===n.length))}ngOnChanges(t){t.absences$&&this.lessonPresences$$.next(t.absences$.currentValue),t.selectionService&&t.selectionService.currentValue&&(t.selectionService.currentValue.clear(),this.selectionService$.next(t.selectionService.currentValue)),t.displayPresenceType&&this.displayPresenceType$.next(t.displayPresenceType.currentValue)}toggleAll(t){t?this.lessonPresences$.pipe($(1)).subscribe(n=>this.selectionService?.clear(n)):this.selectionService?.clear()}onRowClick(t,n){let o=this.checkboxes();if(o.length===0)return;let a;typeof n=="number"?a=o[n].nativeElement:a=n,t.target!==a&&!t.target.closest(".buttons")&&a.click()}getPresenceTypeDesignation(t){return this.displayPresenceType$.pipe(X(n=>n?this.presenceTypesService.displayedTypes$:se([])),r(n=>t.TypeRef.Id&&n.find(o=>o.Id===t.TypeRef.Id)?.Designation||null))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(n,o){n&1&&Se(o.checkboxes,ft,5),n&2&&Ie()},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},features:[ue],decls:3,vars:3,consts:[["allCheckbox",""],["checkbox",""],[1,"inline","d-block","mb-3"],[1,"mx-3"],[1,"absence-all"],[1,"absence-entry"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],[1,"lesson-class"],[1,"time","pe-2"],[1,"teacher"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"]],template:function(n,o){n&1&&(g(0,ht,1,0,"bkd-spinner",2),l(1,"async"),g(2,kt,3,3)),n&2&&b(d(1,1,o.loading$)?0:2)},dependencies:[H,He,Ge,Ae,$e,q,tt],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media (max-width: 750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}}return e})();var Lt=["*"],Ii=(()=>{class e{constructor(){this.link=[]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},ngContentSelectors:Lt,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(n,o){n&1&&(xe(),c(0,"div",0)(1,"a",1)(2,"span",2),u(3,"arrow_back"),p(),c(4,"span",3),u(5),l(6,"translate"),p()(),Ce(7),p()),n&2&&(s(),L("routerLink",o.link)("queryParams",o.params),s(4),E(d(6,3,"global.back")))},dependencies:[H,q],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]})}}return e})();export{qe as a,Mt as b,Ke as c,Bt as d,Nt as e,ze as f,Xe as g,mn as h,ot as i,rt as j,K as k,Je as l,rn as m,y as n,st as o,W as p,_n as q,xn as r,lt as s,Ye as t,Q as u,kn as v,Ln as w,An as x,$n as y,Ze as z,On as A,Bn as B,Nn as C,Xn as D,tt as E,oi as F,Ci as G,Ii as H};
