import{f as We}from"./chunk-6LRQCBUO.js";import{a as Ve}from"./chunk-UOIIL2R2.js";import{e as He,f as Ge,p as I}from"./chunk-JE6RMKPQ.js";import{b as Me}from"./chunk-RXV77OBQ.js";import{a as qe}from"./chunk-YHCR7GAG.js";import{a as Ne,i as Ke}from"./chunk-QWYAXZZX.js";import{b as je,d as Ue,g as te}from"./chunk-DQAQYQ7K.js";import{A as S,H as Oe,P as G,i as V,u as H}from"./chunk-RYYQAFJB.js";import{$ as de,$b as U,$d as Ee,Ac as Ie,Bc as Pe,Cc as De,Dc as ke,Ec as Le,F as le,Fa as ue,Hb as b,Ib as X,Ja as me,Jb as C,Ka as fe,Lc as l,Mb as ge,Mc as d,Md as Fe,Nb as be,Nc as O,Nd as ee,O as R,Ob as T,Od as v,Pb as c,Q as A,Qb as p,Rb as Y,Sd as we,V as pe,X as h,Yc as Ae,Z as D,_ as J,bc as E,cb as he,dc as m,ec as Ce,fb as s,fc as xe,h as oe,ha as g,i as re,ie as Be,j as $,je as q,lc as _e,ma as f,mc as Te,nc as ve,o as se,pc as Se,rc as u,sa as F,sc as M,t as r,ta as w,tc as _,td as $e,u as ae,ub as j,uc as Z,ud as Re,xb as ye,z as ce}from"./chunk-CHBP6U4G.js";var Qe=function(e){return function(i){return!e(i)}};var Bt=(()=>{class e{constructor(){this.http=f(V),this.settings=f(S)}editLessonPresences(t,n,o,a,x){let L={LessonIds:t,PersonIds:n};return o!==void 0&&(L.PresenceTypeId=o),a!==void 0&&(L.ConfirmationValue=a),this.http.put(`${this.settings.apiUrl}/LessonPresences/Edit`,L,x).pipe(r(()=>{}))}removeLessonPresences(t,n,o){return this.http.put(`${this.settings.apiUrl}/LessonPresences/Reset`,{LessonIds:t,PersonIds:n,WithComment:!0},o).pipe(r(()=>{}))}confirmLessonPresences(t,n,o,a){let x={LessonIds:t,PersonIds:n,AbsenceTypeId:o,ConfirmationValue:a};return this.http.put(`${this.settings.apiUrl}/LessonAbsences/Confirm`,x).pipe(r(()=>{}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ze(e){return e.slice().sort((i,t)=>i.Sort-t.Sort)}function jt(e){return e.map(i=>({Key:i.Id,Value:i.Designation||""}))}function Ut(e,i){return e.map(t=>Object.assign(t,{Group:i}))}var Je=we({Id:ee,Active:v,Designation:Ee(Fe),IsAbsence:v,IsComment:v,IsDispensation:v,IsIncident:v,IsHalfDay:v,NeedsConfirmation:v,Sort:ee});var Xe=(()=>{class e extends Ne{constructor(){let t=f(V),n=f(S);super(t,n,Je,"PresenceTypes")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ye=(()=>{class e{constructor(){this.restService=f(Xe),this.settings=f(S),this.presenceTypes$=this.loadPresenceTypes().pipe(h(1)),this.activePresenceTypes$=this.presenceTypes$.pipe(r(this.filterActiveTypes.bind(this)),h(1)),this.confirmationTypes$=this.presenceTypes$.pipe(r(this.filterConfirmationTypes.bind(this)),h(1)),this.incidentTypes$=this.presenceTypes$.pipe(r(this.filterIncidentTypes.bind(this)),h(1)),this.displayedTypes$=this.presenceTypes$.pipe(r(this.filterDisplayedTypes.bind(this)),h(1)),this.halfDayActive$=this.presenceTypes$.pipe(r(this.isHalfDayActive.bind(this)),D(!1),A(),h(1))}getPresenceType(t){return this.presenceTypes$.pipe(r(n=>{let o=n.find(a=>a.Id===t);if(!o)throw new Error("presence type not found");return o}))}loadPresenceTypes(){return this.restService.getList().pipe(r(ze))}filterActiveTypes(t){return t.filter(n=>n.Active)}filterConfirmationTypes(t){return t.filter(n=>n.NeedsConfirmation&&n.Active&&n.Id!==this.settings.absencePresenceTypeId)}filterIncidentTypes(t){return t.filter(n=>n.IsIncident&&n.Active)}filterDisplayedTypes(t){return t.filter(n=>n.Id!==this.settings.absencePresenceTypeId)}isHalfDayActive(t){return!!t.find(n=>n.Id===this.settings.halfDayPresenceTypeId)?.Active}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rt(e){return!e}function st(e){return!!(e&&e.IsComment)}function at(e){return!!(e&&e.IsIncident)}function K(e){return!!(e&&(e.IsAbsence||e.IsDispensation||e.IsHalfDay))}function ne(e,i){return!!(e&&i&&e.Id===i.absencePresenceTypeId)}function ie(e,i){return!!(e&&i&&i===e.checkableAbsenceStateId)}function Ze(e,i,t){return!!(rt(i)&&e.ConfirmationStateId===null||st(i)||at(i)||K(i)&&e.ConfirmationStateId===t.unconfirmedAbsenceStateId||ie(t,e.ConfirmationStateId))}function an(e,i){return e?.IsAbsence?i.unconfirmedAbsenceStateId:null}var y=(function(e){return e.Present="present",e.Unapproved="unapproved",e.Absent="absent",e})(y||{});function ct(e){switch(e){case y.Absent:return"cancel";case y.Unapproved:return"help";default:return"check_circle"}}var W=class{constructor(i,t,n,o){this.lessonPresence=i,this.presenceType=t,this.precedingAbsences=n,this.confirmationState=o,this.studentFullName=i.StudentFullName}get id(){return`${this.lessonPresence.LessonRef.Id}-${this.lessonPresence.StudentRef.Id}`}get presenceCategory(){return ie(this.settings,this.confirmationState&&Number(this.confirmationState.Key))?y.Unapproved:K(this.presenceType)?y.Absent:y.Present}get nextPresenceCategory(){return this.presenceCategory===y.Absent?y.Present:y.Absent}getNextPresenceType(i){return this.nextPresenceCategory===y.Absent?this.presenceCategory===y.Unapproved?this.presenceType:i.find(t=>ne(t,this.settings))||null:null}get canChangePresenceType(){return Ze(this.lessonPresence,this.presenceType,this.settings)}get canChangeIncident(){return!K(this.presenceType)}get showDesignation(){return!this.canChangePresenceType||this.presenceCategory===y.Absent&&!ne(this.presenceType,this.settings)||this.presenceCategory===y.Unapproved}get presenceCategoryIcon(){return ct(this.presenceCategory)}get settings(){return window.schulverwaltung.settings}};function un(e,i,t){return Ve(e,-i,t)}var k=class{constructor(i){if(this.absences=i,i.length===0)throw new Error("Absences array is empty");this.date=He(this.absences[0].LessonDateTimeFrom),this.dateString=I(this.date,"yyyy-MM-dd"),this.studentId=this.absences[0].StudentRef.Id,this.studentFullName=this.absences[0].StudentFullName,this.studyClassNumber=this.absences[0].StudyClassNumber,this.lessonsCount=this.absences.length}get id(){return`${this.dateString}-${this.studentId}`}};function bn(e,i){return e===null&&i===null||e!==null&&i!==null&&e.LessonRef.Id===i.LessonRef.Id&&e.EventDesignation===i.EventDesignation&&e.StudyClassNumber===i.StudyClassNumber&&e.TeacherInformation===i.TeacherInformation&&e.LessonDateTimeFrom.getTime()===i.LessonDateTimeFrom.getTime()&&e.LessonDateTimeTo.getTime()===i.LessonDateTimeTo.getTime()}function lt(e,i){return e?i.filter(t=>e.lessons.map(n=>n.LessonRef.Id).indexOf(t.LessonRef.Id)>=0).sort(ut):[]}function pt(e,i,t){return G(e.filter(n=>n.StudentRef.Id===i.StudentRef.Id&&n.LessonRef.From&&n.LessonRef.From.toDateString()===t?.LessonDateTimeFrom.toDateString()&&n.LessonRef.From<t?.LessonDateTimeFrom),"Id").sort(mt)}function Cn(e,i,t,n,o){return lt(e,i).map(a=>dt(e,a,t,n,o))}function dt(e,i,t,n,o){let a=null;i.TypeRef.Id&&(a=t.find(z=>z.Id===i.TypeRef.Id)||null);let x=pt(o,i,e),L;return i.ConfirmationStateId&&(L=n.find(z=>z.Key===i.ConfirmationStateId)),new W(i,a,x,L)}function et(e,i){let t=e.LessonDateTimeFrom.getTime(),n=i.LessonDateTimeFrom.getTime();return t-n===0?e.LessonDateTimeTo.getTime()-i.LessonDateTimeTo.getTime():t-n}function ut(e,i){return e.StudentFullName.localeCompare(i.StudentFullName)}function mt(e,i){return e.LessonRef.From&&e.LessonRef.To&&i.LessonRef.From&&i.LessonRef.To?e.LessonRef.From.getTime()-i.LessonRef.From.getTime()===0?e.LessonRef.To.getTime()-i.LessonRef.To.getTime():e.LessonRef.From.getTime()-i.LessonRef.From.getTime():0}function Pn(e){let i=ht(e);return Object.keys(i).reduce((t,n)=>(Object.keys(i[n]).forEach(o=>{t=[...t,new k(i[n][o].sort(et))]}),t),[])}function Dn(e,i){return i?[...e].sort(ft(i)):e}function Q(e){return e.reduce((i,t)=>i.concat(t.absences),[])}function kn(e,i){return e.filter(t=>!i.some(({lessonIds:n,personId:o})=>n.includes(t.LessonRef.Id)&&o===t.StudentRef.Id))}function Ln(e,i){return G([...e,...i],"Id")}function ft(e){return(i,t)=>{switch(e.primarySortKey){case"date":{let n=i.date.getTime(),o=t.date.getTime();return n===o?i.studentFullName.localeCompare(t.studentFullName):e.ascending?n-o:o-n}case"name":{let n=e.ascending?i.studentFullName.localeCompare(t.studentFullName):t.studentFullName.localeCompare(i.studentFullName);return n===0?t.date.getTime()-i.date.getTime():n}default:throw new qe(e.primarySortKey,"Unhandled sort criteria")}}}function ht(e){return e.reduce((i,t)=>{let n=I(t.LessonDateTimeFrom,"yyyy-MM-dd"),o=t.StudentRef.Id;return i[n]||(i[n]={}),i[n][o]||(i[n][o]=[]),i[n][o].push(t),i},{})}var B=(function(e){return e.ToggleSelection="TOGGLE",e.ClearSelection="CLEAR",e})(B||{}),tt=(()=>{class e{constructor(){this.action$=new oe,this.selection$=ce(this.action$.pipe(pe(this.reduceSelection.bind(this),[]),D([])),{connector:()=>new $(1)}),this.selectionSub=this.selection$.connect()}ngOnDestroy(){this.selectionSub.unsubscribe()}toggle(t){this.action$.next({type:B.ToggleSelection,payload:t})}clear(t=null){this.action$.next({type:B.ClearSelection,payload:t})}isSelected$(t){return this.selection$.pipe(r(n=>n.includes(t)),A())}reduceSelection(t,n){switch(n.type){case B.ToggleSelection:return t.includes(n.payload)?t.filter(o=>o!==n.payload):[...t,n.payload];case B.ClearSelection:return n.payload||[];default:return t}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function En(e){let i=e.reduce((t,n)=>(t[n.StudentRef.Id]||(t[n.StudentRef.Id]=[]),t[n.StudentRef.Id].push(n.LessonRef.Id),t),{});return Object.keys(i).map(t=>({personIds:[Number(t)],lessonIds:i[t]}))}function nt(e){let i={};return e.forEach(t=>{i[t.StudentRef.Id]||(i[t.StudentRef.Id]={}),i[t.StudentRef.Id][String(t.TypeRef.Id)]||(i[t.StudentRef.Id][String(t.TypeRef.Id)]=[]),i[t.StudentRef.Id][String(t.TypeRef.Id)].push(t.LessonRef.Id)}),Object.keys(i).reduce((t,n)=>[...t,...Object.keys(i[n]).map(o=>({personId:Number(n),presenceTypeId:o==="null"?null:Number(o),lessonIds:i[n][String(o)]}))],[])}function Mn(e){return e.slice().sort((i,t)=>i.LessonDateTimeFrom.getTime()-t.LessonDateTimeFrom.getTime())}function On(e){return`${e.EventDesignation}, ${I(e.LessonDateTimeFrom,"dd.MM.yyyy")}, ${I(e.LessonDateTimeFrom,"HH:mm")}-${I(e.LessonDateTimeTo,"HH:mm")}`}var zn=(()=>{class e extends tt{constructor(){super(...arguments),this.settings=f(S),this.selectedIds$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>nt([...Q(t),...n])),h(1)),this.selectedLessons$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>[...Q(t),...n]),h(1)),this.selectedWithoutPresenceType$=this.selection$.pipe(r(N),r(({openAbsencesEntries:t,lessonPresences:n})=>[...Q(t),...n].filter(o=>o.TypeRef.Id===this.settings.absencePresenceTypeId)))}clearNonOpenAbsencesEntries(){this.selection$.pipe(R(1),r(N)).subscribe(({openAbsencesEntries:t})=>this.clear(t))}clearNonLessonPresences(){this.selection$.pipe(R(1),r(N)).subscribe(({lessonPresences:t})=>this.clear(t))}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=fe(e)))(o||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function N(e){return{openAbsencesEntries:e.filter(te(k)),lessonPresences:e.filter(Qe(te(k)))}}function Xn(e){return i=>e(...i)}var it=(()=>{class e{constructor(){this.translate=f(Be)}transform(t){if(!t)return"";let n=Ge(t,new Date);return this.translate.instant(`shared.daysDifference.${this.getKey(n)}`,{count:Math.abs(n)})}getKey(t){return t===0?"today":t===1?"tomorrow":t===-1?"yesterday":t>0?"in":"ago"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=ye({name:"bkdDaysDifference",type:e,pure:!0})}}return e})();function oi(e){return e.length===0}function ot(e){return Array.isArray(e)}var yt=["checkbox"],gt=(e,i)=>i.Id;function bt(e,i){e&1&&Y(0,"bkd-spinner",2)}function Ct(e,i){if(e&1&&Y(0,"bkd-reports-link",13),e&2){let t=m(4);T("reports",t.reports)("disableIfUnavailable",!0)}}function xt(e,i){if(e&1&&(c(0,"a",14),l(1,"async"),c(2,"i",12),u(3,"mail"),p()()),e&2){let t=m(4);T("href",Le("mailto:",d(1,2,t.mailTo$)),he)}}function _t(e,i){if(e&1&&(c(0,"div",15),u(1),p()),e&2){let t=m(4);s(),_(" ",t.defaultAbsenceSelectionMessage," ")}}function Tt(e,i){if(e&1){let t=U();c(0,"div",6),E("click",function(o){F(t);let a=ve(3),x=m(3);return w(x.onRowClick(o,a))}),c(1,"div",7)(2,"input",8,0),l(4,"async"),E("change",function(o){F(t);let a=m(3);return w(a.toggleAll(o.target==null?null:o.target.checked))}),p()(),c(5,"div",9),u(6),l(7,"translate"),p(),c(8,"div",10)(9,"a",11),l(10,"async"),c(11,"i",12),u(12,"edit"),p()(),b(13,Ct,1,2,"bkd-reports-link",13),b(14,xt,4,4,"a",14),p(),b(15,_t,2,1,"div",15),l(16,"async"),p()}if(e&2){let t,n,o=m(3);s(2),T("checked",d(4,9,o.allSelected$)),s(4),M(d(7,11,"open-absences.detail.all")),s(3),Se("disabled",((t=d(10,13,o.selectionService==null?null:o.selectionService.selection$))==null?null:t.length)===0),T("routerLink",ke(o.confirmLink)),s(4),C(o.reports?13:-1),s(),C(o.displayEmail?14:-1),s(),C(o.defaultAbsenceSelectionMessage&&((n=d(16,15,o.selectionService==null?null:o.selectionService.selectedWithoutPresenceType$))!=null&&n.length)?15:-1)}}function vt(e,i){if(e&1){let t=U();c(0,"div",7)(1,"input",8,1),l(3,"async"),E("change",function(){F(t);let o=m().$implicit,a=m(3);return w(a.selectionService==null?null:a.selectionService.toggle(o))}),p()()}if(e&2){let t=m().$implicit,n=m(3);s(),T("checked",d(3,1,n.selectionService==null?null:n.selectionService.isSelected$(t)))}}function St(e,i){if(e&1&&u(0),e&2){let t=m().$implicit;_(" , ",t.StudyClassNumber," ")}}function It(e,i){if(e&1&&(c(0,"div",20),u(1),p()),e&2){m();let t=De(12);s(),_(" ",t," ")}}function Pt(e,i){e&1&&(c(0,"div",21),u(1),l(2,"translate"),p()),e&2&&(s(),_(" ",d(2,1,"my-absences.show.confirm-presence-type")," "))}function Dt(e,i){if(e&1){let t=U();c(0,"div",16),E("click",function(o){let a=F(t).$index,x=m(3);return w(x.onRowClick(o,a))}),b(1,vt,4,3,"div",7),l(2,"async"),c(3,"div",17),u(4),b(5,St,1,1),p(),c(6,"div",18),u(7),l(8,"date"),l(9,"date"),p(),c(10,"div",19),u(11),p(),Ie(12),l(13,"async"),b(14,It,2,1,"div",20),b(15,Pt,3,3,"div",21),c(16,"div",22),u(17),l(18,"date"),p(),c(19,"div",23),u(20),l(21,"bkdDaysDifference"),p(),c(22,"div",24),u(23),l(24,"date"),l(25,"bkdDaysDifference"),p()()}if(e&2){let t=i.$implicit,n=m(3);s(),C(d(2,12,n.editable$)?1:-1),s(3),_(" ",t.EventDesignation," "),s(),C(t.StudyClassNumber?5:-1),s(2),Z(" ",O(8,14,t.LessonDateTimeFrom,"HH:mm"),"\u2013",O(9,17,t.LessonDateTimeTo,"HH:mm")," "),s(4),_(" ",t.TeacherInformation," "),s();let o=Pe(d(13,20,n.getPresenceTypeDesignation(t)));s(2),C(o?14:-1),s(),C(n.displayPresenceType&&!o&&n.defaultAbsenceSelectionMessage?15:-1),s(2),_(" ",O(18,23,t.LessonDateTimeFrom,"dd.MM.yyyy")," "),s(3),_(" ",d(21,26,t.LessonDateTimeFrom)," "),s(3),Z(" ",O(24,28,t.LessonDateTimeFrom,"dd.MM.yyyy"),", ",d(25,31,t.LessonDateTimeFrom)," ")}}function kt(e,i){if(e&1&&(b(0,Tt,17,17,"div",4),l(1,"async"),ge(2,Dt,26,33,"div",5,gt),l(4,"async")),e&2){let t=m(2);C(d(1,1,t.editable$)?0:-1),s(2),be(d(4,3,t.lessonPresences$))}}function Lt(e,i){e&1&&(c(0,"p",3),u(1),l(2,"translate"),p()),e&2&&(s(),M(d(2,1,"shared.profile.no-absences")))}function At(e,i){if(e&1&&(b(0,kt,5,5),l(1,"async"),X(2,Lt,3,3,"p",3)),e&2){let t,n=m();C((((t=d(1,1,n.lessonPresences$))==null?null:t.length)??0)>0?0:2)}}var _i=(()=>{class e{constructor(){this.presenceTypesService=f(Ye),this.selectionService=null,this.displayPresenceType=!0,this.defaultAbsenceSelectionMessage=null,this.reports=null,this.confirmLink="confirm",this.displayEmail=!1,this.checkboxes=Ae("checkbox"),this.lessonPresences$$=new $(1),this.lessonPresences$=this.lessonPresences$$.pipe(de(),D(null),h(1)),this.loading$=this.lessonPresences$.pipe(r(Ue(ot))),this.selectionService$=new $(1),this.editable$=this.selectionService$.pipe(r(()=>!0),D(!1)),this.displayPresenceType$=new re(!0),this.allSelected$=ae([this.lessonPresences$.pipe(le(je)),this.selectionService$.pipe(J(t=>t.selection$))]).pipe(r(([t,n])=>t.length===n.length))}ngOnChanges(t){t.absences$&&this.lessonPresences$$.next(t.absences$.currentValue),t.selectionService&&t.selectionService.currentValue&&(t.selectionService.currentValue.clear(),this.selectionService$.next(t.selectionService.currentValue)),t.displayPresenceType&&this.displayPresenceType$.next(t.displayPresenceType.currentValue)}toggleAll(t){t?this.lessonPresences$.pipe(R(1)).subscribe(n=>this.selectionService?.clear(n)):this.selectionService?.clear()}onRowClick(t,n){let o=this.checkboxes();if(o.length===0)return;let a;typeof n=="number"?a=o[n].nativeElement:a=n,t.target!==a&&!t.target.closest(".buttons")&&a.click()}getPresenceTypeDesignation(t){return this.displayPresenceType$.pipe(J(n=>n?this.presenceTypesService.displayedTypes$:se([])),r(n=>t.TypeRef.Id&&n.find(o=>o.Id===t.TypeRef.Id)?.Designation||null))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-student-dossier-absences"]],viewQuery:function(n,o){n&1&&_e(o.checkboxes,yt,5),n&2&&Te()},inputs:{absences$:"absences$",selectionService:"selectionService",displayPresenceType:"displayPresenceType",defaultAbsenceSelectionMessage:"defaultAbsenceSelectionMessage",reports:"reports",confirmLink:"confirmLink",displayEmail:"displayEmail",mailTo$:"mailTo$"},features:[me],decls:3,vars:3,consts:[["allCheckbox",""],["checkbox",""],[1,"inline","d-block","mb-3"],[1,"mx-3"],[1,"absence-all"],[1,"absence-entry"],[1,"absence-all",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"all"],[1,"buttons"],[1,"edit","btn","btn-primary","btn-icon","me-2",3,"routerLink"],[1,"material-icons"],[1,"me-2",3,"reports","disableIfUnavailable"],["target","_blank",1,"mail","btn","btn-primary","btn-icon","me-2",3,"href"],[1,"validation"],[1,"absence-entry",3,"click"],[1,"lesson-class"],[1,"time","pe-2"],[1,"teacher"],[1,"presence-type"],[1,"presence-type","confirm"],[1,"date"],[1,"days-ago"],[1,"date-days-ago"]],template:function(n,o){n&1&&(b(0,bt,1,0,"bkd-spinner",2),l(1,"async"),X(2,At,3,3)),n&2&&C(d(1,1,o.loading$)?0:2)},dependencies:[H,We,Ke,$e,Re,q,it],styles:['.absence-all[_ngcontent-%COMP%]{padding:0 0 .5rem 1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox all buttons" "validation validation validation";grid-template-columns:min-content 1fr min-content}.absence-entry[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #dee2e6;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type date days-ago";grid-template-columns:min-content 2fr 1fr 2fr}.absence-entry[_ngcontent-%COMP%]:first-child{padding-top:0}.absence-all[_ngcontent-%COMP%] + .absence-entry[_ngcontent-%COMP%]{padding-top:1rem}.checkbox[_ngcontent-%COMP%]{grid-area:checkbox;margin:0;padding:.3rem 1rem 0 0}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.buttons[_ngcontent-%COMP%]{grid-area:buttons;display:flex}.validation[_ngcontent-%COMP%]{grid-area:validation}.validation[_ngcontent-%COMP%], .presence-type.confirm[_ngcontent-%COMP%]{color:#ea161f}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{grid-area:time}.teacher[_ngcontent-%COMP%]{grid-area:teacher}.presence-type[_ngcontent-%COMP%]{color:#adb5bd;grid-area:presence-type}.date[_ngcontent-%COMP%]{grid-area:date}.days-ago[_ngcontent-%COMP%]{color:#adb5bd;grid-area:days-ago}.date-days-ago[_ngcontent-%COMP%]{grid-area:date-days-ago;display:none}@media(max-width:750px){.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox teacher" "checkbox date-days-ago" "checkbox time" "checkbox presence-type";grid-template-columns:min-content 1fr}.date-days-ago[_ngcontent-%COMP%]{display:block}.date[_ngcontent-%COMP%], .days-ago[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}}return e})();var $t=["*"],Ii=(()=>{class e{constructor(){this.link=[]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=j({type:e,selectors:[["bkd-backlink"]],inputs:{link:"link",params:"params"},ngContentSelectors:$t,decls:8,vars:5,consts:[[1,"d-flex","align-items-start","justify-content-between","w-100","mb-3"],[3,"routerLink","queryParams"],[1,"material-icons"],[1,"label"]],template:function(n,o){n&1&&(Ce(),c(0,"div",0)(1,"a",1)(2,"span",2),u(3,"arrow_back"),p(),c(4,"span",3),u(5),l(6,"translate"),p()(),xe(7),p()),n&2&&(s(),T("routerLink",o.link)("queryParams",o.params),s(4),M(d(6,3,"global.back")))},dependencies:[H,q],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:calc(var(--bs-body-font-size) * var(--bs-body-line-height))}a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus   .label[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ea161f}"]})}}return e})();var Ri=(()=>{class e{constructor(){this.sortCriteria=ue(null),this.sortCriteria$=Me(this.sortCriteria).pipe(A(Oe),h(1))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{Qe as a,Bt as b,ze as c,jt as d,Ut as e,Ye as f,un as g,st as h,at as i,K as j,Ze as k,an as l,y as m,ct as n,W as o,bn as p,Cn as q,dt as r,et as s,Pn as t,Dn as u,kn as v,Ln as w,tt as x,En as y,Mn as z,On as A,zn as B,Xn as C,it as D,oi as E,_i as F,Ii as G,Ri as H};
