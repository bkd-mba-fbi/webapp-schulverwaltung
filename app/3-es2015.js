(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3/ER":function(t,e,r){"use strict";(function(t){var n=r("Ju5/"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===i?n.a.Buffer:void 0,o=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=o?o(r):new t.constructor(r);return t.copy(n),n}}).call(this,r("3UD+")(t))},fhBx:function(t,e,r){"use strict";r.d(e,"a",function(){return lt}),r.d(e,"b",function(){return ht});var n=r("2Vo4"),i=r("XNiG"),a=r("VRyK"),c=r("itXk"),o=r("lJxs"),s=r("pLZG"),b=r("/uUt"),u=r("UXun"),j=r("CqXF"),f=r("Kqap"),p=r("Kj3r"),l=r("bOdf"),h=r("wO+i"),O=r("1G5W"),g=r("IzEk"),y=r("Muja"),d=r("oSzE"),v=r("Y7yP"),$=function(){try{var t=Object(v.a)(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),w=function(t,e,r){"__proto__"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},A=r("YHEm"),x=Object.prototype.hasOwnProperty,S=function(t,e,r){var n=t[e];x.call(t,e)&&Object(A.a)(n,r)&&(void 0!==r||e in t)||w(t,e,r)},F=function(t,e,r,n){var i=!r;r||(r={});for(var a=-1,c=e.length;++a<c;){var o=e[a],s=n?n(r[o],t[o],o,r,t):void 0;void 0===s&&(s=t[o]),i?w(r,o,s):S(r,o,s)}return r},m=r("mkut"),P=r("7gMY"),E=r("IzLi"),U=r("pyRK"),I=Object.prototype.hasOwnProperty,R=r("5WsY"),k=function(t){return Object(R.a)(t)?Object(P.a)(t,!0):function(t){if(!Object(E.a)(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Object(U.a)(t),r=[];for(var n in t)("constructor"!=n||!e&&I.call(t,n))&&r.push(n);return r}(t)},M=r("3/ER"),q=r("jN84"),B=r("tPH9"),L=r("U6JX"),V=Object(L.a)(Object.getPrototypeOf,Object),X=r("WJ6P"),C=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(B.a)(e,Object(q.a)(t)),t=V(t);return e}:X.a,D=r("TFwu"),J=r("25cm"),K=function(t){return Object(J.a)(t,k,C)},W=r("YM6B"),Y=Object.prototype.hasOwnProperty,z=r("Ce4a"),G=function(t){var e=new t.constructor(t.byteLength);return new z.a(e).set(new z.a(t)),e},N=/\w*$/,T=r("ylTp"),_=T.a?T.a.prototype:void 0,H=_?_.valueOf:void 0,Z=Object.create,Q=function(){function t(){}return function(e){if(!Object(E.a)(e))return{};if(Z)return Z(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),tt=r("/1FC"),et=r("WOAq"),rt=r("EUcb"),nt=r("ovuK"),it=r("xutz"),at=it.a&&it.a.isMap,ct=at?Object(nt.a)(at):function(t){return Object(rt.a)(t)&&"[object Map]"==Object(W.a)(t)},ot=it.a&&it.a.isSet,st=ot?Object(nt.a)(ot):function(t){return Object(rt.a)(t)&&"[object Set]"==Object(W.a)(t)},bt={};bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object DataView]"]=bt["[object Boolean]"]=bt["[object Date]"]=bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object Symbol]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Error]"]=bt["[object Function]"]=bt["[object WeakMap]"]=!1;var ut=function t(e,r,n,i,a,c){var o,s=1&r,b=2&r,u=4&r;if(n&&(o=a?n(e,i,a,c):n(e)),void 0!==o)return o;if(!Object(E.a)(e))return e;var j=Object(tt.a)(e);if(j){if(o=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Y.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!s)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,o)}else{var f=Object(W.a)(e),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(Object(et.a)(e))return Object(M.a)(e,s);if("[object Object]"==f||"[object Arguments]"==f||p&&!a){if(o=b||p?{}:function(t){return"function"!=typeof t.constructor||Object(U.a)(t)?{}:Q(V(t))}(e),!s)return b?function(t,e){return F(t,C(t),e)}(e,function(t,e){return t&&F(e,k(e),t)}(o,e)):function(t,e){return F(t,Object(q.a)(t),e)}(e,function(t,e){return t&&F(e,Object(m.a)(e),t)}(o,e))}else{if(!bt[f])return a?e:{};o=function(t,e,r){var n,i,a=t.constructor;switch(e){case"[object ArrayBuffer]":return G(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var r=e?G(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?G(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(i=new(n=t).constructor(n.source,N.exec(n))).lastIndex=n.lastIndex,i;case"[object Set]":return new a;case"[object Symbol]":return H?Object(H.call(t)):{}}}(e,f,s)}}c||(c=new d.a);var l=c.get(e);if(l)return l;c.set(e,o),st(e)?e.forEach(function(i){o.add(t(i,r,n,i,e,c))}):ct(e)&&e.forEach(function(i,a){o.set(a,t(i,r,n,a,e,c))});var h=j?void 0:(u?b?K:D.a:b?k:m.a)(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r););}(h||e,function(i,a){h&&(i=e[a=i]),S(o,a,t(i,r,n,a,e,c))}),o},jt=(r("CqUA"),r("Xr/R"),r("eB9A")),ft=r("AEFh"),pt=r("fXoL");const lt="page";let ht=(()=>{class t{constructor(t,e,r,g){this.location=t,this.loadingService=e,this.settings=r,this.loading$=this.loadingService.loading$,this.loadingPage$=this.loadingService.loading(lt),this.filter$=new n.a(this.getInitialFilter()),this.isFilterValid$=this.filter$.pipe(Object(o.a)(this.isValidFilter.bind(this))),this.validFilter$=this.filter$.pipe(Object(s.a)(this.isValidFilter.bind(this)),Object(b.a)(y.a),Object(u.a)(1)),this.sortingSubject$=new n.a(this.getInitialSorting()),this.sorting$=this.sortingSubject$.asObservable().pipe(Object(b.a)(y.a),Object(u.a)(1)),this.resetEntries$=new i.a,this.nextPage$=new i.a,this.page$=Object(a.a)(this.nextPage$.pipe(Object(j.a)("next")),Object(a.a)(this.resetEntries$,this.validFilter$,this.sorting$).pipe(Object(j.a)("reset"))).pipe(Object(f.a)((t,e)=>"next"===e?t+1:0,0)),this.offset$=this.page$.pipe(Object(o.a)(t=>t*this.settings.paginationLimit)),this.pageResult$=Object(c.a)([this.validFilter$,this.sorting$,this.offset$]).pipe(Object(p.a)(10),Object(l.a)(Object(jt.a)(this.loadEntries.bind(this))),Object(u.a)(1)),this.entries$=Object(a.a)(Object(a.a)(this.resetEntries$,this.validFilter$,this.sorting$).pipe(Object(j.a)({action:"reset"})),this.pageResult$.pipe(Object(o.a)(t=>0===t.offset?{action:"reset",entries:t.entries}:{action:"append",entries:t.entries}))).pipe(Object(f.a)(this.entriesActionReducer.bind(this),[]),Object(u.a)(1)),this.total$=this.pageResult$.pipe(Object(h.a)("total")),this.hasMore$=this.pageResult$.pipe(Object(o.a)(({offset:t,total:e})=>t<e-this.settings.paginationLimit)),this.queryParams$=this.filter$.pipe(Object(o.a)(this.buildParamsFromFilter.bind(this))),this.queryParamsString$=this.queryParams$.pipe(Object(o.a)(ft.c)),this.destroy$=new i.a,this.queryParamsString$.pipe(Object(O.a)(this.destroy$)).subscribe(t=>this.location.replaceState(g,t))}ngOnDestroy(){this.destroy$.next()}setFilter(t){this.filter$.next(ut(t,5))}setSorting(t){this.sortingSubject$.next(t)}toggleSorting(t){this.sorting$.pipe(Object(g.a)(1)).subscribe(e=>{this.sortingSubject$.next(e&&e.key===t?{key:t,ascending:!e.ascending}:{key:t,ascending:!0})})}nextPage(){this.hasMore$.pipe(Object(g.a)(1)).subscribe(t=>{t&&this.nextPage$.next()})}resetEntries(){this.resetEntries$.next()}getInitialSorting(){return null}entriesActionReducer(t,e){switch(e.action){case"append":return[...t,...e.entries];case"reset":return e.entries?e.entries:[];default:return t}}}return t.\u0275fac=function(t){pt.cc()},t.\u0275prov=pt.Ib({token:t,factory:t.\u0275fac}),t})()}}]);